webpackJsonp([3],{0:function(e,t,n){(function(e,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(){h(),fe.GetAllTags(!0),fe.GetCollectionsAllTags(!0);var n=z.getAllTags(fe.tags),o=z.getAllTags(fe.ctags),a=z.filter("daily",x.storage.unrdist),r=z.findUnReadbyTag("dr",x.storage.unrdist),s=z.findUnReadbyTag("important",x.storage.unrdist),l=z.filter("sunday",x.storage.unrdist),c=z.findUnReadbyTag("收件箱",x.storage.unrdist),d=[],p=[];try{d=z.getAllTags(z.getTagsbySlice(r).filter(function(e){return"dr"!=e})),p=z.getAllTags(z.getTagsbySlice(s).filter(function(e){return"important"!=e}))}catch(e){}o=o?[{name:"<全部列表>",value:"list",level:0,pid:0,id:0}].concat(o):[{name:"<全部列表>",value:"list",level:0,pid:0,id:0}],e.render(t.createElement(X.default,{lock:E.auth.lock,user:x.storage.simpread.user,tags:n,ctags:o,daily:a.length,sunday:l.length,inbox:c.length,dr:r.length,dr_tags:d,important:s.length,important_tags:p,unrdist:fe.list.length,archives:x.storage.unrdist.length-fe.list.length,onAction:function(e,t){return i(e,t)}}),$(".navigategp")[0])}function i(n,o){if(E.auth.lock&&("ctags"==n||"filter"==n&&["img","code","share","note","annoate"].includes(o)))return void m("filter"==n?o:"ctags");if(("ctags"==n||"filter"==n&&["img","code","share","note","annoate"].includes(o))&&g("filter"==n?o:"ctags"),!["tags","filter","ctags"].includes(n)||"root"!=o){var a=function(e){e&&(fe.list=z.filter("unarchive",x.storage.unrdist)),r(),s()},p=function(e,t){if("mini"==e)$(".navigategp").toggleClass("mini"),$(".listgroup").toggleClass("mini"),$(".previewgp").toggleClass("mini");else if("remove"==e&&"ctags"!=n)x.storage.UnRead(["string","number"].includes("undefined"==typeof t?"undefined":v(t))?"remove":"removes",t,function(e){a(e)});else if("remove"==e&&"ctags"==n)x.storage.Collections(["string","number"].includes("undefined"==typeof t?"undefined":v(t))?"remove":"removes",t,function(e){fe.collections=x.storage.collections,a(e)});else if("clear"==e&&"ctags"!=n){if("list"==n&&x.storage.UnRead("clear",void 0,function(e){e&&(new L.default).Render(0,"删除成功， 2 秒后页面会自动刷新。"),e&&setTimeout(function(){location.reload()},2e3)}),"list"!=n){var o=fe.list.filter(function(e){return u.findIndex(function(t){return t.idx==e.idx})==-1});x.storage.UnRead("change",o,function(e){a(e)})}}else if("archive"==e)t.archive=!0,x.storage.UnRead("update",t,function(e){a(e)});else if("unarchive"==e)t.archive=!1,x.storage.UnRead("update",t,function(e){a(e)});else if("archives"==e)x.storage.UnRead("all"==t?"archiveall":"archive",t,function(e){a(e)});else if("unarchives"==e)"all"==t?x.storage.unrdist.forEach(function(e){return e.archive=!1}):x.storage.unrdist.forEach(function(e){return t.includes(e.idx+"")&&(e.archive=!1)}),u=x.storage.unrdist,x.storage.UnRead("change",u,function(e){a(e)});else if("open"==e||"editor"==e)("open"==e||"editor"==e&&0==$(".annote[data-idx="+t.idx+"]").length)&&Q.Render(x.storage.option.unreader.mode,x.storage.option.unreader.autoiframe,t,function(e,t){if("lock"==t)return void m(e);if("tags"==t||"ctags"==t)i(t,e);else if("navigate"==t)fe.collections=e,r();else if("open_backlink"==t)if(0==$(".graph-group").length){if(0==$(".simpread-panel-gp").length){var n=z.findUnReadbyID(x.storage.unread.idx,x.storage.unrdist);c([n],"",x.storage.unread.title)}d({unread:x.storage.unread},{}),setTimeout(function(){return d({unread:e},{})},500)}else d({unread:e},{});else if("search_tag"==t){var o=z.findbyTag(e,x.storage.unrdist);c(o,"tag",e)}else"refresh"==t?r():$(".list")[0].dispatchEvent(new CustomEvent("refresh",{detail:e}))},"ctags"==n),"editor"==e&&setTimeout(function(){$(".list .list-field").removeClass("active"),$(".list .list-field[data-idx="+t.idx+"]").addClass("active"),Q.popupRender(t.idx,void 0,"unread")},200);else{if("refresh"==e)return x.storage.unread=t,void x.storage.UnRead("update",t,function(e){});if("navigate"==e)r(),Q.UpdateRead(x.storage.unread);else if("tags"==e||"ctags"==e)i(e,t);else if("label"==e)l(t.type,t.total);else{if("link"==e)return void k.browser.runtime.sendMessage(y.Add(y.MESSAGE_ACTION.new_tab,{url:"http://localhost:"+x.storage.option.remote.port+"/reading/"+t.idx+"?title="+t.title}));if("origin"==e)return void k.browser.runtime.sendMessage(y.Add(y.MESSAGE_ACTION.new_tab,{url:t.url}));if("panel"==e)return void("ctags"==n?(new L.default).Render(2,"合辑下无法使用此功能，请在标签下使用。"):c(u,"any",t||""))}}},u=[];u="list"==n?fe.list:"daily"==n?z.filter(n,x.storage.unrdist):"filter"==n?z.filter(o,x.storage.unrdist):"archive"==n?z.filter("archive",x.storage.unrdist):"ctags"==n?"list"==o?x.storage.collections:z.findCollectionbyTag(o,x.storage.collections):"share"==n?z.filter("share",x.storage.unrdist):"dr"==n?z.findUnReadbyTag("dr",x.storage.unrdist):"sunday"==n?z.filter("sunday",x.storage.unrdist):"inbox"==n?z.findUnReadbyTag("收件箱",x.storage.unrdist):"important"==n?z.findUnReadbyTag("important",x.storage.unrdist):z.findUnReadbyTag(o,x.storage.unrdist),$(".list").length>0&&$(".listgroup").removeClass("open"),setTimeout(function(){$(".list").remove(),$(".listgroup").off("scroll"),$(window).off("message"),e.render(t.createElement(K.default,{type:n,tag:"tags"==n?"#"+o:void 0,search:"root"==o?"":"#"+o,archive:"archive"==n,list:u,localfiles:me,showArchive:"ctags"!=n,onAction:function(e,t){return p(e,t)}}),$(".listgroup")[0]),$(".listgroup").addClass("open"),s()},300)}}function s(){0==$(".previewgp .container").length&&$(".previewgp").html('<div class="container"></div>'),0==$(".container").find(".cover").length?($(".container").append('<div class="cover"><img src="'+k.browser.runtime.getURL("unreader/assets/images/cover.svg")+'"/><span class="label">欢迎来到简悦的稍后读</span></div>'),$(".container").find(".embeder").length>0&&($(".container .embeder").addClass("hide"),$(".container .cover").addClass("add"),setTimeout(function(){return $(".container .cover").addClass("show")},10),setTimeout(function(){$(".container .cover").removeClass("add show"),$(".container .embeder").remove()},300))):$(".previewgp").addClass("open")}function l(e,t){var n=void 0;t<0&&(t=0),"list"==e?n=0==t?"完美，暂时没有任何未读列表":"共有 "+t+" 个未读条目":"archive"==e?n=0==t?"没有任何已归档条目":"共有 "+t+" 个已归档条目":"unarchive"==e?n=0==t?"没有任何未读列表":"共有 "+t+" 条未读条目":"all"==e?n=0==t?"没有任何已归档的列表":"共有 "+t+" 个条目":"tags"==e?n=0==t?"当前标签下没有任何列表":"共有 "+t+" 个条目":"select"==e?n=0==t?"没有任何已归档的列表":"共选择 "+t+" 个条目":"ctags"==e&&(n=0==t?"没有任何合辑":"共有 "+t+" 条合辑"),$(".container .cover .label").text(n).addClass("hidden"),setTimeout(function(){$(".container .cover .label").text(n).removeClass("hidden")},200)}function c(e,t,n){ie.Render(E.auth.lock,e,t,n,function(e,t,n){if("save"==e)x.storage.Write(function(){(new L.default).Render(0,"保存成功！")});else if("lock"==e)m("panel");else{if(E.auth.lock)return void m("panel");"evergreen"==x.storage.option.unreader.openmode&&d(t,n),"treenotes"==x.storage.option.unreader.openmode&&p(t,n,"open_all"==e),"kanbannotes"==x.storage.option.unreader.openmode&&u(t,n,"open_all"==e)}})}function d(e,t){if(E.auth.lock)return void m("evergreen notes");le.Lisen();var n=z.findUnReadbyID(e.unread.idx,x.storage.unrdist);le.Render(e,n,t,function(t,n){if("search_tag"==n){var o=z.findbyTag(t,x.storage.unrdist);c(o,"tag",t)}else"editor"==n?(Q.setUnrdist(),Q.popupRender(t,void 0,"annote")):"unread_editor"==n?(Q.setUnrdist(),Q.popupRender(e.unread.idx,void 0,"unread")):"exit"==n?Q.setUnrdist():n.startsWith("backlinks_")?(n=n.replace("backlinks_",""),E.auth.lock?m(n):ae.Render(x.storage.unread,t,n,function(e,t){"update"==e&&((new L.default).Render(1,"保存成功，此模式下建议刷新页面使其生效。"),fe.unread=t,x.storage.unread=t,Q.postMessage($.extend(!0,{},t)))})):"open_backlink"==n?d({unread:t},{}):"graphview"==n?ae.Graph(x.storage.unread,function(e,t){if("open_unread"==e)d({unread:t},{});else if("search_tag"==e){var n=z.findbyTag(t,x.storage.unrdist);c(n,"tag",t)}}):($(".list")[0].dispatchEvent(new CustomEvent("refresh",{detail:t})),$('.graph-view[data-idx="'+t.idx+'"]')[0].dispatchEvent(new CustomEvent("refresh",{detail:t})),$(".simpread-panel .results").length>0&&$(".simpread-panel .results")[0].dispatchEvent(new CustomEvent("refresh",{detail:t})))})}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(E.auth.lock)return void m("tree notes");fe.GetAllTags();var o=n?{idx:-1}:z.findUnReadbyID(e.unread.idx,x.storage.unrdist);de.Render(e,o,t,fe.tags,function(e,t){if("search_tag"==t){var n=z.findbyTag(e,x.storage.unrdist);c(n,"tag",e)}else"open_backlink"==t?p({unread:e},{},!1):t.startsWith("backlinks_")?(t=t.replace("backlinks_",""),E.auth.lock?m(t):ae.Render(e.unread,e.annote||e.unread,t,function(e,t){"update"==e&&((new L.default).Render(1,"保存成功，此模式下建议刷新页面使其生效。"),fe.unread=t,x.storage.unread=t,Q.postMessage($.extend(!0,{},t)))})):"graphview"==t?ae.Graph(x.storage.unread,function(e,t){if("open_unread"==e)p({unread:t},{},!1),setTimeout(function(){$(".treenotes-groups").animate({scrollTop:$(".treenotes-group[data-idx="+t.idx+"]").offset().top-51})},1e3);else if("search_tag"==e){var n=z.findbyTag(t,x.storage.unrdist);c(n,"tag",t)}}):($(".list")[0].dispatchEvent(new CustomEvent("refresh",{detail:e})),$('.graph-view[data-idx="'+e.idx+'"]').length>0&&$('.graph-view[data-idx="'+e.idx+'"]')[0].dispatchEvent(new CustomEvent("refresh",{detail:e})),$(".simpread-panel .results").length>0&&$(".simpread-panel .results")[0].dispatchEvent(new CustomEvent("refresh",{detail:e})),$('.annote[data-idx="'+e.idx+'"]').length>0&&$('.annote[data-idx="'+e.idx+'"]')[0].dispatchEvent(new CustomEvent("refresh",{detail:e})))},n)}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(E.auth.lock)return void m("kanban notes");fe.GetAllTags();var o=n?{idx:-1}:z.findUnReadbyID(e.unread.idx,x.storage.unrdist);ue.Render(e,o,t,fe.tags,function(e,t){if("search_tag"==t){var n=z.findbyTag(e,x.storage.unrdist);c(n,"tag",e)}else"unread_editor"==t?(Q.setUnrdist(),Q.popupRender(e.idx,void 0,"unread")):"editor"==t?(Q.setUnrdist(),Q.popupRender(e,void 0,"annote")):"open_backlink"==t?u({unread:e},{},!1):t.startsWith("backlinks_")?(t=t.replace("backlinks_",""),E.auth.lock?m(t):ae.Render(e.unread,e.annote||e.unread,t,function(e,t){"update"==e&&((new L.default).Render(1,"保存成功，此模式下建议刷新页面使其生效。"),fe.unread=t,x.storage.unread=t,Q.postMessage($.extend(!0,{},t)))})):"graphview"==t?ae.Graph(e.unread,function(e,t){if("open_unread"==e)u({unread:t},{},!1);else if("search_tag"==e){var n=z.findbyTag(t,x.storage.unrdist);c(n,"tag",t)}}):($(".list")[0].dispatchEvent(new CustomEvent("refresh",{detail:e})),$('.graph-view[data-idx="'+e.idx+'"]').length>0&&$('.graph-view[data-idx="'+e.idx+'"]')[0].dispatchEvent(new CustomEvent("refresh",{detail:e})),$(".simpread-panel .results").length>0&&$(".simpread-panel .results")[0].dispatchEvent(new CustomEvent("refresh",{detail:e})),$('.annote[data-idx="'+e.idx+'"]').length>0&&$('.annote[data-idx="'+e.idx+'"]')[0].dispatchEvent(new CustomEvent("refresh",{detail:e})))},n)}function f(){var e=JSON.parse(localStorage.getItem("simpread_unreader")||'{"popup":false,"size":{"w":1280,"h":800}}'),t='<div class="trigger">\n                    <div class="icon return md-waves-effect">\n                        <div class="hamburger hamburger--squeeze js-hamburger is-active"><div class="hamburger-box"><div class="hamburger-inner"></div></div></div>\n                    </div>\n                    <div class="icon setting md-waves-effect"><i class="fas fa-cog"></i></div>\n                    <div class="icon windows md-waves-effect"><i class="fas fa-window-restore"></i></div>\n                  </div>';$("body").append(t),$(".trigger .return").hover(function(){return $(".hamburger").removeClass("hamburger--squeeze").addClass("hamburger--arrow")},function(){return $(".hamburger").removeClass("hamburger--arrow").addClass("hamburger--squeeze")}).on("click",function(){location.href=location.origin+"/options/options.html"}),$(".trigger .setting").on("click",function(){fe.GetAllTags(),ne.Render(x.storage.option.unreader,x.storage.option.remote,function(e,t){return"lock"==e?void m("theme"):(x.storage.option.unreader=e,x.storage.option.remote=t,void x.storage.Write(function(){(new L.default).Render(0,"保存成功！")}))})}),$(".trigger .windows").on("click",function(){e.popup?(k.browser.tabs.create({url:k.browser.extension.getURL("unreader/main.html")}),k.browser.tabs.getCurrent(function(e){k.browser.tabs.remove(e.id)})):(k.browser.tabs.create({url:k.browser.extension.getURL("unreader/main.html?mode=popup"),active:!1},function(t){k.browser.windows.create({tabId:t.id,type:"popup",focused:!0,width:e.size.w,height:e.size.h})}),k.browser.tabs.getCurrent(function(e){k.browser.tabs.remove(e.id)})),e.popup=!e.popup,localStorage.setItem("simpread_unreader",JSON.stringify(e))}),location.search.includes("mode=popup")&&$(window).resize(function(t){e.size.w=window.outerWidth,e.size.h=window.outerHeight,localStorage.setItem("simpread_unreader",JSON.stringify(e))})}function m(e){Y.Render(!0,E.auth.token,function(e){})}function g(e){var t=function(e,t,n){B.Render(e,t,n,function(e){"contact"==e.type&&k.browser.runtime.sendMessage(y.Add(y.MESSAGE_ACTION.new_tab,{url:"https://wj.qq.com/s2/6361600/a19b/"}))})};return E.auth.lock?void t("lock",E.auth.lock_status,E.auth.code[E.auth.lock_status]):void k.browser.runtime.sendMessage(y.Add(y.MESSAGE_ACTION.verify_rule,{type:e,uid:x.storage.user.uid}),function(e){e&&(E.auth.lock=!0,E.auth.lock_status=e.status,t("lock",e.code,E.auth.code[e.status]))})}function b(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=$(e)[0],o=n.previousElementSibling,a=n.nextElementSibling,r=0,i=0,s=0,l=function(e){r=e.clientX,i=e.clientY,s=o.getBoundingClientRect().width,document.addEventListener("mousemove",c),document.addEventListener("mouseup",d)},c=function(e){var t=e.clientX-r,i=100*(s+t)/n.parentNode.getBoundingClientRect().width;n.style.cursor="col-resize",document.body.style.cursor="col-resize",o.style.width=i+"%",o.style.userSelect="none",o.style.pointerEvents="none",a.style.userSelect="none",a.style.pointerEvents="none"},d=function t(){n.style.removeProperty("cursor"),document.body.style.removeProperty("cursor"),o.style.removeProperty("user-select"),o.style.removeProperty("pointer-events"),a.style.removeProperty("user-select"),a.style.removeProperty("pointer-events"),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",t),setTimeout(function(){e.includes("navigategp")?localStorage.setItem("navigategp-width",$(".navigategp").width()):localStorage.setItem("listgroup-width",$(".listgroup").width()),p()},200)},p=function(e){var t=$(".navigategp").width();e=e||$(".listgroup").width();var n=".navigategp.mini {\n                    transform: translateX(-"+t+"px);\n                }\n                .navigategp.mini + .resizer {\n                    transform: translateX(-"+t+"px);\n                }\n                .listgroup.open {\n                    width: "+e+"px;\n                }\n                .listgroup.open.mini {\n                    transform: translateX(-"+t+"px);\n                }\n                .previewgp.open {\n                    left: "+(t+parseInt(e)+6)+"px;\n                }\n                .previewgp.open.mini {\n                    left: "+e+"px;\n                }";0==$("head .resizer").length?$("head").append('<style class="resizer">'+n+"</style>"):$("head .resizer").html(n)};(t&&localStorage.getItem("navigategp-width")||localStorage.getItem("listgroup-width"))&&(localStorage.getItem("navigategp-width")&&$(".navigategp").css("width",localStorage.getItem("navigategp-width")),setTimeout(function(){return p(localStorage.getItem("listgroup-width"))},500)),n.addEventListener("mousedown",l)}function h(){$.ajax({url:"http://localhost:"+x.storage.option.remote.port+"/reading/index"}).then(function(e){e&&e.files&&(me=e.files)},function(e,t,n){})}var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(50),n(63),n(682);var x=n(4),k=n(3),w=n(6),y=a(w),E=n(21),C=n(23),A=o(C),_=n(33),N=a(_),S=n(88),T=o(S),O=n(65),z=a(O),M=n(255),j=a(M),R=n(92),I=(o(R),n(17)),P=a(I),D=n(7),L=o(D),U=n(72),B=a(U),F=n(89),W=n(42),G=a(W),H=n(36),Y=a(H),q=n(365),X=o(q),V=n(364),K=o(V),J=n(367),Q=a(J),Z=n(373),ee=a(Z),te=n(371),ne=a(te),oe=n(119),ae=a(oe),re=n(366),ie=a(re),se=n(374),le=a(se),ce=n(376),de=a(ce),pe=n(375),ue=a(pe),fe=void 0,me=[];x.storage.Read(function(){fe=new T.default,b('.resizer[data-target="navigategp"]'),b('.resizer[data-target="listgroup"]',!1),r(),s(),A.default.RemoveDarkComp(),$("body").velocity({opacity:1},{duration:1e3,complete:function(){$("body").removeAttr("style"),f()}}),P.Render({root:"body"}),ee.Render(function(e){Q.Exports(e)}),j.Change("auto"==x.storage.option.darkmode&&A.default.isDarkmode()?"dark":x.storage.option.unreader.theme),1==x.storage.user.rule&&setTimeout(function(){F.promo.Rule("unreader")&&setTimeout(function(){return F.promo.Verify(function(){return F.promo.Render()})},2e3)},5e3),G.Render("body"),"auto"==x.storage.option.darkmode&&A.default.DarkdmodeEvent(function(e){j.Change(e.matches?"dark":x.storage.option.unreader.theme)}),N.Update("unreader"),k.browser.runtime.sendMessage(y.Add(y.MESSAGE_ACTION.track,{eventCategory:"unreader",eventAction:"openunreader",eventValue:"openunreader"}))})}).call(t,n(13),n(2))},21:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.auth=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(4),i=function(){function e(){o(this,e),this.uid=void 0,this.finger=void 0,this.getToken(),this.getLock()}return a(e,[{key:"setLock",value:function(e,t,n){var o=this;r.storage.Lock({lock:e,status:t},function(){o.lock=e,o.lock_status=t,n&&n()})}},{key:"getLock",value:function(e){var t=this;r.storage.Lock(void 0,function(n){t.lock=!n||n.lock,t.lock_status=n?n.status:void 0,e&&e()},"read")}},{key:"removeLock",value:function(){this.lock=!1,this.lock_status=void 0,r.storage.Lock(void 0,function(e){},"remove")}},{key:"setToken",value:function(e){this.token=e,r.storage.Token(this.token,function(e){})}},{key:"getToken",value:function(){var e=this;r.storage.Token(void 0,function(t){e.token=t},"read")}},{key:"removeToken",value:function(){this.token=void 0,r.storage.Token(this.token,function(e){},"remove")}},{key:"getFinger",value:function(e){var t=function(e){var t,n,o,a="";for(e+="",t=0,n=e.length;t<n;t++)o=e.charCodeAt(t).toString(16),a+=o.length<2?"0"+o:o;return a},n=function(e){var n=document.createElement("canvas"),o=n.getContext("2d"),a=e;o.textBaseline="top",o.font="14px 'Arial'",o.textBaseline="tencent",o.fillStyle="#f60",o.fillRect(125,1,62,20),o.fillStyle="#069",o.fillText(a,2,15),o.fillStyle="rgba(102, 204, 0, 0.7)",o.fillText(a,4,17);var r=n.toDataURL().replace("data:image/png;base64,",""),i=atob(r),s=t(i.slice(-16,-12));return s};e&&e(n("https://www.baidu.com/"))}},{key:"verifyHeader",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.uid?e?!(!n&&!this.token&&(t({code:403,status:-1010}),1)):(t({code:403,status:-1009}),!1):(t({code:403,status:-1008}),!1)}},{key:"registry",value:function(e){var t=this;this.getFinger(function(n){$.ajax({url:t.endpoint+"/invites/service/authentication/",method:"POST",headers:{finger:n,authentication:t.license,uid:t.uid}}).done(function(t,n,o){e(t)}).fail(function(t){e({code:-1,data:t})})})}},{key:"login",value:function(e){var t=this;this.getFinger(function(n){t.verifyHeader(n,e,!0)&&$.ajax({url:t.endpoint+"/accounts/service/login/",method:"POST",headers:{finger:n,token:t.token,uid:t.uid}}).done(function(t,n,o){e(t)}).fail(function(t){e({code:-1,data:t})})})}},{key:"logout",value:function(e){var t=this;this.getFinger(function(n){t.verifyHeader(n,e)&&$.ajax({url:t.endpoint+"/accounts/service/logout/",method:"POST",headers:{finger:n,token:t.token,uid:t.uid}}).done(function(t,n,o){e(t)}).fail(function(t){e({code:-1,data:t})})})}},{key:"verify",value:function(e){var t=this;this.getFinger(function(n){t.verifyHeader(n,e)&&$.ajax({url:t.endpoint+"/accounts/service/verify/",method:"POST",headers:{finger:n,token:t.token,uid:t.uid}}).done(function(t,n,o){e(t)}).fail(function(t){e({code:-1,data:t})})})}},{key:"reset",value:function(e,t){$.ajax({url:this.endpoint+"/accounts/service/reset/",method:"POST",data:{sn:e}}).done(function(e,n,o){t(e)}).fail(function(e){t({code:-1,data:e})})}},{key:"code",get:function(){return{verify:{"-1":"后台操作异常，请稍后再试。"},login:{"-1":"由于后台异常导致恢复购买失败，请稍后再试。"},logout:{"-1":"登出时出现错误，请稍候再试。"},401:"异常登录，请重新确认。","-1001":"一个账户仅能绑定一个密钥。","-1002":"非法登录，如果因为价格的因素，可以联系管理员。","-1003":"在相同时间内您登录了过多的浏览器，此账户已被锁定，请联系管理员解锁。","-1004":"非法验证，如果因为价格的因素，可以联系管理员。","-1005":"当前账户的权限存在异常，请联系管理员。","-1006":"异常退出，请确保此设备已登录。","-1007":"您使用此账户登录了过多的浏览器，请联系管理员或登出已登录的设备。","-1008":"当前设备出现了授权异常（尤其是刚付费且首次授权时），不要担心，请重启浏览器再重新授权即可。","-1009":"当前设备验证错误，请稍后再试，仍无法验证请联系管理员。","-1010":"当前设备未授权，如您是高级账户请通过恢复购买获取您的权益","-1011":"您还不是高级账户，请先购买高级账户资格"}}},{key:"endpoint",get:function(){return r.storage.service}}]),e}(),s=new i;t.auth=s},31:function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s="rgba(51, 51, 51, .87)",l="rgba(204, 204, 204, 1)",c="rgba(255, 64, 129, 1)",d="rgba(238, 238, 238, 1)",p="rgba(255, 255, 255, 1)",u=function(){var e="block",t="100px",n={hidden:"none",root:{},root_normal:{position:"relative",display:"flex",alignItems:"center",margin:0,padding:0,height:"36px",width:t,lineHeight:1,cursor:"pointer",userSelect:"none"},disable:{color:l,cursor:"not-allowed"},text:{display:e,margin:0,padding:"8px 24px 8px 0",width:"100%",textAlign:"left"},icon:{display:"block",position:"absolute",width:"24px",height:"24px",top:"6px",right:0,border:"none",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundImage:"url( data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAABqSURBVEiJ7dQxCsAgDIXhZ8ktgmetVw31GIF06lI0yeIWJyH4f4hgMzOcXNfRegEFFAAAoGA+ROR2A0STmftu7t5ARAYRTS+uqtt4CACAqvYVkomngBWSjQPxG/yR59tnz7X6rgso4DzwAnJQKlbAmFdgAAAAAElFTkSuQmCC)"},bg:{display:"none",position:"fixed",top:0,left:0,width:"100%",height:"100%"}};return n},f=function(){var e={hidden:"none",root:{},root_normal:{display:"block",position:"absolute",top:0,left:0,margin:0,padding:0,width:"100%",maxHeight:"300px",color:s,backgroundColor:p,boxSizing:"border-box",boxShadow:"0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2)",borderRadius:"2px",zIndex:2100,overflowY:"auto",opacity:0,transform:"scaleY(0)",transformOrigin:"left top 0px",transition:"transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms, opacity 1s cubic-bezier(0.23, 1, 0.32, 1) 0ms"},open:{opacity:1,transform:"scaleY(1)"},list_filed:{display:"flex",alignItems:"center",padding:"8px 24px 8px 16px",height:"36px",width:"100%",textAlign:"left",boxSizing:"border-box",transition:"all 1s cubic-bezier(0.23, 1, 0.32, 1) 0ms"},list_filed_icon:{display:"block",width:"18px",height:"18px",margin:"0 10px 0 0",padding:"10px",border:"none",backgroundPosition:"center",backgroundRepeat:"no-repeat"},list_filed_value:{display:"inline",width:"100%",fontSize:"inherit"},list_filed_info:{display:"inline",padding:"0 0 0 16px",fontSize:"13px",textAlign:"right",minWidth:"100px"}};return e},m=function(t){function s(){var e,t,a,r;n(this,s);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return t=a=o(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(l))),a.style=f(),r=t,o(a,r)}return a(s,t),i(s,[{key:"onMouseOver",value:function(e){var t=$(e.target);t.is("list-field")&&($("list-field[active=true]").css("background-color","transparent").attr("active",!1),t.attr("active",!0).css("background-color",d))}},{key:"onClick",value:function(e){for(var t=this,n=$(e.target);!n.is("list-field");)n=n.parent();setTimeout(function(){return t.props.onChange&&t.props.onChange(n.find("list-field-name").attr("value"),n.find("list-field-name").text())},130)}},{key:"render",value:function(){var t=this,n=r({},this.style);n.root=this.props.items.length>0?r({},n.root_normal,n.open):r({},n.root_normal);var o=this.props.items.map(function(o,a){var i=r({},n.list_filed_value),s=r({},n.list_filed_icon);return o.icon&&""!=o.icon?s.backgroundImage="url("+o.icon+")":s.display=n.hidden,o.name==t.props.active&&(i.color=c),o.style&&o.style.root&&(n.list_filed=r({},n.list_filed,o.style.root)),o.style&&o.style.icon&&(s=r({},s,o.style.icon)),o.style&&o.style.text&&(i=r({},i,o.style.text)),e.createElement("list-field",{class:t.props.waves,style:n.list_filed,onMouseOver:function(e){return t.onMouseOver(e)},onClick:function(e){return t.onClick(e)}},e.createElement("i",{style:s}),e.createElement("list-field-name",{style:i,value:o.value},o.name))});return e.createElement("list-view",{style:n.root},o)}}]),s}(e.Component);m.defaultProps={waves:"",items:[],active:""},m.propTypes={waves:e.PropTypes.string,items:e.PropTypes.array,active:e.PropTypes.string,onChange:e.PropTypes.func};var g=function(t){function s(){var e,t,a,r;n(this,s);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return t=a=o(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(l))),a.state={name:a.props.name},a.style=u(),r=t,o(a,r)}return a(s,t),i(s,[{key:"onClick",value:function(){!this.props.disable&&this.props.items.length>0&&this.setState({items:this.props.items}),!this.props.disable&&this.props.items.length>0&&$(this.refs.bg).css("display","block")}},{key:"bgOnClick",value:function(){$(this.refs.bg).css("display","none"),this.setState({items:[]})}},{key:"onChange",value:function(e,t){this.props.onChange&&this.props.onChange(e,t),this.setState({items:[],name:t}),$(this.refs.bg).css("display","none")}},{key:"render",value:function(){var t=this,n=function(e){return e.sort(function(e,t){return t.name.length-e.name.length}),12*e[0].name.length},o=r({},this.style);if(o.root=this.props.disable?r({},o.root_normal,o.disable):r({},o.root_normal),this.props.disable&&(o.border=r({},o.border,o.border_disable)),this.props.width)o.root.width=this.props.width;else{var a=n(this.props.items)+40;a>=100&&(o.root.width=a+"px")}return e.createElement("dropdown",{style:o.root},e.createElement("span",{style:o.text,onClick:function(){return t.onClick()}},""==this.state.name?this.props.name:this.state.name),e.createElement("icon",{style:o.icon}),e.createElement(m,{waves:this.props.waves,active:this.state.name,items:this.state.items,onChange:function(e,n){return t.onChange(e,n)}}),e.createElement("list-bg",{ref:"bg",style:o.bg,onClick:function(){return t.bgOnClick()}}))}}]),s}(e.Component);g.defaultProps={name:"",disable:!1,width:void 0,items:[],waves:""},g.propTypes={name:e.PropTypes.string,disable:e.PropTypes.bool,width:e.PropTypes.string,items:e.PropTypes.array,waves:e.PropTypes.string,onChange:e.PropTypes.func},t.default=g}).call(t,n(2))},32:function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s="rgba(51, 51, 51, .87)",l="rgba(204, 204, 204, 1)",c="rgba(245, 245, 245, 1)",d="rgba(0, 137, 123, 1)",p="rgba(189, 189, 189, 1)",u="rgba(0, 137, 123, .5)",f=function(){var e={hidden:"none",root:{display:"flex",alignItems:"center",position:"relative",width:"100%",height:"37px",margin:"8px 0 0 0",padding:0,overflow:"visible"},large_height:"46px",enable:{color:s,cursor:"pointer"},disable:{color:l,cursor:"not-allowed"},label:{display:"block",width:"100%",fontFamily:"sans-serif",fontSize:"14px",fontWeight:400,userSelect:"none",pointerEvents:"none"},label_after:{textAlign:"right",order:2},label_before:{textAlign:"left",order:-1},range:{display:"block",position:"relative",float:"left",flexShrink:0,width:"36px",margin:"0 0 0 8px",padding:"4px 0px 6px 2px",transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms"},thumb:{},thumb_normal:{display:"block",position:"absolute",top:"1px",left:"0px",width:"20px",height:"20px",color:s,backgroundColor:c,boxShadow:"rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px",boxSizing:"border-box",borderRadius:"50%",transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms"},thumbed:{left:"100%",marginLeft:"-20px",backgroundColor:d},thumb_disable:{left:0,marginLeft:0,backgroundColor:l},track:{},track_normal:{display:"block",width:"100%",height:"14px",borderRadius:"30px",backgroundColor:p,transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms"},tracked:{backgroundColor:u},content:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"},subtitle:{display:"-webkit-box",flexShrink:2,WebkitLineClamp:1,"-webkit-box-orient":"vertical",overflow:"hidden",textOverflow:"ellipsis",textAlign:"left",color:"rgba( 51, 51, 51, .54 )"}};return e},m=function(t){function s(){var e,t,a,r;n(this,s);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return t=a=o(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(l))),a.state={checked:a.props.checked},a.style=f(),r=t,o(a,r)}return a(s,t),i(s,[{key:"onClick",value:function(){!this.props.disable&&this.setState({checked:!this.state.checked}),!this.props.disable&&this.props.onChange&&this.props.onChange(!this.state.checked)}},{key:"componentWillReceiveProps",value:function(e){this.setState({checked:e.checked})}},{key:"render",value:function(){var t=this,n=r({},this.style);this.props.thumbColor&&(n.thumb_normal.backgroundColor=this.props.thumbColor),this.props.thumbedColor&&(n.thumbed.backgroundColor=this.props.thumbedColor),this.props.trackColor&&(n.track_normal.backgroundColor=this.props.trackColor),
this.props.trackedColor&&(n.tracked.backgroundColor=this.props.trackedColor),this.state.checked?(n.thumb=r({},n.thumb_normal,n.thumbed),n.track=r({},n.track_normal,n.tracked)):(n.thumb=r({},n.thumb_normal),n.track=r({},n.track_normal)),this.props.disable?(n.root=r({},n.root,n.disable),n.thumb=r({},n.thumb,n.thumb_disable),n.track=r({},n.track_normal)):n.root=r({},n.root,n.enable),n.label="before"==this.props.order?r({},n.label,n.label_before):r({},n.label,n.label_after),""==this.props.label&&(n.label.display=n.hidden),this.props.width&&(n.root.width=this.props.width),this.props.desc&&(n.root.height=n.root.large_height);var o=this.props.tooltip;return e.createElement("switch",{style:n.root,"data-tooltip":o.text?o.text:this.props[o.target],"data-tooltip-position":o.position,"data-tooltip-delay":o.delay,onClick:function(){return t.onClick()}},e.createElement("content",{style:n.content},e.createElement("span",{style:n.label},this.props.label),e.createElement("subtitle",{style:n.subtitle},this.props.desc)),e.createElement("switch-rang",{style:n.range},e.createElement("thumb",{style:n.thumb,className:this.props.waves}),e.createElement("track",{style:n.track})))}}]),s}(e.Component);m.defaultProps={checked:!1,disable:!1,width:void 0,label:"",order:"before",thumbColor:void 0,thumbedColor:void 0,trackColor:void 0,trackedColor:void 0,desc:"",waves:"",tooltip:""},m.propTypes={checked:e.PropTypes.bool,disable:e.PropTypes.bool,width:e.PropTypes.string,label:e.PropTypes.string,order:e.PropTypes.string,thumbColor:e.PropTypes.string,thumbedColor:e.PropTypes.string,trackColor:e.PropTypes.string,trackedColor:e.PropTypes.string,desc:e.PropTypes.string,waves:e.PropTypes.string,tooltip:e.PropTypes.string,onChange:e.PropTypes.func},t.default=m}).call(t,n(2))},33:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=function(e){(new u.default).Render(o[e],"不再提示",function(){g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips_norepeat,{code:e}))})},n=function(e){g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips,{code:e}),function(n){n&&t(e)})},o={klGUASLasg:'检测到当前环境有代码段，请使用      <a target="blank" href="https://simpread.ksria.cn/plugins/details/klGUASLasg">代码增强插件</a> 辅助阅读',VQOZdNET2d:'检测到当前环境有大量的图片，可以使用 <a target="blank" href="https://simpread.ksria.cn/plugins/details/VQOZdNET2d">点击查看大图</a> 辅助阅读',DxlFcL52iy:'如果你想换个论坛类页面风格，可以使用 <a target="blank" href="https://simpread.ksria.cn/plugins/details/DxlFcL52iy">Materail Design 风格</a> 辅助阅读'};$("sr-read").find("pre").length>0&&e.findIndex(function(e){return"klGUASLasg"==e})==-1&&n("klGUASLasg"),$("sr-read").find("img").length>5&&e.findIndex(function(e){return"VQOZdNET2d"==e})==-1&&n("VQOZdNET2d"),"www.zhihu.com"==location.hostname&&location.pathname.startsWith("/question/")&&e.findIndex(function(e){return"DxlFcL52iy"==e})==-1&&n("DxlFcL52iy")}function i(e,t){"statistics"==e&&1==t.read?(new u.default).Render({content:"嗨，很高兴第一次使用简悦的阅读模式，建议看看新手帮助？",action:"我要看",cancel:"老司机",callback:function(e){"action"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.new_tab,{url:"http://ksria.com/simpread/guide/#readmode"})),"cancel"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips_norepeat,{code:"readmode"}))}}):"epub"==e?g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips,{code:e}),function(e){e&&(new u.default).Render({type:2,content:'嗨，简悦内置了 <a target="blank" href="http://ksria.com/simpread/docs/#/Sync?id=epub"><b>原生了 Epub 转换方式</b></a>，请升级为高级账户即刻拥有此功能。',action:"升级",cancel:"不再提示",state:"holdon",callback:function(e){"action"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.new_tab,{url:g.browser.extension.getURL("options/options.html#account?mode=upgrade")})),"cancel"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips_norepeat,{code:"epub"}))}})}):"enhance_epub"==e?g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips,{code:e}),function(e){e&&(new u.default).Render({type:2,content:'嗨，简悦 <b>高级账户</b> 内置了 <a target="blank" href="http://ksria.com/simpread/docs/#/Sync?id=epub"><b>原生了 Epub 转换方式</b></a>，有需要的话请前往开启此功能。',action:"开启",cancel:"不再提示",state:"holdon",callback:function(e){"action"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.new_tab,{url:g.browser.extension.getURL("options/options.html#connect?anchor=增强导出")})),"cancel"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips_norepeat,{code:"enhance_epub"}))}})}):"pdf"==e?g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips,{code:e}),function(e){e&&(new u.default).Render({type:2,content:'嗨，简悦内置了 <a target="blank" href="http://ksria.com/simpread/docs/#/Sync?id=pdf"><b>原生了 PDF 转换方式</b></a>，升级为高级账户即刻拥有此功能。',action:"升级",cancel:"不再提示",state:"holdon",callback:function(e){"action"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.new_tab,{url:g.browser.extension.getURL("options/options.html#account?mode=upgrade")})),"cancel"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips_norepeat,{code:"pdf"}))}})}):"enhance_pdf"==e?g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips,{code:e}),function(e){e&&(new u.default).Render({type:2,content:'嗨，简悦 <b>高级账户</b> 内置了 <a target="blank" href="http://ksria.com/simpread/docs/#/Sync?id=pdf"><b>原生了 PDF 转换方式</b></a> ，有需要的话请前往开启此功能。',action:"开启",cancel:"不再提示",state:"holdon",callback:function(e){"action"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.new_tab,{url:g.browser.extension.getURL("options/options.html#connect?anchor=增强导出")})),"cancel"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips_norepeat,{code:"enhance_pdf"}))}})}):"plain"==e?g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips,{code:e}),function(e){e&&(new u.default).Render({type:2,content:'嗨，简悦 2.1 增加了 <a target="blank" href="http://ksria.com/simpread/docs/#/Sync?id=导出服务"><b>增强导出功能</b></a> 可保存到本地任意位置，升级为高级账户即刻拥有此功能。',action:"升级",cancel:"不再提示",state:"holdon",callback:function(e){"action"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.new_tab,{url:g.browser.extension.getURL("options/options.html#account?mode=upgrade")})),"cancel"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips_norepeat,{code:"plain"}))}})}):"enhance_plain"==e?g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips,{code:e}),function(e){e&&(new u.default).Render({type:2,content:'嗨，简悦 <b>高级账户</b> 内置了 <a target="blank" href="http://ksria.com/simpread/docs/#/Sync?id=导出服务"><b>增强导出功能</b></a> 可保存到本地任意位置。',action:"开启",cancel:"不再提示",state:"holdon",callback:function(e){"action"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.new_tab,{url:g.browser.extension.getURL("options/options.html#connect?anchor=增强导出")})),"cancel"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips_norepeat,{code:"enhance_plain"}))}})}):"VQOZdNET2d_disable"==e?g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips,{code:e}),function(e){e&&(new u.default).Render({type:2,content:"嗨，当选择了 <b>浮动标注栏为点击打开</b> 时下无法使用 <b>点击查看大图</b> 插件。",cancel:"不再提示",state:"holdon",callback:function(e){"cancel"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips_norepeat,{code:"VQOZdNET2d_disable"}))}})}):"ctrl+c"==e?g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips,{code:e}),function(e){e&&(new u.default).Render({type:2,content:"嗨，在标注模式下，使用 <b>复制</b> 功能会有复制不完整的情况，建议退出标注模式（支持快捷键）后使用。",cancel:"不再提示",state:"holdon",callback:function(e){"cancel"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips_norepeat,{code:"ctrl+c"}))}})}):"annote_order"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips,{code:e}),function(e){e&&(new u.default).Render({type:2,content:"嗨，简悦 2.2 新增了 <b>标注自动排序</b> 功能。",cancel:"不再提示",action:"更改",callback:function(e){"action"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.new_tab,{url:g.browser.extension.getURL("options/options.html#labs?anchor=标注")})),"cancel"==e&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips_norepeat,{code:"annote_order"}))}})})}function s(e){!b&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips,{code:"unreader"}),function(t){t&&(new u.default).Render({content:"嗨，欢迎使用 <b>全新的标注及稍后读</b> 系统，建议看看新手帮助？",action:"我要看",cancel:"老司机",callback:function(t){"action"==t&&e&&e(),g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips_norepeat,{code:"unreader"})),b=!1}})}),b=!0}function l(e){var t=function(e){g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips,{code:e,type:"pre-version"}),function(t){t.version&&t.tips&&o(t.version,e)})},n={"2.1.0":{annote:'嗨，<a target="blank" href="https://simpread.pro/welcome/version_2.2.0.html"><b>简悦 2.2.0 ↗</b></a> 标注多种更新，包括：自动排序，浮动工具栏显示方式可更改，可同时导出标注 + 全文等，更多细节 <a target="blank" href="https://simpread.pro/welcome/version_2.2.0.html#annote"><b>请看这里</b></a>。',fap:'嗨，<a target="blank" href="https://simpread.pro/welcome/version_2.2.0.html"><b>简悦 2.2.0 ↗</b></a> 全新的 <b>浮动控制面板</b>：布局更合理，功能更集中，更适合新手用户。</br>可随时切换到 <b>旧版模式</b>（选项页 → 高级设定 → 阅读模式 ）',unreader:'嗨，<a target="blank" href="https://simpread.pro/welcome/version_2.2.0.html"><b>简悦 2.2.0 ↗</b></a> 稍后读大更新，包括：反向链接，知识图谱，Mindmap 查看，离线功能等，更多细节 <a target="blank" href="https://simpread.pro/welcome/version_2.2.0.html#unreader"><b>请看这里</b></a>。',sync:'嗨，<a target="blank" href="https://simpread.pro/welcome/version_2.2.0.html"><b>简悦 2.2.0 ↗</b></a> 同步助手更新，包括：优化扩展端读取速度，读取离线文件，修改 PDF 图片无法显示的问题，Dock 栏图标可隐藏等，更多细节 <a target="blank" href="https://simpread.pro/welcome/version_2.2.0.html#sync"><b>请看这里</b></a>。<br>请使用同步助手的用户 <b>务必更新</b>，<a target="blank" href="http://ksria.com/simpread/docs/#/Sync?id=下载"><b>下载地址 ↗</b>。',option:"<b>全新的选项页</b>，包括：</br>1. <b>导入/导出与同步助手相关的配置文件</b> 放在一处。</br>2. 全新的 <b>服务标签页</b>。</br>3. 除了左侧导航外，还加入了 <b>右侧目录</b> 导航功能。",labs:'<b>简悦 2.2.0 </b> 新增如下功能：</br>1. <b>自动聚焦模式</b>。</br>2. <b>自动暗色模式</b>。</br>3. <b>任意内容生成阅读模式</b>。</br>4. 更易用的 <b>标注</b>，详细说明 <a target="blank" href="https://simpread.pro/welcome/version_2.2.0.html#annote"><b>请看这里</b>。</br>5. 更易用的 <b>稍后读</b>，详细说明 <a target="blank" href="https://simpread.pro/welcome/version_2.2.0.html#unreader"><b>请看这里</b>。</br>6. 整理了 <b>黑名单 / 白名单 / 排除列表</b> 到全局。</br>请通过右侧目录跳转到相应功能。',connect:'全新的 <b>服务标签页</b>，管理简悦全部的导出服务，包括：<b>授权管理</b> · <b>同步助手的增强导出功能 / 发送邮件</b> · <b>定制化 Markdown</b> · <b>API</b> <b>Webhook</b> 等，关于这些功能 <a target="blank" href="http://ksria.com/simpread/docs/#/服务"><b>请看这里 ↗</b></a>。',account:'嗨，<a target="blank" href="https://simpread.pro/welcome/version_2.2.0.html"><b>简悦 2.2.0 ↗</b></a> 用户信息增加了 <b>修改功能</b>，适合 <a target="blank" href="https://github.com/Kenshin/simpread/discussions/1958"><b>找回 UID 后快速绑定 ↗</b></a>。</br>简悦增加了 <b>Newsletter</b>，包括：不定期会推送简悦的用法，版本更新等相关信息，请通过 <b>右侧目录订阅</b>。关于简悦更多的订阅渠道 <a target="blank" href="https://simpread.pro/subscribe"><b>请看这里 ↗</b></a>。'}},o=function(e,t){(new u.default).Render({type:1,content:n[e][t],action:"不再提示",state:"holdon",callback:function(n){"action"==n&&g.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.tips_norepeat,{code:e+"::"+t}))}})};t(e)}function c(e,t){var n=JSON.parse(localStorage["simpread-tips"]||"{}");t(!n[e])}function d(e){var t=JSON.parse(localStorage["simpread-tips"]||"{}");t[e]=!0,localStorage.setItem("simpread-tips",JSON.stringify(t))}Object.defineProperty(t,"__esModule",{value:!0}),t.Annotate=t.Update=t.Help=t.Done=t.Verify=t.Render=void 0;var p=n(7),u=a(p),f=n(6),m=o(f),g=n(3),b=!1;t.Render=r,t.Verify=c,t.Done=d,t.Help=i,t.Update=l,t.Annotate=s},36:function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(t,n,o){h.Popup(E)||t?h.Open(e.createElement(C,{onAction:function(e){return o(e)}}),y):h.Open(e.createElement(A,{token:n,onAction:function(e){return o(e)}}),y),$(".simpread-upgrade-root").on("click",function(e){e.target.className==y&&o("exit"),e.target.className==y&&h.Close()}),w.Render({root:".simpread-upgrade-root"})}Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(71),n(66),n(115);var d=n(9),p=a(d),u=n(3),f=n(6),m=a(f),g=n(4),b=n(30),h=a(b),v=n(10),x=o(v),k=n(17),w=a(k),y="simpread-upgrade-root",E="."+y,C=function(t){function n(){return r(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),c(n,[{key:"close",value:function(){$(".simpread-upgrade-root ").removeClass("open"),setTimeout(function(){return h.Close()},400)}},{key:"carousel",value:function(){$(".carousel.carousel-slider").carousel({fullWidth:!0}),setInterval(function(){return $(".carousel.carousel-slider").carousel("next")},5e3)}},{key:"onNavigateClick",value:function(e){$(".carousel.carousel-slider").carousel(e)}},{key:"onUnlockClick",value:function(){u.browser.runtime.sendMessage(m.Add(m.MESSAGE_ACTION.new_tab,{url:u.browser.extension.getURL("options/options.html#account?mode=upgrade")}))}},{key:"componentDidMount",value:function(){$(".simpread-upgrade-root ").addClass("mini"),setTimeout(function(){$(".simpread-upgrade-root ").addClass("open"),$(".simpread-upgrade-root .floating .billing").addClass("open")},400),this.carousel()}},{key:"render",value:function(){var t=this,n=location.href.startsWith("https")?"https://simpread-1254315611.file.myqcloud.com/static/welcome/":"http://sr.ksria.cn/";return e.createElement(h.Dialog,null,e.createElement(h.Content,null,e.createElement("sr-div",{class:"close"},e.createElement(x.default,{shape:"circle",width:"36px",color:"#fff",backgroundColor:"transparent",icon:p.IconPath("close_icon"),onClick:function(){return t.close()}})),e.createElement("sr-div",{class:"upgrade"},e.createElement("sr-div",{class:"carousels"},e.createElement("div",{className:"carousel carousel-slider","data-indicators":"true"},e.createElement("sr-div",{class:"carousel-item"},e.createElement("setion",null,e.createElement("img",{src:p.IconPath("welcome-2","webp")}),e.createElement("sr-div",{class:"descr"},"简悦 · 高级账户"))),e.createElement("sr-div",{class:"carousel-item"},e.createElement("setion",null,e.createElement("img",{src:n+"welcome-annoate-pro.webp"}),e.createElement("sr-div",{class:"descr"},"多种标注样式 · 标注拖拽排序"))),e.createElement("sr-div",{class:"carousel-item"},e.createElement("setion",null,e.createElement("img",{src:n+"welcome-unreader-backlinks.webp"}),e.createElement("sr-div",{class:"descr"},"稍后读 · 知识图谱"))),e.createElement("sr-div",{class:"carousel-item"},e.createElement("setion",null,e.createElement("img",{src:n+"welcome-automated.webp"}),e.createElement("sr-div",{class:"descr"},"自动化"))),e.createElement("sr-div",{class:"carousel-item"},e.createElement("setion",null,e.createElement("img",{src:n+"welcome-developer.webp"}),e.createElement("sr-div",{class:"descr"},"API & Webhooks"))),e.createElement("sr-div",{class:"carousel-item"},e.createElement("setion",null,e.createElement("img",{src:n+"welcome-synchelper.webp"}),e.createElement("sr-div",{class:"descr"},"同步助手"))),e.createElement("sr-div",{class:"carousel-item"},e.createElement("setion",null,e.createElement("img",{src:n+"welcome-synchronisation.webp"}),e.createElement("sr-div",{class:"descr"},"自动同步")))))),e.createElement("sr-div",{class:"floating"},e.createElement("sr-span",{class:"billing md-waves-effect",onClick:function(){return t.onUnlockClick()}},e.createElement("sr-span",null,"马上解锁您的权益"))),e.createElement("footer",null,e.createElement(x.default,{shape:"circle",width:"40px",color:"#fff",backgroundColor:"#4CAF50",icon:p.IconPath("prev_icon"),waves:"md-waves-effect md-waves-button",onClick:function(){return t.onNavigateClick("prev")}}),e.createElement(x.default,{shape:"circle",width:"40px",color:"#fff",backgroundColor:"#4CAF50",icon:p.IconPath("next_icon"),waves:"md-waves-effect md-waves-button",onClick:function(){return t.onNavigateClick("next")}}))))}}]),n}(e.Component),A=function(t){function n(){var e,t,o,a;r(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return t=o=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),o.state={base:void 0,pro:void 0,stores:void 0,price:void 0,sales:void 0,floating:void 0},a=t,i(o,a)}return s(n,t),c(n,[{key:"close",value:function(){$(".simpread-upgrade-root ").removeClass("open"),setTimeout(function(){return h.Close()},400)}},{key:"carousel",value:function(){$(".carousel.carousel-slider").carousel({fullWidth:!0}),setInterval(function(){return $(".carousel.carousel-slider").carousel("next")},1e4)}},{key:"onBillingClick",value:function(){$(".pro .pricecard")[0].scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}},{key:"parseFloating",value:function(t){var n=this;return!this.props.token&&e.createElement("div",{className:"floating"},e.createElement("span",{className:"billing md-waves-effect",onClick:function(){return n.onBillingClick()}},e.createElement("span",null,"马上升级"),e.createElement("span",{className:"sales"},e.createElement("span",{className:"rate"},"立省 "+(100-100*t.discountRate)+"%"),e.createElement("del",null,"¥ "+t.price),e.createElement("span",{className:"price"},"¥ "+parseInt(t.price*t.discountRate)))))}},{key:"parseSales",value:function(t){return e.createElement("span",{className:"discountrate"},e.createElement("span",{className:"rate"},"立省 "+(100-100*t)+"%"))}},{key:"parsePrice",value:function(t){return e.createElement("span",{className:"sales"},e.createElement("span",{className:"desc"},e.createElement("del",null,"¥ "+t.price)),e.createElement("span",{className:"price"},"¥ "+parseInt(t.price*t.discountRate)),e.createElement("span",{className:"countdown"},e.createElement("span",{className:"message"},t.countDown)))}},{key:"parseStore",value:function(t){return e.createElement("div",{className:"dropdown-price"},t.map(function(t){var n=t.tips&&e.createElement("span",{className:"tips"},t.tips);return e.createElement("a",{className:"store md-waves-effect",href:t.link,target:"_blank"},e.createElement("img",{className:"icon",src:t.icon}),e.createElement("span",{className:"names"},e.createElement("span",{className:"name"},t.site),e.createElement("span",{className:"des"},t.desc)),e.createElement("span",{className:"num"},t.price+" 起"," ",n),e.createElement("i",{className:"fas fa-sort-down"}))}))}},{key:"parseFeature",value:function(t){return e.createElement("div",{className:"features diff"},t.map(function(t){var n=t.items&&t.items.map(function(t){if(""==t)return e.createElement("div",{className:"feature empty"});var n=t.endsWith("::feature")?e.createElement("span",{className:"remark"},"即刻推出"):t.endsWith("::roadmap")?e.createElement("span",{className:"remark roadmap"},"马上到来"):void 0;return t=t.replace(/::\w+/gi,""),e.createElement("div",{className:"feature sub"},e.createElement("span",{className:"icon"}),e.createElement("span",{className:"label"},t,n))});return e.createElement("div",null,e.createElement("div",{className:"feature"},e.createElement("span",{className:"icon"},e.createElement("i",{className:"fas fa-"+t.icon})),e.createElement("span",{className:"label"},e.createElement("a",{className:t.link&&"active",href:t.link?t.link:"#",target:"_blank"},t.name))),n)}))}},{key:"getSales",value:function(){var e=this;$.ajax({url:this.props.endpoint+"/sales/service/get/",method:"POST"}).done(function(t,n,o){if(t&&201==t.code){$(".upgrade .features").removeClass("init").find(".loading").remove();var a=e.parseFeature(t.data.base),r=e.parseFeature(t.data.pro),i=e.parseStore(t.data.stores),s=e.parsePrice(t.data),l=e.parseSales(t.data.discountRate),c=e.parseFloating(t.data);e.setState({base:a,pro:r,stores:i,price:s,sales:l,floating:c})}else $(".upgrade .features").removeClass("init").addClass("error").html("<img src="+(location.origin+"/unreader/assets/images/404.svg")+"/>价格获取出现了些问题，稍后再试。")}).fail(function(e){})}},{key:"componentDidMount",value:function(){setTimeout(function(){return $(".simpread-upgrade-root ").addClass("open")},400),!this.props.token&&$(".simpread-upgrade-root dialog-content").on("scroll",function(){event.target.scrollTop>470?$(".simpread-upgrade-root .floating .billing").addClass("open"):$(".simpread-upgrade-root .floating .billing").removeClass("open")}),this.carousel(),this.getSales()}},{key:"render",value:function(){var t=this;return e.createElement(h.Dialog,null,e.createElement(h.Content,null,e.createElement("div",{className:"close"},e.createElement(x.default,{shape:"circle",width:"36px",color:"#fff",backgroundColor:"transparent",icon:p.IconPath("close_icon"),onClick:function(){return t.close()}})),e.createElement("div",{className:"upgrade"},e.createElement("div",{className:"head"},e.createElement("img",{src:u.browser.runtime.getURL("assets/images/icon128.png")}),e.createElement("span",{className:"title"},"简悦 · 高级账户"),!this.props.token&&e.createElement("span",{className:"desc"},"感谢简悦一路有你，从现在开始你可以升级到 ",e.createElement("b",null,"高级账户"),"，来支持我们的开发，以便获得更多的权益与功能。")),e.createElement("div",{className:"carousels"},e.createElement("div",{className:"carousel carousel-slider","data-indicators":"true"},e.createElement("div",{className:"carousel-item"},e.createElement("setion",null,e.createElement("img",{src:p.IconPath("welcome-2","webp")}),e.createElement("div",{className:"descr"},"简悦 · 高级账户"))),e.createElement("div",{className:"carousel-item"},e.createElement("setion",null,e.createElement("img",{src:"http://sr.ksria.cn/welcome-annoate-pro.webp"}),e.createElement("div",{className:"descr"},"多种标注样式 · 标注拖拽排序"))),e.createElement("div",{className:"carousel-item"},e.createElement("setion",null,e.createElement("img",{src:"http://sr.ksria.cn/welcome-unreader-collection.webp"}),e.createElement("div",{className:"descr"},"稍后读 · 合辑"))),e.createElement("div",{className:"carousel-item"},e.createElement("setion",null,e.createElement("img",{src:"http://sr.ksria.cn/welcome-unreader-share.webp"}),e.createElement("div",{className:"descr"},"稍后读 · 分享页"))))),e.createElement("div",{className:"features init"},e.createElement("div",{className:"loading"},e.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.loading}})),e.createElement("div",{className:"base","data-enable":void 0==this.props.token?"true":"false"},e.createElement("div",{className:"pricecard"},e.createElement("span",{className:"discountrate"}),e.createElement("span",{className:"mode"},"基础账户"),e.createElement("span",{className:"sales"},e.createElement("span",{className:"desc"},"¥ 0")),e.createElement("span",{className:"billing md-waves-effect"},"正在使用")),this.state.base),e.createElement("div",{className:"pro","data-enable":void 0!=this.props.token?"true":"false"},e.createElement("div",{className:"pricecard"},this.state.sales,e.createElement("span",{className:"mode"},"高级账户"),this.state.price,e.createElement("span",{className:"billing"},e.createElement("span",null,void 0!=this.props.token?"当前使用":"马上升级"),e.createElement("i",{className:"fas fa-sort-down"}),this.state.stores)),this.state.pro)),e.createElement("div",{className:"ticket"},e.createElement("span",{className:"line"}),e.createElement("div",{className:"notice"},"回报计划"),e.createElement("span",{className:"message"},"简悦从 1.0.3 版开始增加了捐助的入口，感谢每一位请我 ☕ 的朋友，在这里为每个捐助我的用户提供一个福利："),e.createElement("ul",{className:"content"},e.createElement("li",null,"只要你的捐助价格超过（含） 8 元，即可通过此 ",e.createElement("a",{href:"https://wj.qq.com/s2/6773645/5a87/",target:"_blank"},"联系方式")," 获得简悦的终身高级账户。"),e.createElement("li",null,"不满足上述条件且也请过 ☕ 的朋友，可以 ",e.createElement("a",{href:"https://wj.qq.com/s2/6773707/ddf0/",target:"_blank"},"以当前价格 50% 折扣")," 获得终身高级账户。"),e.createElement("li",null,"捐助功能将在简悦 2.0 版发布后下线，请勿再使用捐助方式。"))),e.createElement("div",{className:"ticket"},e.createElement("span",{className:"line"}),e.createElement("div",{className:"notice"},"用户权益"),e.createElement("ul",{className:"content"},e.createElement("li",null,"目前采用买断制，一次性付费后，即可获得简悦终身高级账户一枚。"),e.createElement("li",null,"可登录简悦的不同客户端，不限于扩展端，Web 端等。"),e.createElement("li",null,"可使用最多三台设备，同一账户不能在同一时间同时登录不同设备。"),e.createElement("li",null,"同一账户在同一时间同时登录不同设备的方式视为：非法登录，会锁定当前账户。 "))),e.createElement("div",{className:"ticket"},e.createElement("span",{className:"line"}),e.createElement("div",{className:"notice"},"购买须知"),e.createElement("ul",{className:"content"},e.createElement("li",null,"购买的兑换码只能兑换一次，兑换后即失效。同时兑换时对应的账户（即账户标识），则升级为高级账户，切勿丢失。"),e.createElement("li",null,"简悦从 2.0 版本开始增加了高级账户，但 1.0 版本的功能均永久免费使用。"),e.createElement("li",null,"我知道订阅制模式是维持独立开发者的最好办法，但我们认为不是什么产品都可以使用订阅制模式。"),e.createElement("li",null,"我希望我的产品依旧是简单的一次性付费制。"),e.createElement("li",null,"对于用户来说是一次性付费，但我们需要每年固定为服务器 / 域名等缴费。"),e.createElement("li",null,"为了让简悦持续的良性发展下去以及不想使用订阅制的前提，我们制定了一些不一样的定价规则（请看下方）。"))),e.createElement("div",{className:"ticket"},e.createElement("span",{className:"line"}),e.createElement("div",{className:"notice"},"已购必读"),e.createElement("ul",{className:"content"},e.createElement("li",null,"希望每个购买高级账户的朋友，请前往 ",e.createElement("a",{href:"http://ksria.com/simpread/docs/#/已购必读",target:"_blank"},"已购必读")," 仔细阅读。"),e.createElement("li",null,"购买后，可前往 ",e.createElement("a",{href:"http://ksria.com/simpread/docs/#/高级账户?id=如何绑定",target:"_blank"},"说明文档")," 获取绑定说明。"),e.createElement("li",null,"如果在绑定中出现无法绑定的情况，可前往 ",e.createElement("a",{href:"https://github.com/Kenshin/simpread/issues/908",target:"_blank"},"常见问题")," 查看。"),e.createElement("li",null,"授权当前设备后如何同步，请前往 ",e.createElement("a",{href:"https://github.com/Kenshin/simpread/issues/908",target:"_blank"},"#3/4")," 查看。"),e.createElement("li",null,"如果绑定后丢失 UID（配置文件），可前往 ",e.createElement("a",{href:"https://simpread.pro/code",target:"_blank"},"高级账户自助平台")," 找回。"),e.createElement("li",null,"通过腾讯问卷渠道购买的用户，可前往 ",e.createElement("a",{href:"https://simpread.pro/code",target:"_blank"},"兑换码申领平台")," 自助获取 License。"),e.createElement("li",null,"如果经常遇到 -1003 错误的话，可通过 ",e.createElement("a",{href:"http://ksria.com/simpread/docs/#/已购必读?id=同时开启多台设备被锁的解决办法",target:"_blank"},"此方式")," 解决。"))),e.createElement("div",{className:"ticket"},e.createElement("span",{className:"line"}),e.createElement("div",{className:"notice"},"定价规则"),e.createElement("ul",{className:"content"},e.createElement("li",null,"为了保障已购用户的权益，我们不会对简悦随意降价打折促销。"),e.createElement("li",null,"简悦的初始定价较低，但随着功能的增加，我们会增加它的定价，涨幅不定。"),e.createElement("li",null,"简悦的价格逐步恢复到原价后不再随意打折。"),e.createElement("li",null,"每年不超过 3次 的打折促销。"),e.createElement("li",null,"我们会不定期的进行微博等社交媒体的抽奖活动。"),e.createElement("li",null,"通过上述方式，希望给用户传达一个信息：",e.createElement("b",null,"无论什么时候，当前都是购买的最佳时期。")))),e.createElement("div",{className:"ticket"},e.createElement("span",{className:"line"}),e.createElement("div",{className:"last"},e.createElement("a",{href:"https://simpread.pro/privacy.html",target:"_blank"},"隐私策略"),e.createElement("a",{href:"https://simpread.pro/agreement.html",target:"_blank"},"用户条款"))))),this.state.floating)}}]),n}(e.Component);A.defaultProps={loading:'<svg version="1.1" id="L9" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 0 0" xml:space="preserve">\n                    <path fill="#333" d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50" transform="rotate(56.1481 50 50)">\n                        <animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="360 50 50" repeatCount="indefinite"></animateTransform>\n                    </path>\n                  </svg>',endpoint:g.storage.service},t.Render=l}).call(t,n(2))},37:function(e,t){"use strict";function n(){var e=void 0,t=$.Deferred(),n=function(t){e?(e.removeClass(i),$(t.target).addClass(i)):$(t.target).addClass(i),e=$(t.target)};return $("html").one("click",function(o){if(e)return $(o.target).removeClass(i),$("html").off("mousemove",n),e=void 0,t.resolve(o.target),!1}),$("html").one("keydown",function(t){if(27==t.keyCode&&e)return $("html").find("."+i).removeClass(i),$("html").off("mousemove",n),e=void 0,t.preventDefault(),!1}),$("html").on("mousemove",n),t}function o(e){var t=void 0,n=function(e){t?(t.removeClass(i),$(e.target).addClass(i)):$(e.target).addClass(i),t=$(e.target)},o=function(t){return e(t.target),!1};$("sr-rd-content").on("click",o),$("html").on("keydown",function(e){if(27==e.keyCode&&t)return $("sr-rd-content").find("."+i).removeClass(i),$("sr-rd-content").off("mousemove",n),$("sr-rd-content").off("click",o),t=void 0,e.preventDefault(),!1}),$("sr-rd-content").on("mousemove",n)}function a(){var e=$.Deferred();return $("html").one("mouseup",function(t){var n=void 0;window.getSelection?n=window.getSelection():document.selection&&(n=document.selection.createRange());var o=n;n.text&&(o=n.text),""!=o&&(o=""+o,window.getSelection().removeAllRanges(),e.resolve(o))}),e}function r(e){var t=$(e),n=$.Deferred(),o='<simpread-highlight>\n                        <sr-highlight-ctl class="add"><svg t="1560496884701" viewBox="0 0 1024 1024" version="1.1" width="15" height="15"><defs><style type="text/css"></style></defs><path d="M876.089 439.182h-291.271v-291.271c0-40.268-32.549-72.818-72.818-72.818s-72.818 32.549-72.818 72.818v291.271h-291.271c-40.268 0-72.818 32.549-72.818 72.818s32.549 72.818 72.818 72.818h291.271v291.271c0 40.268 32.549 72.818 72.818 72.818s72.818-32.549 72.818-72.818v-291.271h291.271c40.268 0 72.818-32.549 72.818-72.818s-32.549-72.818-72.818-72.818z" p-id="1998" fill="#ffffff"></path></svg></sr-highlight-ctl>\n                        <sr-highlight-ctl class="sub"><svg t="1560496679351" viewBox="0 0 1024 1024" version="1.1" width="15" height="15"><defs><style type="text/css"></style></defs><path d="M127.289058 490.154459l0 43.770899c0 32.338522 27.009144 57.108672 58.774615 58.734706 0 0 132.448568 13.021571 325.936327 13.021571s325.936327-13.021571 325.936327-13.021571c31.765471-1.626034 58.774615-26.396183 58.774615-58.734706l0-43.770899c0-32.338522-26.51591-57.068763-58.774615-58.734706 0 0-128.005372-12.005428-325.942467-12.005428s-325.930187 12.005428-325.930187 12.005428C153.804968 433.085696 127.289058 457.815937 127.289058 490.154459z" p-id="3204" fill="#ffffff"></path></svg></sr-highlight-ctl>\n                        <sr-highlight-ctl class="done"><svg t="1560496955945" viewBox="0 0 1024 1024" version="1.1" width="15" height="15"><defs><style type="text/css"></style></defs><path d="M416.832 798.08C400.64 798.08 384.512 791.872 372.16 779.52L119.424 525.76C94.784 500.992 94.784 460.8 119.424 436.032 144.128 411.264 184.128 411.264 208.768 436.032L416.832 644.928 814.4 245.76C839.04 220.928 879.04 220.928 903.744 245.76 928.384 270.528 928.384 310.656 903.744 335.424L461.504 779.52C449.152 791.872 432.96 798.08 416.832 798.08Z" p-id="1755" fill="#ffffff"></path></svg></sr-highlight-ctl>\n                        <sr-highlight-ctl class="none"><svg t="1560499513561" viewBox="0 0 1024 1024" version="1.1" width="15" height="15"><defs><style type="text/css"></style></defs><path d="M649.179 512l212.839-212.84c37.881-37.881 37.881-99.298 0-137.179s-99.298-37.881-137.179 0L512 374.821l-212.839-212.84c-37.881-37.881-99.298-37.881-137.179 0s-37.881 99.298 0 137.179L374.821 512 161.982 724.84c-37.881 37.881-37.881 99.297 0 137.179 18.94 18.94 43.765 28.41 68.589 28.41 24.825 0 49.649-9.47 68.589-28.41L512 649.179l212.839 212.84c18.94 18.94 43.765 28.41 68.589 28.41s49.649-9.47 68.59-28.41c37.881-37.882 37.881-99.298 0-137.179L649.179 512z" p-id="1990" fill="#ffffff"></path></svg></sr-highlight-ctl>\n                        <sr-highlight-ctl class="help"><svg t="1560573280563" viewBox="0 0 1024 1024" version="1.1" width="15" height="15"><defs><style type="text/css"></style></defs><path d="M512 958.326255c247.255337 0 447.696462-200.441125 447.696462-447.696462s-200.441125-447.696462-447.696462-447.696462-447.696462 200.441125-447.696462 447.696462S264.74364 958.326255 512 958.326255zM512 217.681788c35.32146 0 63.956637 28.635177 63.956637 63.956637 0 35.323507-28.635177 63.956637-63.956637 63.956637s-63.956637-28.633131-63.956637-63.956637C448.043363 246.316965 476.67854 217.681788 512 217.681788zM448.043363 510.629793c0-35.32146 28.635177-63.956637 63.956637-63.956637s63.956637 28.635177 63.956637 63.956637l0 223.848231c0 35.323507-28.635177 63.956637-63.956637 63.956637s-63.956637-28.633131-63.956637-63.956637L448.043363 510.629793z" p-id="1979" fill="#ffffff"></path></svg></sr-highlight-ctl>\n                  </simpread-highlight>';
return t.addClass("simpread-highlight-controlbar"),$("html").append(o),$("html").find("sr-highlight-ctl").on("click",function(e){var o=$(e.currentTarget).attr("class");if("add"==o)t.removeClass("simpread-highlight-controlbar"),t=t.parent(),t.addClass("simpread-highlight-controlbar");else if("sub"==o)t.removeClass("simpread-highlight-controlbar"),t=$(t.children()[0]),t.addClass("simpread-highlight-controlbar");else if("none"==o)t.removeClass("simpread-highlight-controlbar"),$("simpread-highlight").remove();else if("help"==o){var a=$('<a style="display:none" target="_blank" href="http://ksria.com/simpread/docs/#/手动框选"></a>').appendTo("body");a[0].click(),a.remove()}else t.removeClass("simpread-highlight-controlbar"),$("simpread-highlight").remove(),n.resolve(t[0])}),n}Object.defineProperty(t,"__esModule",{value:!0});var i="simpread-highlight-selector";t.Start=n,t.Multi=o,t.Annotate=a,t.Control=r},41:function(e,t,n){(function(e){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){_=e}function s(e){switch(e){case".":p();break;case",":g()}}function l(e){var t=$.Callbacks();t.add(e),k.default.bind("esc",function(e,n){v()?t.fire(n):h()?b():m()?f():"keyboard"==N?k.default.trigger(T):t.fire(n)})}function c(e){S.add(e);var t=new Map;Object.values(A.keyboard).forEach(function(e){Object.values(e).forEach(function(e){var n=e.kbd[0]+" "+e.kbd[1],o=function(o,a){var r=e.type.replace("_","");t.delete(n),t.set(n+" "+(a+1),e.type+A.shortcuts[r].name[a])};switch(t.set(n,e.type),e.type){case"fontfamily_":Array(5).fill(1).forEach(o);break;case"fontsize_":case"layout_":Array(3).fill(1).forEach(o);break;case"theme_next":t.delete(n),t.set(n+" right",e.type);break;case"theme_prev":t.delete(n),t.set(n+" left",e.type)}})}),k.default.bind([].concat(r(t.keys())),function(e,n){"keyboard"==N&&S.fire(t.get(n))})}function d(e,t){e.includes("-")||k.default.bind(e,t)}function p(){return m()?void f():(_.find("a").map(function(e,t){var n=j(e+"");$(t).addClass("sr-kbd-a").append("<sr-kbd id="+n+">"+n+"</sr-kbd>"),z.push(n.toLowerCase())}),void(z.length>0&&$("html").on("keypress",u)))}function u(t){var n=t.key.toUpperCase(),o=z.join("").match(new RegExp(n,"ig"));if("."!=n)if(o)if(1==o.length){var a=_.find("sr-kbd[id="+n+"]");if(a&&a.is("sr-kbd")){var r=a.parent()[0].href;r&&r.startsWith("http")&&w.browser.runtime.sendMessage(E.Add(E.MESSAGE_ACTION.new_tab,{url:r})),r&&r.startsWith("http")&&f()}}else!function(){(new e).Render("已缩小查询范围。"),z=[];var t=0;_.find("sr-kbd").map(function(e,o){if(o.id.includes(n)){var a=j(t+"");o.outerHTML="<sr-kbd id="+a+">"+a+"</sr-kbd>",z.push(a.toLowerCase()),t++}else $(o).remove()})}();else(new e).Render("当前已进入链接模式，如需其它操作，请使用 ESC 退出此模式。")}function f(){$("sr-kbd").remove(),_.find("a").removeClass("sr-kbd-a"),$("html").off("keypress",u),z=[]}function m(){return!!(_&&_.find($("sr-kbd")).length>0)}function g(){var e="";Object.keys(A.keyboard).forEach(function(t){var n="";Object.keys(A.keyboard[t]).forEach(function(e,o){var a=A.keyboard[t][e];n+='<kbd-map><kbd-name><kbd id="'+a.type+'">'+a.kbd+"</kbd></kbd-name><kbd-desc>"+a.desc+"</kbd-desc></kbd-map>"}),e+="<kbd-maps-group><kbd-maps-title>"+t+"</kbd-maps-title>"+n+"</kbd-maps-group>"});var t="\n    <kbd-mapping>\n        <kbd-map-title>快捷键一览</kbd-map-title>\n        <kbd-maps>\n            <kbd-maps-group>\n                <kbd-maps-title>全局</kbd-maps-title>\n                <kbd-map><kbd-name><kbd>esc</kbd></kbd-name><kbd-desc>退出当前模式</kbd-desc></kbd-map>\n                <kbd-map><kbd-name><kbd>←</kbd></kbd-name><kbd-desc>前一页</kbd-desc></kbd-map>\n                <kbd-map><kbd-name><kbd>→</kbd></kbd-name><kbd-desc>后一页</kbd-desc></kbd-map>\n            </kbd-maps-group>\n            <kbd-maps-group>\n                <kbd-maps-title>阅读模式</kbd-maps-title>\n                <kbd-map><kbd-name><kbd>sr</kbd></kbd-name><kbd-desc>快捷键开启/关闭条件</kbd-desc></kbd-map>\n                <kbd-map><kbd-name><kbd>,</kbd></kbd-name><kbd-desc>打开/关闭快捷键一览</kbd-desc></kbd-map>\n                <kbd-map><kbd-name><kbd>.</kbd></kbd-name><kbd-desc>打开当前页面的任意链接</kbd-desc></kbd-map>\n            </kbd-maps-group>\n            "+e+"\n        </kbd-maps>\n    </kbd-mapping>\n    ";h()?b():_.parent().append("<kbd-bg>"+t+"</kbd-bg>")}function b(){_.parent().find("kbd-bg").remove()}function h(){return $("kbd-bg").length>0}function v(){return $(".simpread-annote-popup-root").length>0}Object.defineProperty(t,"__esModule",{value:!0}),t.Bind=t.Listen=t.ListenESC=t.Render=void 0;var x=n(116),k=a(x),w=n(3),y=n(6),E=o(y),C=n(27),A=o(C),_=void 0,N="",S=$.Callbacks(),T="s r",O=[".",","];O.map(function(e){return T+" "+e}),k.default.bind(T,function(){0!=$("html").find(".simpread-read-root").length&&(""==N?(N="keyboard",(new e).Render({content:"已进入快捷键操作模式，请使用 sr 或点击右侧退出，帮助请按,",mode:"snackbar",action:"退出",callback:function(){k.default.trigger("s r")}})):(N="",(new e).Render({content:"已退出快捷键操作模式！",mode:"snackbar"}),$("notify").map(function(e,t){var n=$(t);n.find("notify-content").text().trim().startsWith("已进入快捷键操作模式")&&n.remove()})))}),k.default.bind(O,function(e,t){"keyboard"==N&&s(t)});var z=[],M=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],j=function(e){switch(!0){case e<26:return M[e];case e>=26&&e<=99:return M[e[0]]+M[e[1]];case e>99:return M[e[0]]+M[e[1]]+M[e[2]]}};t.Render=i,t.ListenESC=l,t.Listen=c,t.Bind=d}).call(t,n(7))},48:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,"notify-gp{font:300 14px -apple-system,PingFang SC,Microsoft Yahei,Lantinghei SC,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif;text-rendering:optimizelegibility;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;display:-webkit-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column nowrap;flex-flow:column;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;position:fixed;top:0;right:0;margin:0 15px 0 0;padding:0;text-transform:none;pointer-events:none}notify-gp notify{display:-webkit-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0;margin-top:15px;padding:14px 24px;min-width:288px;max-width:568px;min-height:48px;color:hsla(0,0%,100%,.9);background-color:#000;box-sizing:border-box;border-radius:4px;pointer-events:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0;-webkit-transform:scaleY(0);transform:scaleY(0);-webkit-transform-origin:left top 0;transform-origin:left top 0;-webkit-transition:all .45s cubic-bezier(.23,1,.32,1) 0ms,opacity 1s cubic-bezier(.23,1,.32,1) 0ms;transition:all .45s cubic-bezier(.23,1,.32,1) 0ms,opacity 1s cubic-bezier(.23,1,.32,1) 0ms;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}notify-gp notify-title{font-size:13px;font-weight:700}notify-gp notify-content{display:block;font-size:14px;font-weight:400;text-align:left;overflow:hidden}notify-gp notify-content a,notify-gp notify-content a:active,notify-gp notify-content a:link,notify-gp notify-content a:visited{margin:inherit;padding-bottom:5px;color:#fff;font-size:inherit;text-decoration:none;-webkit-transition:color .5s;transition:color .5s}notify-gp notify-content a:hover{margin:0;margin:initial;padding:0;padding:initial;color:inherit;font-size:inherit;text-decoration:none}notify-gp notify-i{display:none;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 10px 0 0;width:24px;height:24px;background-position:50%;background-repeat:no-repeat}notify-gp notify-action,notify-gp notify-cancel{display:none;margin:0 8px;max-width:80px;min-width:56px;height:36px;line-height:34px;color:#bb86fc;font-weight:500;font-size:inherit;text-transform:uppercase;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-transition:all .5s cubic-bezier(.23,1,.32,1) 0ms;transition:all .5s cubic-bezier(.23,1,.32,1) 0ms;cursor:pointer}notify-gp .notify-error notify-action,notify-gp .notify-error notify-cancel,notify-gp .notify-success notify-action,notify-gp .notify-success notify-cancel,notify-gp .notify-warning notify-action,notify-gp .notify-warning notify-cancel{color:#fff}notify-gp notify-action:active,notify-gp notify-cancel:active{border-radius:4px;background-color:rgba(98,0,238,.3)}notify-gp notify-cancel{margin:0}notify-gp notify-a{display:block;position:absolute;top:5px;right:5px;cursor:pointer}notify-gp notify-exit{display:none;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:5px;width:36px;height:36px;min-width:36px;min-height:36px;background-color:transparent;border-radius:50%;-webkit-transition:all .5s cubic-bezier(.23,1,.32,1) 0ms;transition:all .5s cubic-bezier(.23,1,.32,1) 0ms;cursor:pointer}notify-gp notify-exit:hover{background-color:hsla(0,0%,100%,.4)}notify-gp notify-exit:active{background-color:hsla(0,0%,100%,.2)}notify-gp notify-a notify-span{display:block;width:16px;height:16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABDklEQVQ4T6VT0VFCQQzcrQA7ECoRK1AqEDugA6ECsQPsADvgVSAlaAlWEGdvkjchczI45Osud9nc7m2IEmY2BfAEYA5A6xsARwAHAB8ktR6DeWNmKwAvXlSxY78i+RabEcDM9gAe/qoq+T3JhXINwDu/Xlgc1zYk13TOn+XZA4C7AvgN4LbkZgJYO+84O5C8N7Odi6n8O8llh+ZGAD3uO5LPDgIvzoDRbBDAV+dputBAXKNecQM5B9CefQlAj0JwVmdLdGSwHI1CFXEgOS8ihia1WRNRdpU9JwlatpWVc0gr3c0xu95IAfdPK2uoHkcrJxANkzTJdPKTf3ROchvJk2n0LxNPfV9vnDVEJ+P8C6jMhLeGEqMKAAAAAElFTkSuQmCC);opacity:.9}notify-gp notify-i.holdon{display:block;margin:0 0 0 24px;width:20px;height:20px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAQAAAAngNWGAAAATUlEQVR4AWMYSuB/4P+V/1lRRFiBIoEYCoGC//+vAypFKFsHFFkJV4AsAVGKzsOjFFUZHqUElCGUwpRRrpCw1YQ9Qzh4SA5wwlE4hAAAiFGQefYhNJkAAAAASUVORK5CYII=);cursor:pointer}notify-gp .notify-show{opacity:1;-webkit-transform:scaleY(1)!important;transform:scaleY(1)!important}notify-gp .notify-hide{-webkit-animation-name:fadeOutUp;animation-name:fadeOutUp;-webkit-animation-duration:.45s;animation-duration:.45s;-webkit-animation-fill-mode:both;animation-fill-mode:both}notify-gp .notify-success{background-color:#4caf50}notify-gp .notify-warning{background-color:#ffa000}notify-gp .notify-error{background-color:#ef5350}notify-gp .notify-info{background-color:#1976d2}notify-gp .notify-modal{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column nowrap;flex-flow:column;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;height:auto;max-height:200px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2)}notify-gp .notify-modal .notify-modal-content{margin-top:5px;font-size:13px;white-space:normal}notify-gp .notify-modal .notify-modal-content a{margin:0;padding:0;color:inherit;font-size:inherit;text-decoration:underline;cursor:pointer}notify-gp .notify-modal .notify-modal-content a:active,notify-gp .notify-modal .notify-modal-content a:focus,notify-gp .notify-modal .notify-modal-content a:hover,notify-gp .notify-modal .notify-modal-content a:visited{color:inherit}notify-gp .notify-snackbar{position:fixed;bottom:0;left:50%;margin-bottom:5px;-webkit-transform-origin:left bottom 0;transform-origin:left bottom 0}.notify-position-lt-corner{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;margin:0 0 0 15px;left:0;right:auto}.notify-position-lb-corner{margin:0 0 15px 15px;right:auto;left:0}.notify-position-lb-corner,.notify-position-rb-corner{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-flow:column-reverse wrap-reverse;flex-flow:column-reverse wrap-reverse;top:auto;bottom:0}.notify-position-rb-corner{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;margin:0 15px 15px 0;left:auto;right:0}@-webkit-keyframes fadeOutUp{0%{opacity:1}to{margin-top:0;padding:0;height:0;min-height:0;opacity:0;-webkit-transform:scaleY(0);transform:scaleY(0)}}@keyframes fadeOutUp{0%{opacity:1}to{margin-top:0;padding:0;height:0;min-height:0;opacity:0;-webkit-transform:scaleY(0);transform:scaleY(0)}}@media (pointer:coarse){notify-gp{top:auto;bottom:0;left:0;margin:0 10px 10px}notify-gp notify{width:100%;max-width:600px}notify-gp .notify-hide,notify-gp .notify-show{-webkit-transform-origin:bottom!important;transform-origin:bottom!important}notify-gp .notify-snackbar{position:static}}",""])},50:function(e,t,n){var o=n(48);"string"==typeof o&&(o=[[e.id,o,""]]),n(8)(o,{}),o.locals&&(e.exports=o.locals)},51:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){M=e}function i(e){T=e}function s(e,t){var n=JSON.stringify(t.root),o=JSON.stringify(t.all_images),a='<!DOCTYPE html>\n    <html>\n        <head>\n            <meta charset="utf-8">\n            <meta http-equiv="content-type" content="text/html; charset=UTF-8;charset=utf-8">\n            <meta http-equiv="X-UA-Compatible" content="IE=Edge">\n            <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1">\n            <meta name="author" content="Kenshin"/>\n            <meta name="description" content="简悦 SimpRead - 如杂志般沉浸式阅读体验的扩展" />\n            <meta name="keywords" content="Chrome extension, Chrome 扩展, 阅读模式, 沉浸式阅读, 简悦, 简阅, read mode, reading mode, reader view, firefox, firefox addon, userscript, safari, opera, tampermonkey"/>\n            <meta name="thumbnail" content="https://simpread-1254315611.cos.ap-shanghai.myqcloud.com/static/introduce-2.png"/>\n            <meta property="og:title" content="简悦 SimpRead - 如杂志般沉浸式阅读体验的扩展"/>\n            <meta property="og:type" content="website">\n            <meta property="og:local" content="zh_CN"/>\n            <meta property="og:url" content="http://ksria.com/simpread"/>\n            <meta property="og:image" content="https://simpread-1254315611.cos.ap-shanghai.myqcloud.com/static/introduce-2.png"/>\n            <meta property="og:image:type" content="image/png"/>\n            <meta property="og:image:width" content="960"/>\n            <meta property="og:image:height" content="355"/>\n            <meta property="og:site_name" content="http://ksria.com/simpread"/>\n            <meta property="og:description" content="简悦 SimpRead - 如杂志般沉浸式阅读体验的扩展"/>\n            <title>'+e+'</title>\n            <style>* { margin: 0; padding: 0; } #mindmap { display: block; width: 100vw; height: 100vh;}#mindmap *{font-size:12px!important;font-family:-apple-system,PingFang SC,Microsoft Yahei,Lantinghei SC,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif!important;font-weight:300!important;white-space:pre}#mindmap a{font-family:Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:11px;font-weight:400;text-decoration:none;color:#4285f4}#mindmap img{height:100%;max-height:200px}</style>\n            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism.css">\n            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">\n        </head>\n        <body>\n            <svg id="mindmap"></svg>\n            <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>\n            <script src="https://cdn.jsdelivr.net/npm/d3@6.6.0"></script>\n            <script src="https://cdn.jsdelivr.net/npm/markmap-view@0.2.3"></script>\n            <script>\n                markmap.Markmap.create( "svg#mindmap", undefined, '+n+");\n                const images = "+o+';\n                $( "svg code" ).map( ( idx, item ) => {\n                    const $target = $( item ),\n                        id      = $target.text().replace( "image-", "" );\n                    $target.parent().html( `\'<img src="${ images[id] }">` );\n                });\n            </script>\n        </body>\n    </html>';return a}function l(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window.location.href,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",l=function(){if("string"==typeof n)return"<sr-rd-title>"+e+"</sr-rd-title>\n                    "+(r||""==t?"":'<sr-rd-desc style="margin: 0;padding-top: 0;padding-bottom: 0;font-style: normal;font-size: 18px;">'+t+"</sr-rd-desc>")+"\n                    <sr-rd-content>"+n+"</sr-rd-content>";var o="";return n.forEach(function(e){o+='<sr-rd-title id="title-'+e.unread.idx+'"><a style="color:#195bf7;text-decoration:none;" href="'+e.unread.url+'" target="_blank">'+e.unread.title+"</a></sr-rd-title>\n                         <sr-rd-content>"+e.html+"</sr-rd-content>"}),n=o},c=l(),d=function(){return n.search('pre class="hljs')>-1||n.search('code class="hljs')>-1?'<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">':""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="";return n.search("sr-annote")>-1&&$("head").find("style").map(function(n,o){$(o).hasClass(e)&&o.innerText.search("--sr-annote-color-0")>-1&&(t=o.innerText)}),t},u=function(){return n.search("MJX_Assistive_MathML")>-1?".MJX_Assistive_MathML{display: none}":""},f="body {-webkit-print-color-adjust: exact}.simpread-font{font:300 16px/1.8 -apple-system,PingFang SC,Microsoft Yahei,Lantinghei SC,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif;color:#333;text-rendering:optimizelegibility;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased}.simpread-hidden{display:none}.simpread-read-root{display:-webkit-flex;justify-content:center;align-items:center;position:relative;margin:0;top:-1000px;left:0;width:100%;z-index:2147483646;overflow-x:hidden;opacity:0;transition:all 1s cubic-bezier(.23,1,.32,1) .1s}.simpread-read-root-show{top:0}.simpread-read-root-hide{top:1000px}sr-read{margin:0 auto!important;width:100%;max-width:800px;text-align:center;box-sizing:border-box}sr-rd-desc,sr-read{display:block}sr-rd-footer{display:flex;flex-direction:column;font-size:14px}sr-rd-footer-group{display:flex;flex-direction:row;justify-content:center;align-items:center}sr-rd-footer-line{width:100%;border-top:1px solid #e0e0e0}sr-rd-footer-text{min-width:150px}sr-rd-footer-copywrite{margin:10px 0 0;color:inherit}sr-rd-footer-copywrite abbr{font-variant:normal;text-decoration:none}sr-rd-footer-copywrite .second{margin:10px 0}sr-rd-footer-copywrite .third a:hover{border:none!important}sr-rd-footer-copywrite .third a:first-child{margin-right:50px}sr-rd-footer-copywrite .sr-icon{display:inline-flex;justify-content:center;align-items:center;width:33px;height:33px;opacity:.8;transition:opacity .5s ease;cursor:pointer}sr-rd-footer-copywrite .sr-icon:hover{opacity:1}sr-rd-footer-copywrite a,sr-rd-footer-copywrite a:link,sr-rd-footer-copywrite a:visited{margin:0;padding:0;color:inherit;background-color:transparent;font-size:inherit!important;line-height:normal;text-decoration:none;vertical-align:initial;border:none!important;box-sizing:border-box}sr-rd-footer-copywrite a:focus,sr-rd-footer-copywrite a:hover,sr-rd-footer a:active{color:inherit;text-decoration:none;border-bottom:1px dotted!important}.MJX_Assistive_MathML{display: none}",m=a.startsWith("http")?'，<a href="'+a+'" target="_blank">原文地址 </a>':"， 来自 "+a,g='\n                <html lang="en" class="simpread-font simpread-theme-root" style=\''+$("html").attr("style")+'\'>\n                    <head>\n                        <meta charset="utf-8">\n                        <meta http-equiv="content-type" content="text/html; charset=UTF-8;charset=utf-8">\n                        <meta http-equiv="X-UA-Compatible" content="IE=Edge">\n                        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1">\n                        <meta name="author" content="Kenshin"/>\n                        <meta name="description" content="简悦 SimpRead - 如杂志般沉浸式阅读体验的扩展" />\n                        <meta name="keywords" content="Chrome extension, Chrome 扩展, 阅读模式, 沉浸式阅读, 简悦, 简阅, read mode, reading mode, reader view, firefox, firefox addon, userscript, safari, opera, tampermonkey"/>\n                        <meta name="thumbnail" content="https://simpread-1254315611.cos.ap-shanghai.myqcloud.com/static/introduce-2.png"/>\n                        <meta property="og:title" content="简悦 SimpRead - 如杂志般沉浸式阅读体验的扩展"/>\n                        <meta property="og:type" content="website">\n                        <meta property="og:local" content="zh_CN"/>\n                        <meta property="og:url" content="http://ksria.com/simpread"/>\n                        <meta property="og:image" content="https://simpread-1254315611.cos.ap-shanghai.myqcloud.com/static/introduce-2.png"/>\n                        <meta property="og:image:type" content="image/png"/>\n                        <meta property="og:image:width" content="960"/>\n                        <meta property="og:image:height" content="355"/>\n                        <meta property="og:site_name" content="http://ksria.com/simpread"/>\n                        <meta property="og:description" content="简悦 SimpRead - 如杂志般沉浸式阅读体验的扩展"/>\n                        <style type="text/css">'+(i?"":o.global)+'</style>\n                        <style type="text/css">'+o.common+'</style>\n                        <style type="text/css">'+o.theme+'</style>\n                        <style type="text/css">'+(i?f:"")+'</style>\n                        <style type="text/css">'+(i?"":o.mobile)+'</style>\n                        <style type="text/css">'+(i?"":o.css)+'</style>\n                        <style type="text/css">'+(i?"":o.special)+'</style>\n                        <style type="text/css">'+p()+'</style>\n                        <style type="text/css">'+p("sr-annote-dark-colors")+'</style>\n                        <style type="text/css">'+u()+'</style>\n                        <style type="text/css">'+(r?O.trim():z.trim())+"</style>\n                        "+(T?"<style>sr-rd-content * { color: rgb(235, 235, 235)!important }</style>":"")+"\n                        "+d()+'\n                        <script>setTimeout(()=>{const e=location.hash.replace("#id=","");let t,a=!1;const n=t=>{for(let n of t){let t;if((t=e.length>6?n.getAttribute("data-id"):n.getAttribute("data-idx"))==e){n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),a=!0;break}}};e&&(0==(t=document.getElementsByClassName("sr-unread-card")).length&&(t=document.getElementsByTagName("sr-annote")),n(t),a||n(t=document.getElementsByClassName("sr-annote")))},500);</script>\n                        '+(M?'<script>document.addEventListener("DOMContentLoaded",function(){if("localhost"==location.hostname){const t=document.getElementsByTagName("img");for(let o of t){const t=o.src;t.startsWith("http")&&(o.src=location.origin+"/proxy?url="+t)}}},!1);</script>':"")+"\n                        <title>简悦 | "+e.replace("simpread-","")+"</title>\n                    </head>\n                    <body>\n                        <sr-read style='"+$("sr-read").attr("style")+"'>\n                            "+c+"\n                            "+(s?"<toc-bg>"+s.replace(/color: [a-z0-9(), ]+/gi,"").replace('class="toc-outline-active"',"")+"</toc-bg>":"")+'\n                            <sr-rd-footer>\n                                <sr-rd-footer-group>\n                                    <sr-rd-footer-line></sr-rd-footer-line>\n                                    <sr-rd-footer-text>全文完</sr-rd-footer-text>\n                                    <sr-rd-footer-line></sr-rd-footer-line>\n                                </sr-rd-footer-group>\n                                <sr-rd-footer-copywrite>\n                                    <div>本文由 <a href="http://ksria.com/simpread" target="_blank">简悦 SimpRead</a> 转码，用以提升阅读体验'+m+"</div>\n                                </sr-rd-footer-copywrite>\n                            </sr-rd-footer>\n                        </sr-read>\n                    </body>\n                </html>";return g}function c(e,t,n,o,a){if("object"==("undefined"==typeof o?"undefined":v(o))){var r="";o.forEach(function(e){return r+=e.html}),o=r}var i=e.startsWith("http")?'，<a href="'+e+'" target="_blank">原文地址 </a>':"， 来自 "+e,s=function(){var e="";o.search("sr-annote")>-1&&($("head").find("style").map(function(t,n){n.innerText.search("--sr-annote-color-0")>-1&&(e=n.innerText)}),o=o.replace(/<sr-annote/gi,"<span").replace(/<\/sr-annote>/gi,"</span>"));var t=getComputedStyle(document.documentElement);return e=e.replace(/var\(--sr-annote-color-1\)/gi,t.getPropertyValue("--sr-annote-color-1").trim()).replace(/var\(--sr-annote-color-2\)/gi,t.getPropertyValue("--sr-annote-color-2").trim()).replace(/var\(--sr-annote-color-3\)/gi,t.getPropertyValue("--sr-annote-color-3").trim()).replace(/var\(--sr-annote-color-4\)/gi,t.getPropertyValue("--sr-annote-color-4").trim()).replace(/var\(--sr-annote-color-5\)/gi,t.getPropertyValue("--sr-annote-color-5").trim())},l=function(){o.search("sr-rd-mult")>-1&&(o=o.replace(/<sr-rd-mult-avatar/gi,'<div class="sr-rd-mult-avatar"').replace(/<\/sr-rd-mult-avatar>/gi,"</div>").replace(/<sr-rd-mult-content/gi,'<div class="sr-rd-mult-content"').replace(/<\/sr-rd-mult-content>/gi,"</div>").replace(/<sr-rd-mult/gi,'<span class="sr-rd-mult"').replace(/<\/sr-rd-mult>/gi,"</span>"))};return l(),'<html>\n                <style type="text/css">'+a+'</style>\n                <style type="text/css">'+s()+'</style>\n                <body>\n                    <div class="sr-header">\n                        <a target="_blank" href="https://simpread.pro"><span class="sr-logo"></span><span class="sr-name">简 悦</span></a>\n                        <span class="sr-slogan">「如杂志般沉浸式」的阅读体验</span>\n                    </div>\n                    '+(void 0!=n&&""!=n?'<blockquote class="sr-rd-content-desc">'+n+"</blockquote>":"")+"\n                    <sr-rd-content>"+o+'</sr-rd-content>\n                    <div class="sr-rd-footer">\n                        <div class="sr-rd-footer-group">\n                            <div class="sr-rd-footer-line"></div>\n                            <div class="sr-rd-footer-text">全文完</div>\n                            <div class="sr-rd-footer-line"></div>\n                        </div>\n                        <div class="sr-rd-footer-copywrite">\n                            <div>本文由 <a href="http://ksria.com/simpread" target="_blank">简悦 SimpRead</a> 转码，用以提升阅读体验'+i+"</div>\n                        </div>\n                    </div>\n                </body>\n            </html>"}function d(e,t){N="markdown",_=t,S=e,A=new Map;var n=S.match(/!\[\]\(http\S+\)/gi);n&&n.length>0?(n.forEach(function(e,t){S=S.replace(e,"![][img-"+t+"]"),e=e.replace(/[!\[\]\(]|[\)]/gi,""),S=S+"\r\n\r\n"+("[img-"+t+"]:"+e),A.set(e,"[img-"+t+"]:"+e)}),C=[].concat(a(A.keys())),E=C.length,y=0,u(C[0])):_(S)}function p(e,t){if(N="html",_=e,A=new Map,"object"==("undefined"==typeof t?"undefined":v(t))){var n="";t.forEach(function(e){return n+=e.html}),t=n}var o=void 0;void 0!=t?($("html").append('<sr-annote-tmpl style="display:none">'+t+"</sr-annote-tmpl>"),o=$("sr-annote-tmpl")):o=$("sr-rd-content"),o.find("img").map(function(e,t){A.has(t.src)||A.set(t.src,t)}),C=[].concat(a(A.keys())),E=C.length,y=0,u(C[0])}function u(e){x.browser.runtime.sendMessage(w.Add(w.MESSAGE_ACTION.base64,{url:e}),function(e){y++,e&&e.done&&f(e.done.url,e.done.uri),y<E?u(C[y]):_&&_(S)})}function f(e,t){var n=A.get(e);if("html"==N)$(n).attr("src",t).attr("sr-org-src",e);else{var o=n.replace(e,t);S=S.replace(n,o)}}function m(e,t){fetch(e).then(function(e){return e.blob()}).then(function(n){return new Promise(function(o,a){var r=new FileReader;r.onloadend=function(n){t({done:{url:e,uri:n.target.result}})},r.onerror=function(n){t({fail:{error:n,url:e}})},r.readAsDataURL(n)})}).catch(function(n){t({fail:{error:n,url:e}})})}function g(){$("sr-rd-content").find("img").map(function(e,t){var n=$(t).attr("sr-org-src");$(t).attr("src",n).removeAttr("sr-org-src")}),$("sr-annote-tmpl").remove()}function b(){$("sr-rd-content").find("img").map(function(e,t){var n=$(t).attr("sr-base64-src");$(t).attr("src",n)})}function h(){$("sr-rd-content").find("img").map(function(e,t){var n=$(t).attr("sr-org-src"),o=$(t).attr("src");$(t).attr("src",n).attr("sr-base64-src",o)})}Object.defineProperty(t,"__esModule",{value:!0}),t.restoreBaseImg=t.cacheImg=t.restoreImg=t.toBase64=t.img2Base64=t.Mindmap=t.Markdown=t.Mail=t.HTML=t.setProxy=t.isDarkmode=void 0;var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=n(3),k=n(6),w=o(k),y=0,E=0,C=[],A=void 0,_=void 0,N="html",S=void 0,T=!1,O="html {\n        background-color: #fafafa!important;\n    }\n\n    body {\n        margin: 0;\n        padding: 0;\n    }\n\n    sr-rd-content *, sr-rd-content p, sr-rd-content div {\n        margin: 0;\n        font-size: 13px!important;\n    }\n\n    sr-rd-content {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .annote-preview, .annote-preview * {\n        color:#8F9193;\n    }\n\n    .sr-unread-card {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        margin: 15px;\n        padding: 15px;\n        color: rgba(51,51,51,0.87);\n        background-color: #fff;\n        font-weight: 400;\n        border-radius: 4px;\n        box-shadow: 0 0 6px 1px rgb(0 0 0 / 8%), 0 8px 8px 0 rgb(0 0 0 / 8%);\n        transition: all 0.25s ease-out;\n    }\n\n    .sr-unread-create {\n        color: #8F9193;\n        font-size: 12px;\n    }\n\n    .sr-unread-refs {\n        display: flex;\n        flex-direction: column;\n    }\n\n    .sr-unread-refs,\n    .sr-unread-note {\n        margin-top: 15px;\n        font-size: 14px!important;\n        font-weight: 400;\n        white-space: pre-wrap;\n        color: #333;\n    }\n\n    .sr-unread-card a {\n        padding-left: 0;\n        font-size: 13px!important;\n    }\n\n    .sr-unread-desc {\n        margin: 15px 0 0 0;\n        padding-left: 10px;\n        font-size: 13px;\n        color: #8F9193;\n        border-left: 2px solid #E6E6E6;\n    }\n\n    .sr-unread-desc img {\n        margin: 0;\n        padding: 0;\n        max-width: 100%!important;\n        height: auto;\n        background: #fff;\n        border: 0;\n        box-shadow: none;\n    }\n\n    .sr-unread-tags {\n        margin: 15px 0 0 0;\n    }\n\n    span.sr-unread-tag {\n        margin-right: 5px;\n        padding: 0 5px;\n        color: #195bf7;\n        background: rgb(25 91 247 / .1);\n        font-style: normal;\n        font-size: 13px;\n        font-weight: bold;\n        border-radius: 3px;\n    }\n\n    .sr-unread-card.backlinks .backlink-field {\n        border-left: 2px solid #E6E6E6!important;\n    }\n\n    .sr-unread-card .backlink-field {\n        margin-bottom: 10px;\n    }\n    .sr-unread-card.backlinks .backlink-field:last-child {\n        margin-bottom: 0;\n    }\n\n    .backlink-field .annotegp {\n        border-left-width: 2px!important;\n    }\n\n    .sr-unread-card.backlinks.annote .backlink-field {\n        border-left-width: 0!important;\n    }\n    \n    .sr-unread-card.backlinks.annote .backlink-fields {\n        margin-top: 15px;\n    }\n\n    .sr-unread-card.backlinks.annote  .backlink-title {\n        padding-left: 10px;\n        font-size: 13px;\n        color: #8F9193;\n        border-left: 2px solid #E6E6E6;\n    }\n    \n    .sr-unread-card.backlinks.annote  .backlink-title .link {\n        margin: 0;\n    }\n\n    .backlink-field .sr-unread-tags,\n    .backlink-field .note,\n    .backlink-field .link {\n        margin-top: 10px;\n    }\n\n    .backlink-field ul, .backlink-field li:last-child {\n        margin-bottom: 0!important;\n    }\n    \n    .backlink-field ul {\n        margin-top: 10px;\n    }\n\n    .backlink-field img {\n        width: 80%;\n    }\n",z="sr-rd-content *, sr-rd-content p, sr-rd-content div {\n        font-size: 15px;\n    }\n\n    .annote-perview, .annote-perview * {\n        color: rgb(85, 85, 85);\n        font-weight: 400;\n        line-height: 1.8;\n    }\n",M=!1;
t.isDarkmode=i,t.setProxy=r,t.HTML=l,t.Mail=c,t.Markdown=d,t.Mindmap=s,t.img2Base64=p,t.toBase64=m,t.restoreImg=g,t.cacheImg=h,t.restoreBaseImg=b},52:function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"此功能";return R.auth.lock&&(new e).Render({type:2,content:t+"为高级账户功能，请 <b>升级到高级账户</b>，如已是高级账户，请在选项页右上角 <b>仅授权当前设备</b>。",state:"holdon",action:"升级",cancel:"授权",callback:function(e){"action"==e?P.Render(!0,R.auth.token,function(e){}):"cancel"==e&&h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.new_tab,{url:h.browser.extension.getURL("options/options.html")}))}}),R.auth.lock}function i(e){return["hypothes","readwise"].includes(e)}function s(t,n,o,a){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:window.location.href;"page"==b.storage.option.annote.exp_mode?b.storage.option.annote.export=!1:"annote"==b.storage.option.annote.exp_mode&&(b.storage.option.annote.export=!0),n=n.trim(),!u&&b.storage.unread&&b.storage.unread.idx>0&&(n=b.storage.unread&&b.storage.unread.title),!u&&b.storage.unread&&b.storage.unread.idx>0&&(o=b.storage.unread&&b.storage.unread.desc),A.setProxy("pdf"==t||"mail"==t&&"pdf"==b.storage.option.remote.export.attach||b.storage.option.export.html.proxy),A.isDarkmode(["night","dark"].includes(b.storage.read.theme));var v=!1,k=!1,y=a,C=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];T.SpecialCSS(b.storage.pr&&b.storage.pr.mathjax||!1,function(n){N.default.GetAll();var o=N.default.Get(t?"github":b.storage.read.theme),a=N.default.Get("global"),r=N.default.Get("common"),i=N.default.Get("mobile"),s=T.GetCustomCSS();e({theme:o,global:a,common:r,css:s,mobile:i,special:n})})},_=function(n){if("both"==b.storage.option.annote.exp_mode&&(b.storage.option.annote.export=!0),k&&b.storage.option.export.markdown.custom&&""!=b.storage.option.export.markdown.template&&(b.storage.option.annote.export||c)&&!r("<b>自定义模板</b> "))!function(){h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.track,{eventCategory:"service",eventAction:"service",eventValue:"custom_markdown"}));var e="",o="refslink"==t?"{{#each}}\n\n"+b.storage.option.annote.link+"\n\n{{/each}}":"annote"==c&&1==b.storage.option.export.markdown.single&&""!=b.storage.option.export.markdown.single_tmp?b.storage.option.export.markdown.single_tmp:b.storage.option.export.markdown.template;if(u)a.forEach(function(t){e+=f.AnnoteMDTemplate(o,b.storage.option.export.markdown,t.unread,t.unread.annotations,g.Markdown,B.Markdown)});else{"string"==typeof a&&(a=b.storage.unread.annotations);var r="string"==typeof y?a:y;e=f.AnnoteMDTemplate(o,b.storage.option.export.markdown,b.storage.unread,r,g.Markdown,B.Markdown)}n(e)}();else if(u){var i="";a.forEach(function(t){g.MDWrapper(f.ClearMD(t.unread.desc,t.html.replace(/sr-(div|desc)/gi,"blockquote"),!0,t.unread.url),void 0,new e,b.storage.option.export.markdown.format).done(function(e){return i+=e})}),n(i)}else g.MDWrapper(f.ClearMD(o,a.replace(/sr-(div|desc)/gi,"blockquote").replace('<div class="unread-refs"','<br/><br/><div class="unread-refs"'),!0,m),void 0,new e,b.storage.option.export.markdown.format).done(function(e){return n(e)})},S=function(){if(u){var e="";return a.forEach(function(t){e+='<outline class="toc-level-h2"><a href="#title-'+t.unread.idx+'"><span>'+t.unread.title+"</span></a></outline>"}),'<toc class="simpread-font simpread-theme-root" style="width: initial;">'+e+"</toc>"}if(b.storage.option.export.html.toc&&r("<b>导出 HTML 或离线 HTML 包含目录</b> 的功能 "))return"";var t=$("toc-bg").html()||$("iframe").contents().find("toc-bg").html()||"";return 0==k&&b.storage.option.export.html.toc?t.replace(/toc-outline-theme-(dark|night)/gi,""):""},O=function(n){if(u)return n;try{var o=n.match(/[a-z]+$/i)||[],a=o.length>0?"."+o[0]:"",r=function(){var e=b.storage.option.export.title.template.match(/{{date_format\|[\u4e00-\u9fa5a-zA-Z :-]+}}/),t="";if(e&&e.length>0){var n=e[0].replace("{{date_format|","").replace("}}","");t=f.FmtDate2(new Date,n)}return t},i="";return b.storage.option.export.title.custom?(i=b.storage.option.export.title.template.replace(/{{type}}/gi,t).replace(/{{title}}/gi,n).replace(/{{id}}/gi,b.storage.unread.idx?b.storage.unread.idx+"-":"").replace(/{{create}}/gi,b.storage.unread.create?b.storage.unread.create:"").replace(/{{un_title}}/gi,b.storage.unread.title?b.storage.unread.title:n).replace(/{{mode}}/gi,k?"@annote":"").replace(/{{date_format\|[\u4e00-\u9fa5a-zA-Z :-]+}}/,r()).replace(/{{timestamp}}/gi,f.FmtDate(b.storage.unread.create?b.storage.unread.create.replace(/年|月/gi,"-").replace(/日/gi,""):+new Date).replace(/年|月|日|:| /gi,"")),b.storage.option.export.title.template.includes("{{un_title}}")&&b.storage.unread.title&&a&&(i+=a),""==i?n:i):n}catch(t){return(new e).Render({type:2,content:'自定义标题模板有错误，只能导出 <b>原文的标题</b>，自定义标题 <a target="_blank" href="http://ksria.com/simpread/docs/#/定制化导出?id=标题"><b>请看这里 ↗</b></a>。',state:"holdon"}),n}},M=function(t,n){200!=t.status&&$("notify-content").text().startsWith("请在 简悦 · 同步助手 中")||(t&&200==t.status?(new e).Render(1,"已成功保存。"):401==t.code&&"uid"==t.status?(new e).Render(2,"当前用户不是高级账户，请在 <b>选项页授权当前设备</b> 或 <b>升级到高级账户</b>。"):403==t.status?(new e).Render({type:2,content:'请在 <b>简悦 · 同步助手</b> 中 <b>开启相关选项</b>，详细说明 <a target="_blank" href="https://github.com/Kenshin/simpread/discussions/2118"><b>请看这里 ↗</b></a>。',state:"holdon"}):403==t.code&&"export"==t.status?(new e).Render({type:2,content:'请在 <b>简悦 · 同步助手</b> 中 <b>设置导出文件夹</b>，详细说明 <a target="_blank" href="http://ksria.com/simpread/docs/#/Sync?id=如何配置-2"><b>请看这里 ↗</b></a>。',state:"holdon"}):403==t.code&&"mail"==t.status?(new e).Render({type:2,content:'请在 <b>简悦 · 同步助手</b> 中 <b>设置邮件服务</b>，详细说明 <a target="_blank" href="http://ksria.com/simpread/docs/#/Sync?id=邮件服务"><b>请看这里 ↗</b></a>。',state:"holdon"}):403==t.code&&"kindle"==t.status?(new e).Render({type:2,content:'请在 <b>简悦 · 同步助手</b> 中 <b>设置 Kindle 接收邮箱</b>，详细说明 <a target="_blank" href="http://ksria.com/simpread/docs/#/Sync?id=发送到kindle><b>请看这里 ↗</b></a>。',state:"holdon"}):(new e).Render(3,'导出失败，此功能为实验性功能，如有需求请提 <a target="_blank" href="https://github.com/Kenshin/simpread/issues/new/choose">Issues ↗</a>'))};if(u)!function(){k=!0;var e=[];a.forEach(function(n){var o="";if(["html","offlinehtml","local"].includes(t)&&"card"==b.storage.option.export.html.layout)v=!0,o+=f.AnnoteHTML2(n,n.annotations||[],B.HTML);else{var a=!["html","offlinehtml","onenote","weizhi","mail","pdf","kindle"].includes(t);o+=f.AnnoteHTML(m,n,n.annotations||[],a,"evernote"==t||"yinxiang"==t,!1,B.HTML),v=!1}e.push({unread:n,html:o})}),a=e}();else if((b.storage.option.annote.export||c)&&b.storage.unread)if(void 0==b.storage.unread.annotations&&(b.storage.unread.annotations=[]),k=!0,"string"==typeof a&&(1==b.storage.option.annote.export||c)&&(a=b.storage.unread.annotations),["html","offlinehtml","local"].includes(t)&&"card"==b.storage.option.export.html.layout)v=!0,a=f.AnnoteHTML2(b.storage.unread,a,B.HTML);else{var I=!["html","offlinehtml","onenote","weizhi","mail","pdf","kindle"].includes(t);a=f.AnnoteHTML(m,b.storage.unread,a,I,"evernote"==t||"yinxiang"==t,!1,B.HTML),v=!1}try{if("annote"==b.storage.option.annote.exp_mode&&(!b.storage.unread||b.storage.unread&&b.storage.unread.annotations&&0==b.storage.unread.annotations.length)){var P=$("sr-rd-content").html()||$("iframe").contents().find("sr-rd-content").html();P&&(a=P.trim())}}catch(e){}if(t.indexOf("_")>0&&t.startsWith("share")){var D="";switch(t.split("_")[1]){case"facebook":D="https://www.facebook.com/dialog/feed?app_id=1528743474024441&link="+m;break;case"twitter":D="https://twitter.com/intent/tweet?text="+n+" （ 分享自 简悦 ）&url="+m;break;case"gplus":D="https://plus.google.com/share?url="+m;break;case"weibo":D="http://service.weibo.com/share/share.php?url="+m+"&title="+n+" （ 分享自 简悦-SimpRead ）";break;case"telegram":D="https://t.me/share/url?url="+m;break;case"card":(new e).Render("已启动分享卡标注功能，请在页面标注，生成分享卡。"),$("sr-rd-crlbar").find("panel-bg").length>0&&$("sr-rd-crlbar").find("panel-bg")[0].click(),w.Annotate().done(function(e){""!=e&&E.Render("focus"==b.storage.current.mode?"html":"sr-read",n,e)})}"card"!=t.split("_")[1]&&h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.new_tab,{url:D}))}else if(["save","markdown","markdeep","offlinemarkdown","textbundle","mail","png","kindle","pdf","epub","temp","html","offlinehtml","local","snapshot","bear","copy","ulysses","wayback","refslink"].includes(t)){b.storage.Statistics("service",t),h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.track,{eventCategory:"service",eventAction:"service",eventValue:t})),["markdown","markdeep","offlinemarkdown","html","offlinehtml"].includes(t)&&(R.auth.lock&&!b.storage.option.remote.export.epub&&j.Help("plain"),!R.auth.lock&&!b.storage.option.remote.export.epub&&j.Help("enhance_plain")),R.auth.lock&&(b.storage.option.remote.export.plain||b.storage.option.remote.export.epub||b.storage.option.remote.export.pdf||b.storage.option.remote.export.kindle)&&(["mail","textbundle"].includes(t)&&(new e).Render({type:2,content:"嗨，此账户为基础账户，但发现你 <b>已开启增强导出功能</b>，此功能为高级账户功能，请在下条信息中使用 <b>重新授权获得高级账户资格</b>。",state:"holdon"}),["markdown","markdeep","offlinemarkdown","html","offlinehtml","epub","pdf"].includes(t)&&r("嗨，此账户为基础账户，但发现你 <b>已开启增强导出功能</b>，"));var U=function(){switch(t){case"save":m.replace(/(\?|&)simpread_mode=read/,""),b.storage.UnRead("add",f.GetPageInfo(),function(t){t&&(new e).Render(0,"成功加入未读列表。"),!t&&(new e).Render(0,"已加入未读列表，请勿重新加入。")});break;case"markdeep":case"markdown":var i="simpread-"+n+".md",s="markdown"==t?"":".html";b.storage.pr&&""!=b.storage.pr.current.site.avatar[0].name&&(a=f.MULTI2ENML(a)),"markdeep"==t&&b.storage.option.export.markdeep.custom&&r("<b>自定义 Markdeep 模板</b> ")&&(b.storage.option.export.markdeep=!1),_(function(e){!R.auth.lock&&b.storage.option.remote.export.plain?g.Enhance("http://localhost:"+b.storage.option.remote.port+"/plain",O(i.replace("simpread-",""))+s,f.Markdeep(e,""!=s,b.storage.option.export.markdeep),M):g.Download("data:text/plain;charset=utf-8,"+encodeURIComponent(f.Markdeep(e,"markdeep"==t,b.storage.option.export.markdeep)),i+s)});break;case"offlinemarkdown":h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.permission),function(t){return t.done?void!function(){var t=(new e).Render({content:"图片转换中，请稍等...",state:"loading"}),o="simpread-"+n+".md";b.storage.pr&&""!=b.storage.pr.current.site.avatar[0].name&&(a=f.MULTI2ENML(a)),_(function(e){A.Markdown(e,function(e){t.complete(),!R.auth.lock&&b.storage.option.remote.export.plain?g.Enhance("http://localhost:"+b.storage.option.remote.port+"/plain",O(o.replace("simpread-","")),e,M):h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.download,{data:e,name:o}),function(e){})})})}():void(new e).Render(2,"离线下载的文件体积较大，所以需要使用 Chrome 下载方案，请授权。")});break;case"textbundle":if(r('<a target="blank" href="http://ksria.com/simpread/docs/#/Textbundle"><b>Textbundle</b></a> '))return{v:void 0};if(!R.auth.lock&&!b.storage.option.remote.export.plain)return(new e).Render({type:2,content:"此功能需要开启 <b>选项页 → 服务 → 增强导出文本格式</b> 选项。",state:"holdon",action:"开启",callback:function(e){"action"==e&&h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.new_tab,{url:h.browser.extension.getURL("options/options.html#connect?anchor=增强导出")}))}}),{v:void 0};_(function(t){var o=(new e).Render({content:"正在保存 textbundle 到本地，请稍等...",state:"loading"});g.Enhance("http://localhost:"+b.storage.option.remote.port+"/textbundle",O(n),t,function(e,t){o.complete(),M(e,t)})});break;case"png":try{!function(){var t=(new e).Render({content:"正在保存到本地，请稍等...",state:"loading"}),o="read"==b.storage.current.mode?$(".simpread-read-root"):$(".simpread-focus-highlight");$("sr-rd-crlbar").css({opacity:0}),setTimeout(function(){g.PNG(o[0],"simpread-"+n+".png",function(n){t.complete(),$("sr-rd-crlbar").removeAttr("style"),!n&&(new e).Render(2,"转换 PNG 格式失败，这是一个实验性功能，不一定能导出成功。")})},1e3)}()}catch(t){notify5.complete(),(new e).Render(1,"转换 PNG 格式失败，请注意，这是一个实验性功能，不一定能导出成功。")}break;case"epub":!R.auth.lock&&b.storage.option.remote.export.epub?_(function(t){t="---\ntitle: "+n+"\n...\n\n"+t,n=n.replace(/ /gi,"");var o=(new e).Render({content:"正在保存到本地，请稍等...",state:"loading"});g.Enhance("http://localhost:"+b.storage.option.remote.port+"/convert",O(n),t,function(e,t){o.complete(),M(e,t)},{},{in:"md",out:"epub"})}):!function(){R.auth.lock&&!b.storage.option.remote.export.epub&&j.Help("epub"),!R.auth.lock&&!b.storage.option.remote.export.epub&&j.Help("enhance_epub");var t=(new e).Render({type:1,content:'当前使用了第三方 <a href="http://ksria.com/simpread/docs/#/发送到-Epub" target="_blank"><b>EpubPress</b></a> 服务，开始转码生成 epub 请稍等...',state:"loading"});g.Epub(a,m,n,o,function(n){t.complete(),n&&(new e).Render(0,"转换成功，马上开始下载，请稍等。"),!n&&(new e).Render(2,'转换失败，这是一个实验性功能，不一定能导出成功，详细请看 <a href="http://ksria.com/simpread/docs/#/发送到-Epub" target="_blank">epub.press</a>')})}();break;case"offlinehtml":h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.permission),function(t){return t.done?void!function(){var t=(new e).Render({content:"图片转换中，请稍等...",state:"loading"});A.img2Base64(function(){t.complete(),(new e).Render(0,"全部图片已经转换完毕，马上开始下载，请稍等。"),C(function(e){v&&r("<b>笔记模板</b> ")&&(v=!1);var t=b.storage.option.annote.export||c?$("sr-annote-tmpl").html():$("sr-rd-content").html()||$("sr-annote-tmpl").html(),a=S(),i=A.HTML(n,o,t,e,m,v,!1,a);A.restoreImg(),!R.auth.lock&&b.storage.option.remote.export.plain?g.Enhance("http://localhost:"+b.storage.option.remote.port+"/plain",O(n+".html"),i,M):h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.download,{data:i,name:"simpread-"+n+".html"}),function(e){})})},0==$(".simpread-focus-highlight").length?b.storage.option.annote.export||c?a:$("iframe").contents().find("sr-rd-content").html()||void 0:$(".simpread-focus-highlight").html())}():void(new e).Render(2,"离线下载的文件体积较大，所以需要使用 Chrome 下载方案，请授权。")});break;case"html":C(function(e){v&&r("<b>笔记模板</b> ")&&(v=!1);var t=S(),i=A.HTML(n,o,a,e,m,v,!1,t);!R.auth.lock&&b.storage.option.remote.export.plain?g.Enhance("http://localhost:"+b.storage.option.remote.port+"/plain",O(n+".html"),i,M):g.Download("data:text/plain;charset=utf-8,"+encodeURIComponent(i),"simpread-"+n+".html")});break;case"snapshot":(new e).Render("请移动鼠标，按住鼠标左键框选，框选后可再次框选。"),$("panel-bg").click(),setTimeout(function(){z.Start().done(function(e){z.End(),setTimeout(function(){h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.snapshot,e),function(e){g.Download(e.done,"simpread-"+n+".png")})},100)})},500);break;case"copy":_(function(t){f.Clipboard(t),(new e).Render("已成功复制 Markdown")});break;case"refslink":_(function(t){f.Clipboard(t),(new e).Render("已成功复制 Markdown")});break;case"bear":b.storage.pr&&""!=b.storage.pr.current.site.avatar[0].name&&(a=f.MULTI2ENML(a)),_(function(e){location.href="bear://x-callback-url/create?title="+n+"&text="+encodeURIComponent(e)+"&tags=simpread"});break;case"ulysses":b.storage.pr&&""!=b.storage.pr.current.site.avatar[0].name&&(a=f.MULTI2ENML(a)),_(function(e){e="#"+n+"\n\n"+e,location.href="ulysses://x-callback-url/new-sheet?text="+encodeURIComponent(e)});break;case"wayback":var l=(new e).Render({content:"正在保存，请稍等...",state:"loading"});g.wayback.Add(m,function(t,n){l.complete(),t?(new e).Render(1,'已成功保存，<a target="_blank" href="'+t+'">点击访问</a>。'):(new e).Render(2,"保存失败，并不是每个页面都可以正常保存成功。")});break;case"temp":case"kindle":!R.auth.lock&&"kindle"==t&&b.storage.option.remote.export.kindle?!function(){var t=function(t){var o=(new e).Render({content:"正在发送邮件，请稍等...",state:"loading"});g.Enhance("http://localhost:"+b.storage.option.remote.port+"/mail",n,"kindle",function(e,t){o.complete(),M(e,t)},t)},r=(new e).Render({content:"正在生成附件，请稍等...",state:"loading"});A.img2Base64(function(){r.complete(),(new e).Render(0,"开始发送，请稍等。"),C(function(e){var a=b.storage.option.annote.export||c?$("sr-annote-tmpl").html():$("sr-rd-content").html()||$("sr-annote-tmpl").html(),r=A.HTML(n,o,a,e,m);g.Enhance("http://localhost:"+b.storage.option.remote.port+"/plain","tmp-"+n+".html",r,function(e,n){A.restoreImg(),e&&200==e.status&&t("html")})})},b.storage.option.annote.export||c?a:void 0)}():!function(){var r=(new e).Render({state:"loading",content:"开始转码阅读模式并上传到服务器，请稍后。"}),i={theme:b.storage.read.theme,fontsize:b.storage.read.fontsize,fontfamily:b.storage.read.fontfamily,layout:b.storage.read.layout,custom:b.storage.read.custom};g.kindle.Read(m,n,o,a,i,function(n,o){if(r.complete(),o)(new e).Render(2,"保存失败，请稍候再试！");else switch(t){case"kindle":(new e).Render("保存成功，3 秒钟后将跳转到发送页面。"),setTimeout(function(){g.kindle.Send()},3e3);break;case"temp":(new e).Render("保存成功，3 秒钟后将跳转到临时页面。"),setTimeout(function(){g.kindle.Temp()},3e3)}})}();break;case"pdf":!R.auth.lock&&b.storage.option.remote.export.pdf?C(function(t){var r=A.HTML(n,o,a,t,m,v,!0),i=(new e).Render({content:"正在保存到本地，请稍等...",state:"loading"});g.Enhance("http://localhost:"+b.storage.option.remote.port+"/pdf",O(n),r,function(e,t){i.complete(),M(e,t)})},["dark","night"].includes(b.storage.read.theme)):(R.auth.lock&&!b.storage.option.remote.export.pdf&&j.Help("pdf"),!R.auth.lock&&!b.storage.option.remote.export.pdf&&j.Help("enhance_pdf"),"read"==b.storage.current.mode?($("sr-rd-crlbar").css({opacity:0}),setTimeout(function(){g.PDF(),$("sr-rd-crlbar").removeAttr("style")},500)):(new e).Render(2,"当前模式不支持导出到 PDF，请使用阅读模式。"));break;case"mail":if(r())return{v:void 0};if(!b.storage.option.remote.export.mail)return(new e).Render({type:2,content:"此功能需要开启 <b>选项页 → 服务 → 发送邮件</b> 选项。",state:"holdon",action:"开启",callback:function(e){"action"==e&&h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.new_tab,{url:h.browser.extension.getURL("options/options.html#connect?anchor=发送邮件")}))}}),{v:void 0};var d=function(t){var r=(new e).Render({content:"正在发送邮件，请稍等...",state:"loading"}),i=A.Mail(m,n,o,a,N.default.Get("mail"));g.Enhance("http://localhost:"+b.storage.option.remote.port+"/mail",n,i,function(e,t){r.complete(),M(e,t)},t)};"none"==b.storage.option.remote.export.attach?d():"pdf"==b.storage.option.remote.export.attach?C(function(t){var r=A.HTML(n,o,a,t,m,v,!0),i=(new e).Render({content:"正在生成附件，请稍等...",state:"loading"});g.Enhance("http://localhost:"+b.storage.option.remote.port+"/pdf","tmp-"+n,r,function(e,t){i.complete(),e&&200==e.status&&d("pdf")})}):"ofhtml"==b.storage.option.remote.export.attach&&!function(){var t=(new e).Render({content:"图片转换中，请稍等...",state:"loading"});A.img2Base64(function(){t.complete(),(new e).Render(0,"全部图片已经转换完毕，开始发送，请稍等。"),C(function(e){var t=b.storage.option.annote.export||c?$("sr-annote-tmpl").html():$("sr-rd-content").html()||$("sr-annote-tmpl").html(),a=A.HTML(n,o,t,e,m);g.Enhance("http://localhost:"+b.storage.option.remote.port+"/plain","tmp-"+n+".html",a,function(e,t){A.restoreImg(),e&&200==e.status&&d("html")})})},b.storage.option.annote.export||c?a:void 0)}()}}();if("object"===("undefined"==typeof U?"undefined":p(U)))return U.v}else if(["dropbox","pocket","instapaper","linnk","yinxiang","evernote","onenote","gdrive","jianguo","yuque","notion","github","joplin","youdao","weizhi","flomo","focusnote"].includes(t))!function(){var r=g.dropbox,i=g.pocket,s=g.instapaper,l=g.linnk,p=g.evernote,u=g.onenote,v=g.gdrive,w=g.jianguo,y=g.yuque,E=g.notion,N=g.youdao,$=g.weizhi,S=g.github,T=g.joplin,O=g.flomo,z=g.focusnote,M="yinxiang"==t?"evernote":t;b.storage.Statistics("service",t),h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.track,{eventCategory:"service",eventAction:"service",eventValue:t}));var j=function(t){!function(){switch(t){case"dropbox":b.storage.pr&&""!=b.storage.pr.current.site.avatar[0].name&&(a=f.MULTI2ENML(a)),_(function(o){r.Write(n+".md",o,function(n,o,a){return g.svcCbWrapper(o,a,r.name,t,new e)},"md/")});break;case"pocket":i.Add(m,n,function(n,o){return g.svcCbWrapper(n,o,i.name,t,new e)});break;case"instapaper":s.Add(m,n,o,function(n,o){return g.svcCbWrapper(n,o,s.name,t,new e)});break;case"linnk":var M=(new e).Render({content:"开始保存到 Linnk，请稍等...",state:"loading"});l.access_token=b.storage.secret.linnk.access_token,l.GetSafeGroup(l.group_name,function(o,a){M.complete(),a?(new e).Render(2,"error"==a?l.name+" 保存失败，请稍后重新再试。":a):(l.group_id=o.data.groupId,l.Add(m,n,function(n,o){return g.svcCbWrapper(n,o,l.name,t,new e)}))});break;case"evernote":case"yinxiang":p.env=t,p.sandbox=!1,b.storage.pr&&""!=b.storage.pr.current.site.avatar[0].name&&(a=f.MULTI2ENML(a)),p.Add(n,b.storage.option.annote.export||c?a:f.HTML2ENML(a,m),function(r,i){g.svcCbWrapper(r,i,p.name,t,new e),"error"==i&&((new e).Render("保存失败，正在尝试优化结构再次保存，请稍等..."),g.MDWrapper(f.ClearMD(o,a,!1,m),void 0,new e,b.storage.option.export.markdown.format).done(function(o){var a=f.MD2ENML(o),r=f.ClearHTML(g.MD2HTML(o),m);p.Add(n,r,function(o,r){g.svcCbWrapper(o,r,p.name,t,new e),"error"==r&&(new e).Render({content:"导出失败，是否以 Markdown 格式保存？",action:"是的",cancel:"取消",callback:function(o){"cancel"!=o&&((new e).Render({content:"转换为 Markdown 并保存中，请稍等...",delay:2e3}),p.Add(n,f.HTML2ENML(a,m),function(n,o){g.svcCbWrapper(n,o,p.name,t,new e),"error"==o&&(new e).Render({content:"转换后保存失败，是否提交当前站点？",action:"是的",cancel:"取消",callback:function(e){if("cancel"!=e){var t=encodeURI("https://github.com/Kenshin/simpread/issues/new?title="+p.name+"导入失败&labels=evernote&body=发生问题的地址: <"+location.href+">");h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.new_tab,{url:t}))}}})}))}})})}))});break;case"onenote":u.Add(u.Wrapper(m,n,a),function(n,o){return g.svcCbWrapper(n,o,u.name,t,new e)});break;case"gdrive":b.storage.pr&&""!=b.storage.pr.current.site.avatar[0].name&&(a=f.MULTI2ENML(a)),_(function(o){v.Add("file",function(n,o){return g.svcCbWrapper(n,o,v.name,t,new e)},v.CreateFile(n+".md",o))});break;case"jianguo":_(function(o){n=n.replace(/[|@!#$%^&*()<>/,.+=\\]/gi,"-"),w.Add(b.storage.secret.jianguo.username,b.storage.secret.jianguo.password,w.root+"/"+w.folder+"/"+n+".md",o,function(n){var o=void 0;n&&201!=n.status&&204!=n.status&&(o="导出到坚果云失败，请稍后再试。"),g.svcCbWrapper(n,o,w.name,t,new e)})});break;case"yuque":_(function(o){y.Add(n,o,function(n,o){return g.svcCbWrapper(n,o,y.name,t,new e)})});break;case"notion":_(function(o){d("load",function(){E.access_token=b.storage.secret.notion.access_token,E.folder_id=b.storage.secret.notion.folder_id,E.save_image=b.storage.secret.notion.save_image,E.schema=b.storage.secret.notion.schema,E.type=b.storage.secret.notion.type,E.href=m,E.Add(n,o.replace(/.(png|jpe?g)!\d+/gi,".$1").replace(/> 本文由 [\S ]+/i,"")+"\n> 本文由简悦 SimpRead 转码",function(n,o){"collection"==E.type&&E.schema!=b.storage.secret.notion.schema&&(b.storage.secret.notion.schema=E.schema,E.Save(b.storage)),g.svcCbWrapper(n,o,E.name,t,new e)})},500)});break;case"github":_(function(o){S.access_token=b.storage.secret.github.access_token,S.repo=b.storage.secret.github.repo,S.path=b.storage.secret.github.path,S.Add(n+".md",o,function(n,o){g.svcCbWrapper(n,o,S.name,t,new e)})});break;case"youdao":_(function(o){d("load",function(){N.access_token=b.storage.secret.youdao.access_token,N.folder_id=b.storage.secret.youdao.folder_id,N.Add(n,o,function(n,o){g.svcCbWrapper(n,o,N.name,t,new e)})})});break;case"weizhi":C(function(r){var i=A.HTML(n,o,a,r,m);d("load",function(){$.kbServer=b.storage.secret.weizhi.kbServer,$.kbGuid=b.storage.secret.weizhi.kbGuid,$.folder=b.storage.secret.weizhi.folder,$.access_token=b.storage.secret.weizhi.access_token,$.Add(n,i.replace(/<script>[\S ]+<\/script>/gi,""),function(n,o){g.svcCbWrapper(n,o,$.name,t,new e)})})});break;case"joplin":_(function(o){T.access_token=b.storage.secret.joplin.access_token,T.folder_id=b.storage.secret.joplin.folder_id,T.Add(n,o,function(n,o){g.svcCbWrapper(n,o,T.name,t,new e)})});break;case"flomo":O.access_token=b.storage.secret.flomo.access_token;var j=n;k&&(j=f.AnnoteText(a),j=n+"\n\n"+j+"\n"),O.Add(j+"\n"+m+"\n\n#简悦",function(n,o){g.svcCbWrapper(n,o,O.name,t,new e)});break;case"focusnote":z.access_token=b.storage.secret.focusnote.access_token,_(function(a){z.Add(m,n,o,a,function(n,o){g.svcCbWrapper(n,o,z.name,t,new e)})})}}()};g.VerifySvcWrapper(b.storage,g[M],t,g.Name(t),new e).done(function(e){return j(e)})}();else if(t.startsWith("dyslexia"))t.endsWith("speak")?h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.speak,{content:"标题 "+n+" 正文 "+a})):h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.speak_stop));else if(t.startsWith("fullscreen"))document.documentElement.requestFullscreen();else if(t.startsWith("webdav_")||t.startsWith("webhook_")){var F=function(){var i=t.replace("webdav_","").replace("webhook_",""),s=function(t,r){"html"==t?C(function(e){var t=S(),i=A.HTML(n,o,a,e,m,!1,t);r(i)}):"ofhtml"==t?!function(){var t=(new e).Render({content:"图片转换中，请稍等...",state:"loading"});A.img2Base64(function(){t.complete(),(new e).Render(0,"全部图片已经转换完毕，开始发送，请稍等。"),C(function(e){var t=b.storage.option.annote.export||c?$("sr-annote-tmpl").html():$("sr-rd-content").html(),a=S(),i=A.HTML(n,o,t,e,m,!1,a);A.restoreImg(),r(i)})},b.storage.option.annote.export||c?a:void 0)}():_(function(e){r(e)})};if(t.startsWith("webdav_"))h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.track,{eventCategory:"service",eventAction:"service",eventValue:"webdav"})),b.storage.Safe(function(){b.storage.secret.webdav.forEach(function(o,a){o=JSON.parse(o),void 0==o.format&&(o.format="md"),(o.name==i||""==i&&0==a)&&s(o.format,function(a){n=n.replace(/[|@!#$%^&*()<>/,.+=\\]/gi,"-");var r=o.format.endsWith("html")?".html":".md";(new e).Render("开始保存到 "+o.name+"，请稍等..."),g.webdav.Add(o.url,o.user,o.password,""+n+r,a,function(n){var a=void 0;n&&201!=n.status&&204!=n.status&&(a="导出到 "+o.name+" 失败，请稍后再试。"),g.svcCbWrapper(n,a,o.name,t,new e)})})})});else{if(r())return{v:void 0};h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.track,{eventCategory:"service",eventAction:"service",eventValue:"webhooks"})),b.storage.option.export.webhooks.forEach(function(a){a=JSON.parse(a),t.endsWith(a.name)&&!function(){var t=a,r=t.name,i=t.url,l=t.type,c=t.fmt,d={url:i,type:l},u=b.storage.unread.tags&&""!=b.storage.unread.tags?"object"==p(b.storage.unread.tags)?b.storage.unread.tags.join(","):b.storage.unread.tags:"",f=a,h=f.headers,v=f.body;s(c,function(t){h&&(d.headers=h),v=JSON.stringify(v),v=v.replace(/{{url}}/gi,m).replace(/{{title}}/gi,n).replace(/{{desc}}/gi,o).replace(/{{note}}/gi,b.storage.unread.note||"").replace(/{{tags}}/gi,u).replace(/"{{content}}"/gi,JSON.stringify(t)),h?v&&(d.data=v):v&&(d.data=JSON.parse(v));var a=(new e).Render({content:"正在发送到 "+r+"，请稍等...",state:"loading"});g.Webhook(d,function(t,n){a.complete(),g.svcCbWrapper(t,n,r,l,new e)})})}()})}}();if("object"===("undefined"==typeof F?"undefined":p(F)))return F.v}else if(t.startsWith("custom_")){var W=function(){if(r())return{v:void 0};if(!b.storage.option.remote.export.plain)return(new e).Render(2,"此功能需要开启【同步助手的文本导出格式】选项。"),{v:void 0};h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.track,{eventCategory:"service",eventAction:"service",eventValue:"custom"}));var i=function(t,o){var a=(new e).Render({content:"正在保存到本地，请稍等...",state:"loading"});g.Enhance("http://localhost:"+b.storage.option.remote.port+"/convert",O(n),t,function(e,t){a.complete(),M(e,t)},{},{in:o.in,out:o.out})};b.storage.option.export.custom.forEach(function(e){e=JSON.parse(e),t.endsWith(e.name)&&("html"==e.in?C(function(t){var r=S(),s=A.HTML(n,o,a,t,m,v,!1,r);i(s,e)}):_(function(t){i(t,e)}))})}();if("object"===("undefined"==typeof W?"undefined":p(W)))return W.v}else if(t.startsWith("automated_")){if(!L.Verify())return;h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.track,{eventCategory:"service",eventAction:"service",eventValue:"automated"})),b.storage.option.automated.forEach(function(e){t.endsWith(e.id)&&L.Run(!0,function(e){i(e)||(l(e,n,o,a),s(e,n,o,a))},"manual",e.id)})}else(new e).Render(2,"当前模式下，不支持此功能。")}function l(e,t,n,o){if("both"==b.storage.option.annote.exp_mode){if(b.storage.option.annote.export=!1,!["html","offlinehtml","markdown","offlinemarkdown","markdeep","epub","pdf","textbundle"].includes(e))return!0;if(e.startsWith("automated_")||e.startsWith("webhook_"))return!0;b.storage.unread&&b.storage.unread.annotations&&b.storage.unread.annotations.length>0&&setTimeout(function(){b.storage.option.annote.export=!0,s(e,t,n,o)},400)}}function c(t,n,o,a,r,i,s){void 0==i&&(i=$("sr-annote[data-id="+o+"]").text().replace($('sr-annote-note[data-note-id="note-${id}"]').text(),"")),""==r&&(r=[]),b.storage.Safe(function(){var t={url:"http://localhost:"+b.storage.option.remote.port+"/service/hypothes",type:"POST",data:{id:o,uri:s,title:$("sr-rd-title").text(),text:a,tags:r,exact:i,method:n,token:b.storage.secret.hypothes.access_token,group:b.storage.secret.hypothes.group_id}};h.browser.runtime.sendMessage(x.Add(x.MESSAGE_ACTION.CORB2,{settings:t}),function(t){t&&403==t.done.status&&(new e).Render(2,'如果需要使用 <b>同步标注到 Readwise.io 的话</b> 请先在简悦 · 同步助手中开启此功能，详细 <a target="_blank" href="http://ksria.com/simpread/docs/#/Sync?id=Hypothesis">请看这里</a>')})})}function d(e,t){"load"==e?0==$("#sr-corb").length?($("html").append('<iframe id="sr-corb" src="'+h.browser.runtime.getURL("options/corb.html")+'" width="0" height="0" frameborder="0"></iframe>'),$("#sr-corb").on("load",function(e){return t()})):t():$("#sr-corb").remove()}Object.defineProperty(t,"__esModule",{value:!0}),t.isSyncAction=t.Sync=t.Action=void 0;var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=n(29),f=a(u),m=n(28),g=a(m),b=n(4),h=n(3),v=n(6),x=a(v),k=n(37),w=a(k),y=n(132),E=a(y),C=n(51),A=a(C),_=n(23),N=o(_),S=n(9),T=a(S),O=n(55),z=a(O),M=n(33),j=a(M),R=n(21),I=n(36),P=a(I),D=n(73),L=a(D),U=n(117),B=a(U);window.addEventListener(x.MESSAGE_ACTION.plugin_export,function(e){var t=e.detail,n=t.type,o=t.title,a=t.desc,r=t.content;s(n,o,a,r)}),t.Action=s,t.Sync=c,t.isSyncAction=i}).call(t,n(7))},55:function(e,t){"use strict";function n(){var e=0==$(".simpread-focus-highlight").length?$(".simpread-read-root"):$(".simpread-focus-highlight");return r=$.Deferred(),l=!1,e.append("<simpread-snapshot><sr-mask></sr-mask></simpread-snapshot>"),$("simpread-snapshot").on("mousemove",function(e){if(0!=l){s={left:e.clientX,top:e.clientY};var t=s.left-i.left,n=s.top-i.top;c={left:t>=0?i.left:s.left,top:n>=0?i.top:s.top,width:Math.abs(t),height:Math.abs(n)},$(e.currentTarget).find("sr-mask").css(c)}}).on("mousedown",function(e){i={left:e.clientX,top:e.clientY},l=!0}).on("mouseup",function(e){l=!1,a()}),r}function o(){$("html").find("simpread-snapshot").remove()}function a(){if(!($("simpread-snapshot sr-highlight-ctl").length>0)){var e='<sr-snapshot-ctlbar>\n                    <sr-highlight-ctl class="done"><svg t="1560496955945" viewBox="0 0 1024 1024" version="1.1" width="15" height="15"><defs><style type="text/css"></style></defs><path d="M416.832 798.08C400.64 798.08 384.512 791.872 372.16 779.52L119.424 525.76C94.784 500.992 94.784 460.8 119.424 436.032 144.128 411.264 184.128 411.264 208.768 436.032L416.832 644.928 814.4 245.76C839.04 220.928 879.04 220.928 903.744 245.76 928.384 270.528 928.384 310.656 903.744 335.424L461.504 779.52C449.152 791.872 432.96 798.08 416.832 798.08Z" p-id="1755" fill="#ffffff"></path></svg></sr-highlight-ctl>\n                    <sr-highlight-ctl class="none"><svg t="1560499513561" viewBox="0 0 1024 1024" version="1.1" width="15" height="15"><defs><style type="text/css"></style></defs><path d="M649.179 512l212.839-212.84c37.881-37.881 37.881-99.298 0-137.179s-99.298-37.881-137.179 0L512 374.821l-212.839-212.84c-37.881-37.881-99.298-37.881-137.179 0s-37.881 99.298 0 137.179L374.821 512 161.982 724.84c-37.881 37.881-37.881 99.297 0 137.179 18.94 18.94 43.765 28.41 68.589 28.41 24.825 0 49.649-9.47 68.589-28.41L512 649.179l212.839 212.84c18.94 18.94 43.765 28.41 68.589 28.41s49.649-9.47 68.59-28.41c37.881-37.882 37.881-99.298 0-137.179L649.179 512z" p-id="1990" fill="#ffffff"></path></svg></sr-highlight-ctl>\n                    <sr-highlight-ctl class="help"><svg t="1560573280563" viewBox="0 0 1024 1024" version="1.1" width="15" height="15"><defs><style type="text/css"></style></defs><path d="M512 958.326255c247.255337 0 447.696462-200.441125 447.696462-447.696462s-200.441125-447.696462-447.696462-447.696462-447.696462 200.441125-447.696462 447.696462S264.74364 958.326255 512 958.326255zM512 217.681788c35.32146 0 63.956637 28.635177 63.956637 63.956637 0 35.323507-28.635177 63.956637-63.956637 63.956637s-63.956637-28.633131-63.956637-63.956637C448.043363 246.316965 476.67854 217.681788 512 217.681788zM448.043363 510.629793c0-35.32146 28.635177-63.956637 63.956637-63.956637s63.956637 28.635177 63.956637 63.956637l0 223.848231c0 35.323507-28.635177 63.956637-63.956637 63.956637s-63.956637-28.633131-63.956637-63.956637L448.043363 510.629793z" p-id="1979" fill="#ffffff"></path></svg></sr-highlight-ctl>\n                  </sr-snapshot-ctlbar>';
$("simpread-snapshot").append(e),$("simpread-snapshot").on("click","sr-highlight-ctl",function(e){var t=$(e.currentTarget).attr("class");if("done"==t)r.resolve(c);else if("none"==t)o();else if("help"==t){var n=$('<a style="display:none" target="_blank" href="http://ksria.com/simpread/docs/#/截图"></a>').appendTo("body");n[0].click(),n.remove()}})}}Object.defineProperty(t,"__esModule",{value:!0});var r=void 0,i=void 0,s=void 0,l=!1,c=void 0;t.Start=n,t.End=o},56:function(e,t,n){var o,a,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(i,s){"object"==r(t)&&"undefined"!=typeof e?e.exports=s():(o=s,a="function"==typeof o?o.call(t,n,t,e):o,!(void 0!==a&&(e.exports=a)))}(void 0,function(){"use strict";function e(e){return $.extend(!0,{},e)}function t(e){if(document){var t=document.createElement("a");return t.href=e,t}var n=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return n&&{href:e,protocol:n[1],host:n[2],hostname:n[3],port:n[4],pathname:n[5],search:n[6],hash:n[7]}}function n(e){if(""==e)return[0,e];if(a(e))return[2,e];var t=e.match(/<\S+ (class|id)=("|')?[\w-_=;:' ]+("|')?>?$|<[^/][-_a-zA-Z0-9]+>?$/gi);return t&&t.length>0?[1,t]:[-1,void 0]}function o(e){var t=n(e),o=w(t,2),a=o[0],r=o[1];if(2==a)return e;if(1==a){var i=r[0].trim().replace(/['"<>]/g,"").replace(/ /gi,"=").split("="),s=w(i,3),l=s[0],c=s[1],d=s[2];return c?"class"===c.toLowerCase()?c=l+"."+d:"id"===c.toLowerCase()&&(c=l+"#"+d):c=l,c}return null}function a(e){return/^(\[\[)[\[{`'/]{1}[ \S]+[}`'/\]]\]\]{1}($)/g.test(e)}function i(e){var t=[e.replace(/(^)\[\[|\]\]$/g,"")],n=t[0],o=t[1];switch(n[0]){case"{":n=n.replace(/^{|}$/g,""),e=new Function("return "+n)(),o=0;break;case"'":e=(e=n.replace(/^'|'$/g,"")).match(/^<[a-zA-Z0-9_-]+>/g).join("").replace(/<|>/g,"")+":contains("+e.replace(/<[/a-zA-Z0-9_-]+>/g,"")+")",o=1;break;case"/":e=n.replace(/^\/|\/$/g,"").replace(/\\{2}/g,"\\").replace(/'/g,'"'),o=2;break;case"[":n=n.replace(/^{|}$/g,""),e=new Function("return "+n)()[0],o=3;break;case"`":n=l(n=n.replace(/^`|`$/g,"")),e=$(n),o=4;break;default:o=-1}return[e,o]}function s(e){try{if(""!=e.id)return void 0==e.id?"":"//*[@id='"+e.id+"']";if(e===document.body)return"/html[1]/"+e.tagName.toLowerCase();for(var t=0,n=e.parentNode.childNodes,o=0;o<n.length;o++){var a=n[o];if(a===e)return s(e.parentNode)+"/"+e.tagName.toLowerCase()+"["+(t+1)+"]";1===a.nodeType&&a.tagName===e.tagName&&t++}}catch(e){return""}}function l(e){return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}function c(){var e=$("body"),t=!0,n=!1,o=void 0;try{for(var a,r=["[itemprop='articleBody']","article",".post-content",".entry-content",".post-article",".content-post",".article-entry",".article-content",".article-body",".markdown-body",".post",".content"][Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var i=a.value,s=e.find(i);if(s.length>0)return s}}catch(e){n=!0,o=e}finally{try{!t&&r.return&&r.return()}finally{if(n)throw o}}return-1}function d(){var e=document.location,t=(e.href,e.host,e.protocol,e.host,e.protocol.substr(0,e.protocol.indexOf(":")),e.protocol,e.host,e.pathname.substr(0,e.pathname.lastIndexOf("/")+1),new A.Readability(document.cloneNode(!0)).parse());return t}function p(n,o,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=function(e){var t=e.replace("www.","").match(/\.\S+\.\S+/g);return t?t[0].substr(1):e.replace("www.","")},s=t(N),l=[].concat(y(o.keys())),c=a.match(/[.a-zA-z0-9-_]+/g)[1].replace("www.",""),d=i(s.hostname),p=function(){return"/"==s.pathname||/\/(default|index|portal).[0-9a-zA-Z]+$/.test(s.pathname)},u=!0,f=!1,m=void 0;try{for(var g,b=l[Symbol.iterator]();!(u=(g=b.next()).done);u=!0){var h=g.value,v=o.get(h).name,x=i(v);h.startsWith("[[/")&&h.endsWith("/]]")&&new RegExp(h.replace(/^\[\[\/|\/\]\]/g,"")).test(location.href)?r.push([h,e(o.get(h)),n]):p()||h.endsWith("*")||h.replace(/^http[s]?:/,"")!=a.replace(/^http[s]?:/,"")?h.match(/\*/g)&&1==h.match(/\*/g).length&&!p()&&h.endsWith("*")&&c.includes(x)&&d==x&&a.includes(v)?r.push([h,e(o.get(h)),n]):C(s.origin+s.pathname,h)&&r.push([h,e(o.get(h)),n]):r.push([h,e(o.get(h)),n])}}catch(e){f=!0,m=e}finally{try{!u&&b.return&&b.return()}finally{if(f)throw m}}}function u(e){if(!e.name||!e.url||!e.include)return-1;if(-1==n(e.title)[0]||-1==n(e.include)[0]||-1==n(e.desc)[0])return-2;if(e.paging){if(2!=e.paging.length)return-3;if(!e.paging[0].prev)return-4;if(!e.paging[1].next)return-5;if(-1==n(e.paging[0].prev)[0]||-1==n(e.paging[1].next)[0])return-6}if(e.avatar){if(2!=e.avatar.length)return-7;if(!e.avatar[0].name)return-8;if(!e.avatar[1].url)return-9;if(-1==n(e.avatar[0].name)[0]||-1==n(e.avatar[1].url)[0])return-10}return 0}function f(e){var t=e.replace('<div id="readability-page-1" class="page">',""),n=$(t)[0],o=n.outerHTML.replace(n.innerHTML,""),a=$(o)[0],r=a.tagName.toLowerCase(),i=a.className;return{id:a.id,cls:i,tag:r}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=$("html");if(a(e)){var o=i(e),r=w(o,2),s=r[0],l=r[1];0==l?e=s:3==l?e=g(n.find(s)):4==l&&(e=s.html())}else"html"==t?e=g(n.find(e)):"multi"==t||(e=n.find(e).text().trim());return e}function g(e){var t="";switch(e.length){case 0:t="<sr-rd-content-error></sr-rd-content-error>";break;case 1:t=e.html().trim();break;default:t=e.map(function(e,t){return $(t).html()}).get().join("<br>")}return t}var b=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},h=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},x=function e(t,n,o){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,o)}if("value"in a)return a.value;var i=a.get;return void 0!==i?i.call(o):void 0},k=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=("undefined"==typeof t?"undefined":r(t))&&"function"!=typeof t?e:t},w=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(a)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},E={url:"",target:"",matching:[],name:"",title:"",desc:"",exclude:[],include:"",avatar:[],paging:[]},C=void 0,A=void 0,_=void 0,N=void 0,S=function(){function n(){var e,t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{global:[],custom:[],local:[]};b(this,n),this.url=(t=(e="/"!=(e=window.location.pathname)&&e.endsWith("/")?e=e.replace(/\/$/,""):e).replace(/\/[%@#.~a-zA-Z0-9_-]+$|^\/$/g,""),window.location.protocol+"//"+window.location.hostname+t+"/"),this.sites=o,this.current={},this.state="none",this.origins=[],this.mathjax=void 0,N=location.href}return h(n,[{key:"SetURL",value:function(e){var n,o=t(e),a=(n="/"!=(n=o.pathname)&&n.endsWith("/")?n=n.replace(/\/$/,""):n).replace(/\/[%@#.~a-zA-Z0-9_-]+$|^\/$/g,"");this.url=o.protocol+"//"+o.hostname+a+"/",N=e}},{key:"SetMinimatch",value:function(e){C=e}},{key:"SetRdability",value:function(e){A=e}},{key:"SetMarkdown",value:function(e){_=e}},{key:"isMathJax",value:function(){var e=this;return void 0==this.mathjax&&(this.mathjax=!1,$("body").find("script").each(function(t,n){n.type.startsWith("math")&&(e.mathjax=!0)})),this.mathjax}},{key:"MathJaxMode",value:function(){var e=c();if(-1!=e)return this.Newsite("read",e[0].outerHTML),this.dom=e[0],this.state="temp",e;var t=d();if(t&&""!=t.content){var n=f(t.content),o=n.id,a=n.cls,r=n.tag;return""!=o?"<"+r+' id="'+o+'">':""!=a?"<"+r+' class="'+a+'">':void 0}}},{key:"Readability",value:function(){try{var t=d();if(!t||""==t.content)throw"Readability error";this.Newsite("read",t.content,t.excerpt);var n=f(t.wrap),o=n.id,a=n.cls,r=n.tag;this.dom=""!=o?$("body").find("#"+o)[0]:""!=a?$("body").find("."+a.replace(/ /gi,"."))[0]:$("body").find(""+r)[0],this.state="temp"}catch(t){var i=c();-1!=i?(this.Newsite("read",i[0].outerHTML),this.dom=i[0],this.state="temp"):this.current.site=e(E)}}},{key:"Getsite",value:function(e,t){return this.sites[e].find(function(e){return e[0]==t})}},{key:"Getsites",value:function(){var e=this,t=[],n=function(){if(C(location.href,"file://**/*.txt")||C(location.href,"http*://**/*.txt"))return function(){var e=location.pathname.split("/").pop(),t="file:"==location.protocol?"local":"remote",n={name:"txtread::"+t,title:"<title>",desc:"",include:"<pre>",auto:!1,exclude:[]};return"remote"==t&&(n.include="",n.html=$("body pre").html().replace(/\n/gi,"<br>")),!$("title").html()&&$("head").append("<title>"+decodeURI(e.replace(".txt",""))+"</title>"),n}();if($($("body").children()[0]).is("pre")&&(C(location.href,"file://**/*.md")||C(location.href,"http*://**/*.md")))return function(){var e=location.pathname.split("/").pop(),t={name:"txtread::"+("file:"==location.protocol?"local":"remote"),title:"<title>",desc:"",include:"",auto:!1,exclude:[]},n=(new _.default.Converter).makeHtml($("body pre").text());return t.html=n,!$("title").html()&&$("head").append("<title>"+decodeURI(e.replace(".md",""))+"</title>"),t}();var e=/<\S+ (class|id)=("|')?[\w-_=;:' ]+("|')?>?$|<[^/][-_a-zA-Z0-9]+>?$/gi,t={name:$("meta[name='simpread:name']").attr("content"),url:$("meta[name='simpread:url']").attr("content"),title:$("meta[name='simpread:title']").attr("content"),desc:$("meta[name='simpread:desc']").attr("content"),include:$("meta[name='simpread:include']").attr("content"),exp:$("meta[name='simpread:exclude']").attr("content"),auto:$("meta[name='simpread:auto']").attr("content"),exclude:[]};if(t.name&&t.include){if(t.url&&!C(location.href,t.url))return;!t.title&&(t.title="<title>"),!t.desc&&(t.desc=""),!t.exp&&(t.exp=""),t.name="metaread::"+t.name,t.auto="true"==t.auto;var n=["title","desc","include","exp"].findIndex(function(n){return""!=t[n]&&!t[n].match(e)});return t.exclude.push(t.exp),delete t.exp,-1==n?t:void 0}}();if(this.current.url=this.url,n)this.current.auto=n.auto,this.current.url=n.url,delete n.auto,delete n.url,this.current.site=v({},n),this.current.site.name.startsWith("metaread::")&&(this.state="meta"),this.current.site.name.startsWith("txtread::")&&(this.state="txt");else if(p("local",new Map(this.sites.local),this.url,t),p("global",new Map(this.sites.global),this.url,t),p("person",new Map(this.sites.person),this.url,t),p("custom",new Map(this.sites.custom),this.url,t),t.length>0){var o=void 0;if(t.forEach(function(t){t[1].active&&(o=t,e.current.url=o[0],e.current.site=e.Safesite(v({},o[1]),o[2],o[0]),e.state="adapter")}),!o){var a=t[0];a[1].active=!0,this.current.url=a[0],this.current.site=this.Safesite(v({},a[1]),a[2],a[0]),this.state="adapter"}}else{var r=function(){if(location.pathname.includes("thread")||location.pathname.includes("forum.php")){if($(".t_f").length>0&&$(".favatar").find(".authi").length>0&&$(".avatar").find("img").length>0)return{avatar:[{name:"[[{$('.favatar').find('.authi')}]]"},{url:"[[{$('.avatar').find('img')}]]"}],include:"[[{$('.t_f')}]]"}}else if(/\/t\/[\w-]+\/\d+/.test(location.pathname)&&$("meta[name=generator]").attr("content").includes("discourse"))return{avatar:[{name:"[[{$('.topic-avatar').find('.a[data-user-card]')}]]"},{url:"[[{$('.topic-avatar').find('img')}]]"}],include:"[[{$('.cooked')}]]"};return-1}();-1!=r?(this.Newmultisite("read",r),this.state="temp"):this.Readability()}this.current.site.matching=t}},{key:"Addsites",value:function(e){var t=0;if(0==this.sites.global.length)this.sites.global=this.Formatsites(e),t=this.sites.global.length;else{var n=function(e,t){var n=new Map(t),o=[].concat(y(n.keys())),a=0;return e.map(function(e){o.includes(e[0])?o.includes(e[0]):a++}),{count:a,newsites:e}}(this.Formatsites(e),this.sites.global);t=n.count,this.sites.global=n.newsites}return t}},{key:"Addlocalsites",value:function(e){return this.sites.local=[].concat(y(e)),this.sites.local}},{key:"Addallsites",value:function(e){return this.sites={global:[].concat(y(e.global)),person:[].concat(y(e.person)),custom:[].concat(y(e.custom)),local:[].concat(y(e.local))},this.sites}},{key:"Newsite",value:function(e,t,n){var o={mode:e,url:window.location.href,site:{name:"tempread::"+window.location.host,title:"<title>",desc:"[[{$('meta[name=Description]').attr('content')||$('meta[name=description]').attr('content')}]]",include:"",exclude:[]}};t&&(o.site.html=t),this.current.mode=o.mode,this.current.url=o.url,this.current.site=this.Safesite(v({},o.site),"local",o.url),n&&(this.current.site.excerpt=n)}},{key:"Newmultisite",value:function(e,t){var n={mode:e,url:window.location.href,site:{name:"tempread::"+window.location.host,title:"<title>",desc:"",include:t.include,exclude:[],avatar:t.avatar}};this.current.mode=n.mode,this.current.url=n.url,this.current.site=this.Safesite(v({},n.site),"local",n.url)}},{key:"Updatesite",value:function(e,t,n){var o=this.sites[e].findIndex(function(e){return e[0]==t});-1==o&&(o=this.sites[e].length),this.sites[e].splice(o,1,n)}},{key:"Deletesite",value:function(e,t,n){var o=this.sites[e].findIndex(function(e){return e[0]==t});-1!=o&&this.sites[e].splice(o,1),n(o)}},{key:"Safesite",value:function(e,t,n){return e.url=n,e.target=t,""==e.name&&(e.name="tempread::"),(!e.avatar||0==e.avatar.length)&&(e.avatar=[{name:""},{url:""}]),(!e.paging||0==e.paging.length)&&(e.paging=[{prev:""},{next:""}]),e}},{key:"Cleansite",value:function(e){return delete e.url,delete e.html,delete e.target,delete e.matching,e.avatar&&e.avatar.length>0&&""==e.avatar[0].name&&delete e.avatar,e.paging&&e.paging.length>0&&""==e.paging[0].prev&&delete e.paging,e}},{key:"Formatsites",value:function(e){var t=new Map,n=!0,o=!1,a=void 0;try{for(var r,i=e.sites[Symbol.iterator]();!(n=(r=i.next()).done);n=!0){var s=r.value;if(0==u(s)){var l=s.url;delete s.url,t.set(l,s)}}}catch(e){o=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw a}}return[].concat(y(t))}},{key:"Clearsites",value:function(e){e?this.sites[e]=[]:this.sites={global:[],custom:[],local:[]}}},{key:"Origins",value:function(e){var t=e.origins.map(function(e){return e.url});return(t=new Set(this.origins.concat(t))).forEach(function(e){""!=e.trim()&&e.trim().startsWith("http")&&e.trim().endsWith(".json")||t.delete(e)}),this.origins=[].concat(y(t)),this.origins}},{key:"Addorigins",value:function(e){return this.sites.custom=[].concat(y(e)),this.sites.custom}},{key:"Clearorigins",value:function(){var e=this.sites.custom.length;return this.sites.custom=[],e}}]),n}();return function(t){function n(e){b(this,n);var t=k(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.version="0.0.4 build 210524",t.org_url=location.href,t.html={},t.plugin={},t.pure=!1,t.cleanup=!1,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":r(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,S),h(n,[{key:"Exist",value:function(){return this.org_url==location.href}},{key:"AddPlugin",value:function(e){this.plugin={minimatch:e.minimatch,pangu:e.pangu,beautify:e.beautify,stylesheet:e.style,rdability:e.rdability,markdown:e.markdown},x(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"SetMinimatch",this).call(this,this.plugin.minimatch),x(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"SetRdability",this).call(this,this.plugin.rdability),x(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"SetMarkdown",this).call(this,this.plugin.markdown)}},{key:"ReadMode",value:function(){var t,n,a,r,i;this.html=(t=this.current.site,n=e(t),a=o(""==t.title?"<title>":t.title),r=o(t.desc),i=o(t.include),n.title=""==t.title||"<title>"==t.title?$("head title").text():m(a),n.desc=function(e){if(void 0==e)return e;var t=e.length,n=e.indexOf("。")+1;return t>100&&(e=n>0?e.substr(0,n):e.substr(0,101)+"......"),e}(t.excerpt?t.excerpt:m(r)),n.include=""==t.include&&""!=t.html?t.html:m(i,"html"),n.avatar&&n.avatar.length>0&&""==n.avatar[0].name&&delete n.avatar,n.paging&&n.paging.length>0&&""==n.paging[0].prev&&delete n.paging,n.avatar&&n.avatar.forEach(function(e){var t=Object.keys(e).join(),n=e[t];e[t]=m(o(n),"html")}),n.paging&&n.paging.forEach(function(e){var t=Object.keys(e).join(),n=e[t];e[t]=m(o(n))}),n)}},{key:"TempMode",value:function(e,t){this.state="temp",this.dom=t,this.Newsite(e,t.outerHTML)}},{key:"GetDom",value:function(e,t){return m(o(e),t)}},{key:"Include",value:function(){var e=this.current.site.include,t=[],n=o(e);try{if(a(n)){var r=i(e),s=w(r,2),l=s[0],c=s[1];0==c?(e=e.replace(/\[\[{\$\(|}\]\]|\).html\(\)/g,""),t=$(i("[[["+e+"]]]")[0])):3==c&&(t=l)}else n&&(t=$("body").find(n))}catch(e){}return t}},{key:"Exclude",value:function(e){return function(e,t){var n=[],r="",s=!0,l=!1,c=void 0;try{for(var d,p=t[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var u=d.value;if(a(u)){var f=i(u),m=w(f,2),g=m[0],b=m[1];if(1==b)r=g;else if(2==b){var h=e.html().match(new RegExp(g,"g"));if(h&&h.length>0){var v=h.join("");r="*["+v+"]"}else r=void 0}else 3==b?g.remove():4==b&&g.remove()}else r=o(u);r&&n.push(r)}}catch(e){l=!0,c=e}finally{try{!s&&p.return&&p.return()}finally{if(l)throw c}}return n.join(",")}(e,this.current.site.exclude)}},{key:"Beautify",value:function(e){0!=e.children().length&&this.plugin.beautify&&(this.plugin.beautify.specTag(this.current.site.name,e),this.cleanup&&this.plugin.beautify.cleanHTML(e,this.pure,this.isMathJax()),this.plugin.beautify.specbeautify(this.current.site.name,e),this.plugin.beautify.removeSpareTag(this.current.site.name,e),this.plugin.beautify.htmlbeautify(e),this.plugin.beautify.commbeautify(this.current.site.name,e),this.plugin.beautify.imgBrokenReload(e))}},{key:"Format",value:function(e){this.plugin.pangu&&this.plugin.pangu.spacingElementByClassName(e)}},{key:"Utils",value:function(){return{dom2Xpath:s,xPath2Dom:l}}}]),n}()})},60:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,'.simpread-font{font:300 16px/1.8 -apple-system,PingFang SC,Microsoft Yahei,Lantinghei SC,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif;color:#333;text-rendering:optimizelegibility;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased}.simpread-hidden{display:none}.simpread-read-root{display:-webkit-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;margin:0;top:-1000px;left:0;width:100%;z-index:2147483646;overflow-x:hidden;opacity:0;-webkit-transition:all 1s cubic-bezier(.23,1,.32,1) .1s;transition:all 1s cubic-bezier(.23,1,.32,1) .1s}.simpread-read-root-show{top:0}.simpread-read-root-hide{top:1000px}sr-read{display:-webkit-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column nowrap;flex-flow:column;margin:20px 20%;min-width:400px;min-height:400px;text-align:center}read-process{position:fixed;top:0;left:0;height:3px;width:100%;background-color:#64b5f6;-webkit-transition:width 2s;transition:width 2s;z-index:20000}sr-rd-content-error{display:block;position:relative;margin:0;margin-bottom:30px;padding:25px;background-color:rgba(0,0,0,.05)}sr-rd-footer{-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;font-size:14px}sr-rd-footer,sr-rd-footer-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}sr-rd-footer-group{-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}sr-rd-footer-line{width:100%;border-top:1px solid #e0e0e0}sr-rd-footer-text{min-width:150px}sr-rd-footer-copywrite{margin:10px 0 0;color:inherit}sr-rd-footer-copywrite abbr{-webkit-font-feature-settings:normal;font-feature-settings:normal;font-variant:normal;text-decoration:none}sr-rd-footer-copywrite .second{margin:10px 0}sr-rd-footer-copywrite .third a:hover{border:none!important}sr-rd-footer-copywrite .third a:first-child{margin-right:50px}sr-rd-footer-copywrite .sr-icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:33px;height:33px;opacity:.8;-webkit-transition:opacity .5s ease;transition:opacity .5s ease;cursor:pointer}sr-rd-footer-copywrite .sr-icon:hover{opacity:1}sr-rd-footer-copywrite a,sr-rd-footer-copywrite a:link,sr-rd-footer-copywrite a:visited{margin:0;padding:0;color:inherit;background-color:transparent;font-size:inherit!important;line-height:normal;text-decoration:none;vertical-align:baseline;vertical-align:initial;border:none!important;box-sizing:border-box}sr-rd-footer-copywrite a:focus,sr-rd-footer-copywrite a:hover,sr-rd-footer a:active{color:inherit;text-decoration:none;border-bottom:1px dotted!important}.simpread-blocks{text-decoration:none!important}.simpread-blocks *{margin:0}.simpread-blocks a{padding:0;text-decoration:none!important}.simpread-blocks img{margin:0;padding:0;border:0;background:transparent;box-shadow:none}.simpread-focus-root{display:block;position:fixed;top:0;left:0;right:0;bottom:0;background-color:hsla(0,0%,92%,.9);z-index:2147483645;opacity:0;-webkit-transition:opacity 1s cubic-bezier(.23,1,.32,1) 0ms;transition:opacity 1s cubic-bezier(.23,1,.32,1) 0ms}.simpread-focus-highlight{position:relative;box-shadow:0 0 0 20px #fff;background-color:#fff;overflow:visible;z-index:2147483646}.sr-controlbar-bg sr-rd-crlbar,.sr-controlbar-bg sr-rd-crlbar fab{z-index:2147483647}sr-rd-crlbar.controlbar{position:fixed;right:0;bottom:0;width:100px;height:100%;opacity:0;-webkit-transition:opacity .5s ease;transition:opacity .5s ease}sr-rd-crlbar.controlbar:hover{opacity:1}sr-rd-crlbar fap *{box-sizing:border-box}@media (max-height:620px){fab{zoom:.8}}@media (max-height:783px){dialog-gp dialog-content{max-height:580px}dialog-gp dialog-footer{border-top:1px solid #e0e0e0}}.simpread-highlight-selector{outline:3px dashed #1976d2!important;cursor:pointer!important}.simpread-highlight-controlbar,.simpread-highlight-selector{background-color:#fafafa!important;opacity:.8!important;-webkit-transition:opacity .5s ease!important;transition:opacity .5s ease!important}.simpread-highlight-controlbar{position:relative!important;border:3px dashed #1976d2!important}simpread-highlight,sr-snapshot-ctlbar{position:fixed;top:0;left:0;right:0;padding:15px;height:50px;background-color:rgba(50,50,50,.9);box-shadow:0 2px 5px rgba(0,0,0,.26);box-sizing:border-box;z-index:2147483640}simpread-highlight,sr-highlight-ctl,sr-snapshot-ctlbar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}sr-highlight-ctl{margin:0 5px;width:50px;height:20px;color:#fff;background-color:#1976d2;border-radius:4px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);cursor:pointer}toc-bg{position:fixed;left:0;top:0;width:50px;height:200px;font-size:medium}toc-bg:hover{z-index:3}.toc-bg-hidden{opacity:0;-webkit-transition:opacity .5s ease;transition:opacity .5s ease}.toc-bg-hidden:hover{opacity:1;z-index:3}.toc-bg-hidden:hover toc{width:180px}toc *{all:unset}toc{position:fixed;left:0;top:100px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;padding:10px;width:0;max-width:200px;max-height:500px;overflow-x:hidden;overflow-y:hidden;cursor:pointer;border:1px solid hsla(0,0%,62%,.22);-webkit-transition:width .5s;transition:width .5s}toc:hover{overflow-y:auto}toc.mini:hover{width:200px!important}toc::-webkit-scrollbar{width:3px}toc::-webkit-scrollbar-thumb{border-radius:10px;background-color:hsla(36,2%,54%,.5)}toc outline{position:relative;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;padding:2px 0;min-height:21px;line-height:21px;text-align:left}toc outline a,toc outline a:active,toc outline a:focus,toc outline a:visited{display:block;width:100%;color:inherit;font-size:11px;text-decoration:none!important;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}toc outline a:hover{font-weight:700!important}toc outline a.toc-outline-theme-dark,toc outline a.toc-outline-theme-night{color:#fff!important}.toc-level-h1{padding-left:5px}.toc-level-h2{padding-left:15px}.toc-level-h3{padding-left:25px}.toc-level-h4{padding-left:35px}.toc-outline-active{border-left:2px solid #f44336}toc outline active{position:absolute;left:0;top:0;bottom:0;padding:0 0 0 3px;border-left:2px solid #e8e8e8}sr-kbd{background:-webkit-gradient(linear,0 0,0 100%,from(#fff785),to(#ffc542));border:1px solid #e3be23;-o-border-image:none;border-image:none;-o-border-image:initial;border-image:initial;position:absolute;left:0;padding:1px 3px 0;font-size:11px!important;font-weight:700;box-shadow:0 3px 7px 0 rgba(0,0,0,.3);overflow:hidden;border-radius:3px}.sr-kbd-a{position:relative}kbd-mapping{position:fixed;left:5px;bottom:5px;-ms-flex-flow:row;flex-flow:row;width:250px;height:500px;background-color:#fff;border:1px solid hsla(0,0%,62%,.22);box-shadow:0 2px 5px rgba(0,0,0,.26);border-radius:3px}kbd-mapping,kbd-maps{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}kbd-maps{margin:40px 0 20px;width:100%;overflow-x:auto}kbd-maps::-webkit-scrollbar-thumb{background-clip:padding-box;border-radius:10px;border:2px solid transparent;background-color:rgba(85,85,85,.55)}kbd-maps::-webkit-scrollbar{width:10px;-webkit-transition:width .7s cubic-bezier(.4,0,.2,1);transition:width .7s cubic-bezier(.4,0,.2,1)}kbd-mapping kbd-map-title{position:absolute;margin:5px 0;width:100%;font-size:14px;font-weight:700}kbd-maps-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}kbd-maps-title{margin:5px 0;padding-left:53px;font-size:12px;font-weight:700}kbd-map kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #c6cbd1;border-bottom-color:#959da5;border-radius:3px;box-shadow:inset 0 -1px 0 #959da5}kbd-map kbd-name{display:inline-block;text-align:right;width:50px}kbd-map kbd-desc{padding-left:3px}sharecard-bg{position:fixed;top:0;left:0;width:100%;height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:rgba(0,0,0,.4);z-index:2147483647}sharecard{max-width:450px;background-color:#64b5f6}sharecard,sharecard-head{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}sharecard-head{margin:25px;color:#fff;border-radius:10px;box-shadow:0 2px 6px 0 rgba(0,0,0,.2),0 25px 50px 0 rgba(0,0,0,.15)}sharecard-card{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}sharecard-card,sharecard-top{display:-webkit-box;display:-ms-flexbox;display:flex}sharecard-top{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding-right:5px;height:65px;background-color:#fff;color:#878787;font-size:25px;font-weight:500;border-top-left-radius:10px;border-top-right-radius:10px}sharecard-top span.logos{display:block;width:48px;height:48px;margin:5px;background-repeat:no-repeat;background-position:50%;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAABU1BMVEUAAAAnNJMnNZI3Q5onNJInNJMnNJInNJMnNJI8SJ0tOZY/S55EUKAoNJI6RpwoNJNIU6InNJInNJImNJI7SJwmNJJ2fLUiMJFKVaNCTJ9faK1HUaJOWKVSXaUnNJNYY6pye7cmM5JXYKhwebMjMI8mL4719fW9vb0oNZP/UlLz8/QqN5TAwMAnNJPv7+/Pz8/q6+/p6enNzc3Kysry8vMsOJXc3env7/LU1uXo29vR0dHOzs7ExMTwjo73bW37XV3Aj1TCYELl5u3n5+fW2Obn6O7f4OrZ2+g0QJkxPpgvO5bh4uvS1OTP0ePCwsJQW6ZLVqTs7fHd3d3V1dXqv79VX6lET6A1TIxXUIBSgHxWQnpelHf+WVnopkXqbC7j5Ozi4uLDw8NGUaFATJ9SgH3r6+vGyd7BxNva2trX19ejqM2gpczHx8dze7Zha67Z2dlTgH1aXQeSAAAAJnRSTlMA6ff+497Y8NL+/fv49P379sqab/BeOiX06tzVy8m/tKqpalA7G6oKj0EAAAJlSURBVEjHndNXWxpBFIDhcS2ICRLAkt4Dx4WhLk0E6R0MYoIISrWX5P9f5cwSIRC2+T1czMV5n2FnZwn2eWONUqCAv3H2Uf5Ra1hx4+0WEXtDQW0fCPYJ1EffEfIV4CSROAE4jsePoTFsNmTJF/IeIHF2lgCIn57GodlqDWXBK7IwBYatVlMWFAildPKX7I3m74Z9fsCiQChoimoFQAz04Ad2gH1n9fv9n9hgMNDr9euLWD6fLxQKxaLfb7dTSlahbFVdEPwIQtrAihZQgyKCtCagbQe3xh0QFMgy5MR11+ewYY5/qlZ7vT2xu93ULKjbFLpiUxnIIwjgKmVTLDUFXMrAi2NJWCRLIthTBo4xyOLKpwyqU6CuDCI41hFBCVdOhyLw4FgJ1skCAiyl9BSHbCorgo6VJXTru5hrVCQS8Yr5xLzX59YJSFpVFwD9U0BGC3hGdFpATgRupTGe9R9I1b1ePBvXKDyvq/O/44LT4/E4BUbSCAwj8Evq6HlnOBprx6JhJz8Gktc7xeaP9ndY+0coQvCccFBD4JW60UIY50ciLOAODAQRVOeCHm4Q3Xks6uRDY+CQ+AR4T2wMYh6+jMCIQOp78CFoj0H7EQgIuhI3dGaHCrwgADwCPjJvA372GRigCJg49FUdk3D87pq3zp4SA5zc1Zh9DxfwkpjgUg5Mv+lbeE3McC8Lpu7SA3wk2xzcqL2tN5DfIsQC8HB7UamUy6FQOpTO5QKBQDZbKnWSyUzGjdWCwaDA8+7Le4BNgm3qQGWchYh9s5hNq6wVbBlbwhZYOp3OYOA4zmgEypnM2zj8ByIdedKrH8vDAAAAAElFTkSuQmCC");zoom:.8}sharecard-content{padding:15px;max-height:500px;font-size:20px;text-align:justify;background-color:#2196f3;overflow-x:hidden;overflow-y:auto}sharecard-via{padding:10px;font-size:10px;background-color:#2196f3}sharecard-footer{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding-right:5px;height:100px;background-color:#fff;color:#878787;font-size:15px;font-weight:500;border-bottom-left-radius:10px;border-bottom-right-radius:10px}sharecard-footer,sharecard-footer div{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}sharecard-footer span.qrcode{display:block;width:100px;height:100px;margin:5px;background-repeat:no-repeat;background-position:50%;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAA7VBMVEUAAAD///8ZGRnw8PBWVlb4+PgeHh719fVEREQlJSUODg6Ojo7Ly8v9/f1NTU2VlZUFBQV6enrCwsLy8vLh4eE0NDQLCwu8vLyXl5dxcXHa2trAwMCFhYVDQ0OysrKampo7OzssLCwICAioqKjJyckhISHu7u4/Pz9TU1NQUFBLS0tAQED6+vrS0tKRkZFISEgvLy+goKB+fn5vb29nZ2fm5uYbGxvk5OTX19d2dnZaWlre3t5hYWEyMjK5ubkoKCgVFRXQ0NDMzMzFxcW0tLSsrKykpKSMjIzq6urU1NSAgICvr6+cnJyHh4dsbGyfc25QAAAFkElEQVRIx4WXB3faMBCA74wHxgMMGAOh1MyyVyBAmtVmd/3/n1OdDtWstt/Li5JD35MtnU4CMnCIlkLEOpSKuMPhuI4FE444L9+dyv3zciad/rAjfU/yOPpGcjWS1NKSGsk29WTSD1IeYsIPkvsAJF+C5BIZkieYMNjJnsF4+JHk61wOSlVDyOIPqKBgZIxYTrqy/AmNtC1ps7yqlgE6dgYa1WqD5aV9SbKDbe6ZNnCq5A5ILlhGjEASIoawJdmHHo98AZLOnmxzKM9yK9Aht63FoAWBBmEgsEHnkfMgsZU8PJbpbXJd3MIep/Lg/MjbRqMRRuNtQ4Tthga5RiNzfmSWD97ZExQ64HhtgLb3CmbBGyj54vixjyeMsKjnV4AvOAHTwsHphKnH9toXki7Li3jLsgswizskv+c3PHKXe7ZHu5E/YMKcM2yqZIJkAclZTPClbJezivI1yTr4f+TeMib5qXxHsr7XtUFJDIc8pLAHA7Su4JXkd8ySnKZddQXH2NohswIutRu0Qu0jyS46JPugU+gISB1R8NBKWegVUsahTKEjAP9Bm5bKAc3DPlzjKaDvscE7PeEJu63WUg9a82tdA1O/ESupL9Cr6C1cXetjIe9zgQ4kvKLgHi6xC5LcGq9hhmiK0AYgUvLQtzm3n/x0jnum/Vo9j1jxg/pL3/f9W8isMOsv6/Ubf47rvl+u17nnZ1xQ+4iIXa6IpRVeimEEE3pnxO8kIz4CbFDyidVSpooBCCLLsj5noFlqUg2rwK0l+Anmm+VhCzKfrRHtqjGOLANxUKIUiYvFEcuaaZpXANniD5ZzpiBDTSRkuDJfWM6awxGuikUArp7fIOE7RlB6OygGTyhfsMyrtwDNIAkcp1YRhKC9Oh2IHUFQ6UPupnLL3icODaD5zVlUto7zhm1n7kmZ5kDSQBxykfZhD66eaQBoWriEGPcA182C4Crst90Z9NwvHgahDTALw/Ae4D500Pjq3oj/4sjtwcwVrCkkgB01HB8cdM0iIlWSr6IpNqFO+1mDHQFWORtO5EIi08b4jxy6giBsgKDnRnEYYdd9nIYvaLmuhS/h9DF5bEFr/7HTKAjUqWY1oUUBKgYEZdgIP6gJE2xQIWVvLhZBcAWx843kz87PDDi4cgR92s8/1FLpAGNeKiUbGtRQEIPkGb9TM1EF8MpCVEni7pIkkUdDs1ZcI/ZUer6YZg4WxTtqMmYsZJWebbOzEekZV4sCKaNhBaXQQ0NtjL71ZooNE1vWLfyyyFUbw7MsD0fWOFMSqAnbwj1Kuk0Aqp4aJ91MZhhvyS7+oQoMy5v63Jfoz/UYfPSiep2KQb5e4/gt1Ycdc7Se6jNyVbpuQNI08FrICQ6ccKnSXddrKCnqkqWFupJFAewKudSTBVAyBEjrLSXjCYnc5rrdQVl6VaiKqOTToi/kaSrlcW5fpGpgrlJTLvoGVxKDOg7PHzc6NLXOmuUHTZQhTWvS4T7T5ixPqGPz/EHXp/azkMeQoGOqBBOSq1gD4vwRe1culz8W8HlZKQt6Sjbm5XeS9eWizJw73HcsOW8mSpa0eT8zfK1w85LdtWKTf5dWfCPzMg5J+MBdsvvy6Q2QD/d91sfzouRz9zAdBp6HCcUzskccyBdKzjTC9ZE8HT8+JHLxtiE4d33Ud0uleOObvpXZk4E4/9h2sKD9t6oxgaCFxs9AHiI3wYJCndMbIMs9lLi7vEHFLxAUURyciOnTyzrLH6qSJwo+8CWuQIFL2wSoVyvQea/qtk2yvPtb4mekZMhJQkPwyvIzBbJGJD+jX3eGcfIFhWVmxsVAG5FMgSzm9y4wKL8aJdzvyctoTqEgep6K5lckWGM3uuuA5DadFvIhiTzBL1xzVtT0UDEDxd9ldeutcJLoyvUaoPgNdiqckZLamd0AAAAASUVORK5CYII=")}sharecard-control{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 19px;height:80px;background-color:#fff}simpread-snapshot{width:100%;height:100%;cursor:move;z-index:2147483645}simpread-snapshot,sr-mask{position:fixed;left:0;top:0}sr-mask{background-color:rgba(0,0,0,.1)}.simpread-feedback,.simpread-urlscheme{position:fixed;right:20px;bottom:20px;z-index:2147483646}simpread-feedback,simpread-urlscheme{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:20px 20px 0;width:500px;color:rgba(51,51,51,.87);background-color:#fff;border-radius:3px;box-shadow:0 0 2px rgba(0,0,0,.12),0 2px 2px rgba(0,0,0,.26);overflow:hidden;-webkit-transform-origin:bottom;transform-origin:bottom;-webkit-transition:all .6s ease;transition:all .6s ease}simpread-feedback *,simpread-urlscheme *{font-size:12px!important;box-sizing:border-box}simpread-feedback.active,simpread-urlscheme.active{-webkit-animation-name:srFadeInUp;animation-name:srFadeInUp;-webkit-animation-duration:.45s;animation-duration:.45s;-webkit-animation-fill-mode:both;animation-fill-mode:both}simpread-feedback.hide,simpread-urlscheme.hide{-webkit-animation-name:srFadeInDown;animation-name:srFadeInDown;-webkit-animation-duration:.45s;animation-duration:.45s;-webkit-animation-fill-mode:both;animation-fill-mode:both}simpread-feedback sr-fb-label,simpread-urlscheme sr-urls-label{width:100%}simpread-feedback sr-fb-head,simpread-urlscheme sr-urls-head{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin-bottom:5px;width:100%}simpread-feedback sr-fb-content,simpread-urlscheme sr-urls-content{margin-bottom:5px;width:100%}simpread-feedback sr-urls-footer,simpread-urlscheme sr-urls-footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;width:100%}simpread-feedback sr-fb-a,simpread-urlscheme sr-urls-a{color:#2163f7;cursor:pointer}simpread-feedback text-field-state,simpread-urlscheme text-field-state{border-top:none rgba(34,101,247,.8)!important;border-left:none rgba(34,101,247,.8)!important;border-right:none rgba(34,101,247,.8)!important;border-bottom:2px solid rgba(34,101,247,.8)!important}simpread-feedback switch,simpread-urlscheme switch{margin-top:0!important}@-webkit-keyframes srFadeInUp{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes srFadeInUp{0%{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes srFadeInDown{0%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}to{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}}@keyframes srFadeInDown{0%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}to{opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px)}}simpread-feedback sr-fb-head{font-weight:700}simpread-feedback sr-fb-content{-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column}simpread-feedback sr-fb-content,simpread-feedback sr-fb-footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}simpread-feedback sr-fb-footer{-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;width:100%}simpread-feedback sr-close{position:absolute;right:20px;cursor:pointer;-webkit-transition:all 1s cubic-bezier(.23,1,.32,1) .1s;transition:all 1s cubic-bezier(.23,1,.32,1) .1s;z-index:200}simpread-feedback sr-close:hover{-webkit-transform:rotate(-15deg) scale(1.3);transform:rotate(-15deg) scale(1.3)}simpread-feedback sr-stars{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-top:10px}simpread-feedback sr-stars i{margin-right:10px;cursor:pointer}simpread-feedback sr-stars i svg{-webkit-transition:all 1s cubic-bezier(.23,1,.32,1) .1s;transition:all 1s cubic-bezier(.23,1,.32,1) .1s}simpread-feedback sr-stars i svg:hover{-webkit-transform:rotate(-15deg) scale(1.3);transform:rotate(-15deg) scale(1.3)}simpread-feedback sr-stars i.active svg{-webkit-transform:rotate(0) scale(1);transform:rotate(0) scale(1)}simpread-feedback sr-emojis{display:block;height:100px;overflow:hidden}simpread-feedback sr-emoji{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-transition:.3s;transition:.3s}simpread-feedback sr-emoji>svg{margin:15px 0;width:70px;height:70px;-ms-flex-negative:0;flex-shrink:0}simpread-feedback sr-stars-footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:10px 0 20px}',""]);
},63:function(e,t,n){var o=n(60);"string"==typeof o&&(o=[[e.id,o,""]]),n(8)(o,{}),o.locals&&(e.exports=o.locals)},64:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(){return f}function r(){return f.unshift({name:"Readwise.io",value:"readwise",type:"sync"}),f.unshift({name:"Hypothes.is",value:"hypothes",type:"sync"}),f}function i(e){var t=$.extend(!0,{},$.isEmptyObject(s.storage.simpread.read.actionbar)?c.readItems:s.storage.simpread.read.actionbar),n=void 0;return"hypothes"==e?n={name:e,color:"#6a2c70",icon:'<i class="fas fa-highlighter"></i>'}:"readwise"==e&&(n={name:e,color:"#3f72af",icon:'<i class="fas fa-sync"></i>'}),void 0==n&&void 0!=c.readItems.readlater.items[e]&&(n=t.readlater.items[e]),void 0==n&&void 0!=c.readItems.download.items[e]&&(n=t.download.items[e]),void 0==n&&void 0!=c.readItems.send.items[e]&&(n=t.send.items[e]),void 0==n&&e.startsWith("custom_")&&s.storage.option.export.custom.forEach(function(t){t=JSON.parse(t),"custom_"+t.name==e&&(n=t,n.icon=t.icon?t.icon:'<i class="fas fa-cloud-upload-alt"></i>',n.color="#D4237A")}),void 0==n&&e.startsWith("webhooks_")&&s.storage.option.export.webhooks.forEach(function(t){t=JSON.parse(t),"webhooks_"+t.name==e&&(n=t,n.icon=t.icon?t.icon:'<i class="fas fa-cloud-upload-alt"></i>',n.color="#00BCD4")}),void 0==n&&e.startsWith("webdav_")&&(n={name:e,color:"#00BCD4",icon:p.IconPath("webdav_icon")}),void 0==n&&e.startsWith("automated_")&&s.storage.option.automated.forEach(function(t){"automated_"+t.id==e&&(n=t,n.icon=t.icon,n.color=t.bgColor)}),void 0==n&&(n={name:e,color:"#D4237A",icon:'<i class="fas fa-cloud-upload-alt"></i>'}),n.name=n.name.replace("导出为 ","").replace("保存到 ","").replace("webhook_","").replace("custom_","").replace("webdav_",""),n.icon&&n.icon.startsWith("chrome")&&(n.icon=n.icon.replace(/chrome-extension:\/\/\w+/,"chrome-extension://"+u.browser.runtime.id)),n}Object.defineProperty(t,"__esModule",{value:!0}),t.addSyncService=t.getAllService=t.findService=void 0;var s=n(4),l=n(27),c=o(l),d=n(9),p=o(d),u=n(3),f=[];s.storage.Read(function(){s.storage.Safe(function(){Object.keys(c.readItems.readlater.items).forEach(function(e){!["save"].includes(e)&&f.push({value:e,name:c.readItems.readlater.items[e].name.replace("保存到 ",""),type:"readlater"})}),Object.keys(c.readItems.send.items).forEach(function(e){f.push({value:e,name:c.readItems.send.items[e].name.replace("导出为 ","").replace("保存到 ",""),type:"send"})}),s.storage.secret.webdav.forEach(function(e){try{e=JSON.parse(e),f.push({name:e.name,value:"webdav_"+e.name,type:"webdav"})}catch(e){}}),s.storage.option.export.webhooks.forEach(function(e){try{e=JSON.parse(e),f.push({name:e.name,value:"webhook_"+e.name,type:"webhooks"})}catch(e){}}),Object.keys(c.readItems.download.items).forEach(function(e){f.push({value:e,name:c.readItems.download.items[e].name.replace("导出为 ","").replace("保存到 ",""),type:"download"})}),s.storage.option.export.custom.forEach(function(e){try{e=JSON.parse(e),f.push({name:e.name,value:"custom_"+e.name,type:"custom"})}catch(e){}}),s.storage.option.automated.forEach(function(e){"manual"==e.type&&f.push({name:e.name,value:"automated_"+e.id,type:"automated"})})})}),t.findService=i,t.getAllService=a,t.addSyncService=r},65:function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){var t=new Map,n=function(e){e.forEach(function(n,o){var a={value:e.slice(0,o+1).join("/"),name:n,icon:'<i class="fas fa-tags"></i>',level:o},r=t.get(o)||[],i=r.findIndex(function(e){return e.name==n});0==o?a.pid=0:a.pid=t.get(o-1).filter(function(t){return t.name==e[o-1]})[0].id,i==-1?a.id=parseInt(1e6*Math.random()):a.id=r[i].id,o==e.length-1&&(a.icon='<i class="fas fa-hashtag"></i>'),i==-1&&r.push({id:a.id,pid:a.pid,name:a.name,value:a.value,level:a.level,icon:a.icon}),t.set(o,r)})},o=function(){for(var e=t.size,n=function(e){var n=t.get(e),o=t.get(e-1);n.forEach(function(e){o.forEach(function(t){t.id==e.pid&&(t.items=t.items?t.items.concat([e]):[e])})})},o=e-1;o>0;o--)n(o);return t.get(0)};return e.forEach(function(e){if(e.indexOf("/")>-1)n(e.split("/"));else{0==t.size&&t.set(0,[]);var o=t.get(0);o.findIndex(function(t){return t.name==e})==-1&&t.set(0,o.concat([{name:e,value:e,icon:'<i class="fas fa-hashtag"></i>',level:0,pid:0,id:parseInt(1e6*Math.random())}]))}}),o()}function a(e,t){var n=[];return t.forEach(function(t){var o=function(t,o,a){a&&a.forEach(function(a){if(a==e){var r=n.findIndex(function(e){return e.idx==t.idx});if(r==-1){var i=$.extend(!0,{},t);i.annotations=[],o&&i.annotations.push(o),n.push(i)}else{var s=n[r];s.annotations.push($.extend(!0,{},o))}}})};o(t,void 0,t.tags),t.annotations&&t.annotations.forEach(function(e){return o(t,e,e.tags)})}),n}function r(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=[];return t.forEach(function(t){var a=function(a){a&&a.forEach(function(a){!n&&(a=(a||"").toLowerCase()),n?a.startsWith(e)&&o.findIndex(function(e){return e.idx==t.idx})==-1&&o.push(t):a.includes(e)&&o.findIndex(function(e){return e.idx==t.idx})==-1&&o.push(t)})};a(t.tags),t.annotations&&t.annotations.forEach(function(e){return a(e.tags)})}),o}function i(e,t){var n=[];return t.forEach(function(t){var o=function(o){o&&o.forEach(function(o){e.includes(o)&&n.findIndex(function(e){return e.idx==t.idx})==-1&&n.push(t)})};o(t.tags),t.annotations&&t.annotations.forEach(function(e){return o(e.tags)})}),n}function s(e,t){var o=[];return t.forEach(function(t){var n=function(t){var n=!1;t&&t.forEach(function(t){e.includes(t)&&(n=!0)}),n&&(o=o.concat(t))};n(t.tags),t.annotations&&t.annotations.forEach(function(e){return n(e.tags)})}),[].concat(n(new Set(o)))}function l(e,t){for(var n=0;n<t.length;n++)if(t[n].idx==e)return t[n]}function c(e,t){for(var n=e.length,o=[],a=0,r=0;r<t.length;r++)if(e.includes(t[r].idx)&&(a++,o.push(t[r])),a>=n)return o;return o}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n],a=o.annotations&&o.annotations.findIndex(function(t){return t.id==e});if(a>-1)return{unread:o,annote:o.annotations[a]}}return{unread:{},annote:{}}}function p(e,t){for(var n=e.length,o=[],a=0,r=0;r<t.length;r++){var i=t[r],s=i.annotations&&i.annotations.findIndex(function(t){return e.includes(t.id)});if(s>-1&&(a++,o.push({unread:i,annote:i.annotations[s]})),a>=n)return o}return o}function u(e,t){var n=[];return t.forEach(function(t){var o=function(o){o&&o.forEach(function(o){o.startsWith(e)&&n.findIndex(function(e){return e.id==t.id})==-1&&n.push(t)})};o(t.tags)}),n}function f(e,t){return"today"==e?t=t.filter(function(e){var t=new Date,n=new Date(e.create.replace(/年|月/gi,"-").replace("日",""));return t.getFullYear()==n.getFullYear()&&t.getMonth()==n.getMonth()&&t.getDate()==n.getDate()}):"yestoday"==e?t=t.filter(function(e){var t=new Date,n=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),r=864e5,i=+new Date(n+"-"+o+"-"+a+" 00:00:00"),s=+new Date(n+"-"+o+"-"+a+" 23:59:59")-r,l=+new Date(e.create.replace(/年|月/gi,"-").replace("日",""));return l+r>s&&l<i}):"week"==e?t=t.filter(function(e){var t=new Date,n=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),r=6048e5,i=+new Date(n+"-"+o+"-"+a+" 23:59:59"),s=+new Date(e.create.replace(/年|月/gi,"-").replace("日",""));return s+r>i}):"sunday"==e?!function(){var e=new Date,n=e.getTime(),o=e.getDay()||7,a=864e5,r=function(e,t){e=new Date(e);var n=e.getFullYear(),o=e.getMonth()+1,a=e.getDate();return+new Date(n+"-"+o+"-"+a+" "+t)},i=r(n-(o-1)*a,"00:00:00"),s=r(n+(7-o)*a,"23:59:59");t=t.filter(function(e){var t=+new Date(e.create.replace(/年|月/gi,"-").replace("日",""));return t>=i&&t<=s})}():"daily"==e?t=t.filter(function(e){var t=+new Date,n=864e5,o=+new Date(e.create.replace(/年|月/gi,"-").replace("日",""));return t-o<=n}):"nohighlight"==e?t=t.filter(function(e){return!e.annotations||0==e.annotations.length}):"notags"==e?t=t.filter(function(e){return!e.tags||0==e.tags.length}):"unarchive"==e?t=t.filter(function(e){return!e.archive}):"archive"==e?t=t.filter(function(e){return e.archive}):"share"==e?t=t.filter(function(e){return e.share}):"annoate"==e?!function(){var e=[];t.forEach(function(t){var n=function(n){var o=!1;n&&n.forEach(function(e){void 0==e.note&&(e.note=""),""==e.note&&(o=!0)}),o&&e.push(t)};n(t.annotations)}),t=e}():"img"==e||"code"==e?!function(){var n=[];t.forEach(function(t){var o=function(o){var a=!1;o&&o.forEach(function(t){return t.type==e&&(a=!0)}),a&&n.push(t)};o(t.annotations)}),t=n}():"note"==e&&!function(){var e=[];t.forEach(function(t){var n=function(n){var o=!1;n&&n.forEach(function(e){return e.note&&e.note.length>0&&(o=!0)}),o&&e.push(t)};t.note&&t.note.length>0&&e.push(t),n(t.annotations)}),t=e}(),t}function m(e){var t=this,o=[];return e.forEach(function(e){e.tags&&(o=o.concat(e.tags)),e.annotations&&e.annotations.forEach(function(e){return o=o.concat(e.tags)})}),o=[].concat(n(new Set(o))),this.tags=[],o.forEach(function(e){return t.tags.push({name:e,value:e})}),o}Object.defineProperty(t,"__esModule",{value:!0}),t.getAllTags=o,t.getTagsbySlice=m,t.findUnReadbyTag=r,t.findUnReadbyTags=i,t.findCollectionbyTag=u,t.filter=f,t.findbyTag=a,t.findUnReadbyID=l,t.findUnReadbyIDs=c,t.findAnnotebyID=d,t.findAnnotebyIDs=p,t.findMentionsTagsbyTags=s},66:function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t={init:function(t){var n={duration:200,dist:-100,shift:0,padding:0,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null,onActived:null};return t=e.extend(n,t),this.each(function(n){function o(){"undefined"!=typeof window.ontouchstart&&(L[0].addEventListener("touchstart",u),L[0].addEventListener("touchmove",f),L[0].addEventListener("touchend",m)),L[0].addEventListener("mousedown",u),L[0].addEventListener("mousemove",f),L[0].addEventListener("mouseup",m),L[0].addEventListener("mouseleave",m),L[0].addEventListener("click",d)}function a(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function r(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function i(e){return e>=y?e%y:e<0?i(y+e%y):e}function s(n){$=!0,L.hasClass("scrolling")||L.addClass("scrolling"),null!=D&&window.clearTimeout(D),D=window.setTimeout(function(){$=!1,L.removeClass("scrolling"),L.find(".carousel-item").eq(i(x)),1!=D&&t.onActived&&t.onActived.call(this,e(".carousel .indicators").find(".active").index())},t.duration);var o,a,r,s,l,c,d,p=x;if(v="number"==typeof n?n:v,x=Math.floor((v+w/2)/w),r=v-x*w,s=r<0?1:-1,l=-s*r*2/w,a=y>>1,t.fullWidth?d="translateX(0)":(d="translateX("+(L[0].clientWidth-b)/2+"px) ",d+="translateY("+(L[0].clientHeight-h)/2+"px)"),U){var u=x%y,f=P.find(".indicator-item.active");f.index()!==u&&(f.removeClass("active"),P.find(".indicator-item").eq(u).addClass("active"))}for((!t.noWrap||x>=0&&x<y)&&(c=g[i(x)],e(c).hasClass("active")||(L.find(".carousel-item").removeClass("active"),e(c).addClass("active")),c.style[S]=d+" translateX("+-r/2+"px) translateX("+s*t.shift*l*o+"px) translateZ("+t.dist*l+"px)",c.style.zIndex=0,R=t.fullWidth?1:1-.2*l,c.style.opacity=R,c.style.display="block"),o=1;o<=a;++o)t.fullWidth?(I=t.dist,R=o===a&&r<0?1-l:1):(I=t.dist*(2*o+l*s),R=1-.2*(2*o+l*s)),(!t.noWrap||x+o<y)&&(c=g[i(x+o)],c.style[S]=d+" translateX("+(t.shift+(w*o-r)/2)+"px) translateZ("+I+"px)",c.style.zIndex=-o,c.style.opacity=R,c.style.display="block"),t.fullWidth?(I=t.dist,R=o===a&&r>0?1-l:1):(I=t.dist*(2*o-l*s),R=1-.2*(2*o-l*s)),(!t.noWrap||x-o>=0)&&(c=g[i(x-o)],c.style[S]=d+" translateX("+(-t.shift+(-w*o-r)/2)+"px) translateZ("+I+"px)",c.style.zIndex=-o,c.style.opacity=R,c.style.display="block");if((!t.noWrap||x>=0&&x<y)&&(c=g[i(x)],c.style[S]=d+" translateX("+-r/2+"px) translateX("+s*t.shift*l+"px) translateZ("+t.dist*l+"px)",c.style.zIndex=0,R=t.fullWidth?1:1-.2*l,c.style.opacity=R,c.style.display="block"),p!==x&&"function"==typeof t.onCycleTo){var m=L.find(".carousel-item").eq(i(x));t.onCycleTo.call(this,e(".carousel .indicators").find(".active").index(),m,M)}}function l(){var e,t,n,o;e=Date.now(),t=e-O,O=e,n=v-T,T=v,o=1e3*n/(1+t),N=.8*o+.2*N}function c(){var e,n;A&&(e=Date.now()-O,n=A*Math.exp(-e/t.duration),n>2||n<-2?(s(_-n),requestAnimationFrame(c)):s(_))}function d(n){if(M)return n.preventDefault(),n.stopPropagation(),!1;if(!t.fullWidth){var o=e(n.target).closest(".carousel-item").index(),a=x%y-o;0!==a&&(n.preventDefault(),n.stopPropagation()),p(o)}}function p(e){var n=x%y-e;t.noWrap||(n<0?Math.abs(n+y)<Math.abs(n)&&(n+=y):n>0&&Math.abs(n-y)<n&&(n-=y)),n<0?L.trigger("carouselNext",[Math.abs(n)]):n>0&&L.trigger("carouselPrev",[n])}function u(e){e.preventDefault(),k=!0,M=!1,j=!1,E=a(e),C=r(e),N=A=0,T=v,O=Date.now(),clearInterval(z),z=setInterval(l,100)}function f(e){var t,n,o,i;if(k)if(t=a(e),n=r(e),o=E-t,i=Math.abs(C-n),i<30&&!j)(o>2||o<-2)&&(M=!0,E=t,s(v+o));else{if(M)return e.preventDefault(),e.stopPropagation(),!1;j=!0}if(M)return e.preventDefault(),e.stopPropagation(),!1}function m(e){if(k)return k=!1,clearInterval(z),_=v,(N>10||N<-10)&&(A=.9*N,_=v+A),_=Math.round(_/w)*w,t.noWrap&&(_>=w*(y-1)?_=w*(y-1):_<0&&(_=0)),A=_-v,O=Date.now(),requestAnimationFrame(c),M&&(e.preventDefault(),e.stopPropagation()),!1}var g,b,h,v,x,k,w,y,E,C,A,_,N,$,S,T,O,z,M,j,R,I,P=e('<ul class="indicators"></ul>'),D=null,L=e(this),U=L.attr("data-indicators")||t.indicators;return t.fullWidth&&(t.dist=0,U&&L.find(".carousel-fixed-item").addClass("with-indicators")),L.hasClass("initialized")?(e(window).trigger("resize"),e(this).trigger("carouselNext",[1e-6]),!0):(L.addClass("initialized"),k=!1,v=_=0,g=[],b=L.find(".carousel-item").first().innerWidth(),h=L.find(".carousel-item").first().innerHeight(),w=2*b+t.padding,L.find(".carousel-item").each(function(t){if(g.push(e(this)[0]),U){var n=e('<li class="indicator-item"></li>');0===t&&n.addClass("active"),n.click(function(t){t.stopPropagation();var n=e(this).index();p(n)}),P.append(n)}}),U&&L.append(P),y=g.length,S="transform",["webkit","Moz","O","ms"].every(function(e){var t=e+"Transform";return"undefined"==typeof document.body.style[t]||(S=t,!1)}),o(),s(v),e(this).on("carouselNext",function(e,t){void 0===t&&(t=1),_=w*Math.round(v/w)+w*t,v!==_&&(A=_-v,O=Date.now(),requestAnimationFrame(c))}),e(this).on("carouselPrev",function(e,t){void 0===t&&(t=1),_=w*Math.round(v/w)-w*t,v!==_&&(A=_-v,O=Date.now(),requestAnimationFrame(c))}),void e(this).on("carouselSet",function(e,t){void 0===t&&(t=0),p(t)}))})},next:function(t){e(this).trigger("carouselNext",[t])},prev:function(t){e(this).trigger("carouselPrev",[t])},set:function(t){e(this).trigger("carouselSet",[t])}};e.fn.carousel=function(o){return t[o]?t[o].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==("undefined"==typeof o?"undefined":n(o))&&o?void e.error("Method "+o+" does not exist on jQuery.carousel"):t.init.apply(this,arguments)}}(jQuery)},71:function(e,t,n){var o=n(106);"string"==typeof o&&(o=[[e.id,o,""]]),n(8)(o,{}),o.locals&&(e.exports=o.locals)},72:function(e,t,n){(function(e,o){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(t,n,a,r){0==$(".sr-alertgp").length&&$("html").append('<div class="sr-alertgp"></div>'),o.render(e.createElement(d,{state:t,code:n+"",message:a,onAction:function(e){return r(e)}}),$(".sr-alertgp")[0])}Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(3);n(112);var d=function(t){function n(){return a(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),l(n,[{key:"close",value:function(){$(".sr-alertgp .alert").css({"animation-name":"fadeOutDown"}).on("animationend",function(e){o.unmountComponentAtNode($(".sr-alertgp")[0]),$(".sr-alertgp").remove()})}},{key:"onReturnClick",value:function(e){this.props.onAction({state:this.props.state,code:this.props.code,type:e}),this.close()}},{key:"componentDidMount",value:function(){var e=0,t=setInterval(function(){e>=100?(clearInterval(t),t=void 0,e=0,$(".flag img").addClass("swing")):(e+=10,$(".loading .progress .circle").attr("stroke-dasharray",e+", 100"),$(".loading .progress .percentage").text(e+"%"))},200)}},{key:"render",value:function(){var t=this;return e.createElement("sr-alert",{class:"alert notification","data-state":this.props.state},e.createElement("sr-alert-icon",{class:"sr-alert-icon"},e.createElement("sr-alert-load",{class:"loading"},e.createElement("svg",{viewBox:"0 0 36 36",className:"progress"},e.createElement("path",{className:"circle-bg",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}),e.createElement("path",{className:"circle",strokeDasharray:"0, 100",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"}))),e.createElement("sr-alert-flag",{class:"flag"},e.createElement("img",{src:c.browser.runtime.getURL("assets/images/alert_"+this.props.state+".svg")}))),e.createElement("sr-alert-content",{class:"content"},this.props.message||"当前发生了未知错误，请稍后再试。"),e.createElement("ar-alert-footer",{class:"actionbar"},e.createElement("sr-alert-button",{class:"return md-waves-effect",onClick:function(){return t.onReturnClick("exit")}},"退　出"),["-1002","-1003","-1004","-1005","-1007","-1009"].includes(this.props.code)&&e.createElement("sr-alert-button",{class:"return md-waves-effect",onClick:function(){return t.onReturnClick("contact")}},"联系管理员")))}}]),n}(e.Component);d.defaultProps={state:"",code:-1,message:void 0},t.Render=s}).call(t,n(2),n(13))},73:function(e,t,n){(function(e){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(){return!(0==s.storage.option.automated.length||l.auth.lock&&s.storage.option.automated.length>0&&((new e).Render({type:2,content:"嗨，此账户为基础账户，但发现你 <b>已使用自动化功能</b>，此功能为高级账户功能，如已是高级账户，请在选项页右上角 <b>仅授权当前设备</b>。",state:"holdon",action:"升级",cancel:"授权",callback:function(e){"action"==e?f.Render(!0,l.auth.token,function(e){}):"cancel"==e&&c.browser.runtime.sendMessage(p.Add(p.MESSAGE_ACTION.new_tab,{url:c.browser.extension.getURL("options/options.html")}))}}),1))}function r(e,t,n){var o=0,a=e.length,r=function o(r){1!=e[r].disable&&t(e[r].value),r++,r>=a?n():setTimeout(function(){o(r)},1e3)};r(o)}function i(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",a=arguments[3],i=s.storage.option.automated.filter(function(e){return e.type==o&&e.target==(t?"unreader":"annote")});if(a){var l=i.findIndex(function(e){return e.id==a});if(l>-1){var c=i[l];i=[],i.push(c)}}if(0!=i.length){var d=0,p=void 0,u=i.length,f=function o(a){r(i[a].action,n,function(){a++,a>=u?(t&&p.complete(),t&&(new e).Render({type:1,content:"已完成全部自动化保存服务",delay:2e3})):setTimeout(function(){o(a)},1e3)})};setTimeout(function(){t&&(p=(new e).Render({content:"已启动您设置的自动化保存服务，请稍等...",state:"loading"})),f(d)},1e3)}}Object.defineProperty(t,"__esModule",{value:!0}),t.Run=t.Verify=void 0;var s=n(4),l=n(21),c=n(3),d=n(6),p=o(d),u=n(36),f=o(u);t.Verify=a,t.Run=i}).call(t,n(7))},74:function(e,t,n){(function(e){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if("user"==e){var t="0123456789abcdefghijklmnopqrstuvwxyz",n=(0,k.default)(t,8),o=(0,k.default)(t,4),a=(0,k.default)(t,4),r=(0,k.default)(t,4),i=(0,k.default)(t,12);return n+"-"+o+"-"+a+"-"+r+"-"+i}return"plugin"==e?(0,k.default)("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",10):"site"==e?(0,k.default)("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",10):"share"==e?(0,k.default)("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",8):void 0}function s(e,t,n){t=e?"https://simpread.ksria.cn/plugins/srplug/"+e+".srplug":t,t+="?"+ +new Date,$.ajax({url:t,dataType:"json"}).done(function(e){return n(e,void 0)}).fail(function(){return n(void 0,"error")})}function l(e,t){window.dispatchEvent(new CustomEvent("simpread-plugin",{detail:{type:e,value:t}}))}function c(t,n,o){try{if(0==o.enable)return;if(o.run_at!=t)return;if(""!=o.site&&!o.site.split(",").includes(n))return;new Function(d(o.script))(),""!=o.style&&b(o.style)}catch(t){(new e).Render(2,"插件 "+o.name+' 运行时出错，可以的话，请 <a href="https://github.com/Kenshin/simpread/issues/new" target="_blank">提交此问题</a> 😁')}}function d(t){return window.Notify=e,window.browser=A.browser,window.current=(0,S.Clone)(S.storage.current),window.read=(0,S.Clone)(S.storage.read),window.highlight=O,window.db=p,window.control=u,window.SRSave=m,window.th=R.default,window.ss=P,window.expt=f,window.srervice=q,window.srwaves=y,window.mduikit=C.default,window.SrvNames=g,window.actionbar=(0,S.Clone)(H.readItems),"( function ( $$version, $read, $title, $desc, $content, $footer, $process, $toc, Notify, $$highlight, browser, $$storage, $$current, $$read, $$control, $$save, $$th, $$export, $$ss, $$service, $$waves, $$ui, $$srvnames, $$actionbar ) {\n        "+t+'\n    })( "0.1.0", $( "sr-read" ), $( "sr-rd-title" ), $( "sr-rd-desc" ), $( "sr-rd-content" ), $( "sr-rd-footer" ), $( "read-process" ), $( "toc" ), Notify, highlight, browser, db, current, read, control, SRSave, th, expt, ss, srervice, srwaves, mduikit, SrvNames, actionbar );'}function p(e,t,n){t?(S.storage.plugstorge[e]=t,N.set(r({},"simpread-plugin-"+e,t),function(){n&&n()})):N.get(["simpread-plugin-"+e],function(t){n&&n(t["simpread-plugin-"+e])})}function u(e,t){t?Y&&window.addEventListener("simpread-plugin_controlbar",function(e){t(e)}):window.dispatchEvent(new CustomEvent("simpread-plugin_controlbar",{detail:{type:e}})),Y=!1}function f(e,t,n,o){window.dispatchEvent(new CustomEvent("simpread-plugin_export",{detail:{type:e,title:t,desc:n,content:o}}))}function m(e,t,n,o){S.storage.simpread[e][t]=n,S.storage.Write(function(){M.SendMessage("option",!0),o&&o()})}function g(e){var t=[];S.storage.Safe(function(){Object.keys(S.storage.secret).forEach(function(e){!["version","webdav"].includes(e)&&t.push({id:e,name:L.Name(e),enable:!!S.storage.secret[e].access_token}),"webdav"==e&&S.storage.secret[e].forEach(function(e){e=JSON.parse(e),t.push({id:"webdav_"+e.name,name:e.name,enable:!0})})}),e&&e(t)})}function b(e){$("head").append('<style type="text/css">'+e+"</style>")}function h(e){var t=!1;if($("fap action-bar").find("sr-opt-label").map(function(n,o){"插件触发器"==$(o).text()&&(t=!0,$(o).next().append(e))}),0==t){var n='<sr-opt-gp>\n                        <sr-opt-label>插件触发器</sr-opt-label>\n                        <actions style="display:flex;margin:10px 0;flex-wrap:wrap;">\n                            '+e+"\n                        </actions>\n                      </sr-opt-gp>";$("fap action-bar").append(n)}}function v(t,n,o){t&&b(t()),n&&n("0.1.0",$("sr-read"),$("sr-rd-title"),$("sr-rd-desc"),$("sr-rd-content"),$("sr-rd-footer"),$("read-process"),$("toc"),e,O,A.browser,p,S.storage.current,S.storage.read,u,m,R.default,f,P,q,y,C.default,g,H.readItems),o&&h(o())}Object.defineProperty(t,"__esModule",{value:!0}),t.Controlbar=t.Event=t.ID=t.Exec=t.Install=void 0;var x=n(108),k=a(x),w=n(17),y=o(w),E=n(91),C=a(E),A=n(3),_=n(118),N=o(_),S=n(4),T=n(37),O=o(T),z=n(24),M=o(z),j=n(23),R=a(j),I=n(9),P=o(I),D=n(28),L=o(D),U=n(55),B=o(U),F=n(51),W=o(F),G=n(27),H=o(G),Y=!0,q={markdown:L.Markdown,download:L.Download,prueDown:L.PrDownload,snapshot:B,toBase64:W.toBase64,img2Base64:W.img2Base64,restoreImg:W.restoreImg};window.simpread={testPlugin:v},t.Install=s,t.Exec=c,t.ID=i,t.Event=l,t.Controlbar=u}).call(t,n(7))},85:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,':root{--sr-annote-color-0:#b4d9fb;--sr-annote-color-1:#ffeb3b;--sr-annote-color-2:#a2e9f2;--sr-annote-color-3:#a1e0ff;--sr-annote-color-4:#a8ea68;--sr-annote-color-5:#ffb7da}[sr-annote-bg-color]{color:inherit}[sr-annote-bg-color][data-color-type="0"]{background-color:var(--sr-annote-color-0)}[sr-annote-bg-color][data-color-type="1"]{background-color:var(--sr-annote-color-1)}[sr-annote-bg-color][data-color-type="2"]{background-color:var(--sr-annote-color-2)}[sr-annote-bg-color][data-color-type="3"]{background-color:var(--sr-annote-color-3)}[sr-annote-bg-color][data-color-type="4"]{background-color:var(--sr-annote-color-4)}[sr-annote-bg-color][data-color-type="5"]{background-color:var(--sr-annote-color-5)}[sr-annote-bb-color][data-color-type="1"]{border-bottom-color:var(--sr-annote-color-1)}[sr-annote-bb-color][data-color-type="2"]{border-bottom-color:var(--sr-annote-color-2)}[sr-annote-bb-color][data-color-type="3"]{border-bottom-color:var(--sr-annote-color-3)}[sr-annote-bb-color][data-color-type="4"]{border-bottom-color:var(--sr-annote-color-4)}[sr-annote-bb-color][data-color-type="5"]{border-bottom-color:var(--sr-annote-color-5)}[sr-annote-bl-color][data-color-type="1"]{border-left:5px solid var(--sr-annote-color-1)}[sr-annote-bl-color][data-color-type="2"]{border-left:5px solid var(--sr-annote-color-2)}[sr-annote-bl-color][data-color-type="3"]{border-left:5px solid var(--sr-annote-color-3)}[sr-annote-bl-color][data-color-type="4"]{border-left:5px solid var(--sr-annote-color-4)}[sr-annote-bl-color][data-color-type="5"]{border-left:5px solid var(--sr-annote-color-5)}[data-color-style="1"]{background-color:transparent!important;background-repeat:no-repeat;background-size:100% 100%}[data-color-style="1"][data-color-type="1"]{background-color:transparent!important;background-image:url('+n(149)+')}[data-color-style="1"][data-color-type="2"]{background-color:transparent!important;background-image:url('+n(150)+')}[data-color-style="1"][data-color-type="3"]{background-color:transparent!important;background-image:url('+n(151)+')}[data-color-style="1"][data-color-type="4"]{background-color:transparent!important;background-image:url('+n(152)+')}[data-color-style="1"][data-color-type="5"]{background-color:transparent!important;background-image:url('+n(153)+')}[data-color-style="2"]{background-color:transparent!important}[data-color-style="2"][data-color-type="1"]{background-color:transparent!important;background-image:linear-gradient(180deg,hsla(0,0%,100%,0) 50%,var(--sr-annote-color-1) 0)}[data-color-style="2"][data-color-type="2"]{background-color:transparent!important;background-image:linear-gradient(180deg,hsla(0,0%,100%,0) 50%,var(--sr-annote-color-2) 0)}[data-color-style="2"][data-color-type="3"]{background-color:transparent!important;background-image:linear-gradient(180deg,hsla(0,0%,100%,0) 50%,var(--sr-annote-color-3) 0)}[data-color-style="2"][data-color-type="4"]{background-color:transparent!important;background-image:linear-gradient(180deg,hsla(0,0%,100%,0) 50%,var(--sr-annote-color-4) 0)}[data-color-style="2"][data-color-type="5"]{background-color:transparent!important;background-image:linear-gradient(180deg,hsla(0,0%,100%,0) 50%,var(--sr-annote-color-5) 0)}[data-color-style="3"]{position:relative;background-color:transparent!important}[data-color-style="3"]:after{content:"";position:absolute;left:0;bottom:25px;height:8px;width:58px;border-radius:4px;opacity:.8;transition:all .3s}[data-color-style="3"][data-color-type="1"]{background-color:transparent!important;background-image:linear-gradient(180deg,hsla(0,0%,100%,0) 85%,var(--sr-annote-color-1) 0)}[data-color-style="3"][data-color-type="2"]{background-color:transparent!important;background-image:linear-gradient(180deg,hsla(0,0%,100%,0) 85%,var(--sr-annote-color-2) 0)}[data-color-style="3"][data-color-type="3"]{background-color:transparent!important;background-image:linear-gradient(180deg,hsla(0,0%,100%,0) 85%,var(--sr-annote-color-3) 0)}[data-color-style="3"][data-color-type="4"]{background-color:transparent!important;background-image:linear-gradient(180deg,hsla(0,0%,100%,0) 85%,var(--sr-annote-color-4) 0)}[data-color-style="3"][data-color-type="5"]{background-color:transparent!important;background-image:linear-gradient(180deg,hsla(0,0%,100%,0) 85%,var(--sr-annote-color-5) 0)}sr-annote-note{position:relative;bottom:-5px;padding:0 4px;color:#fff;background-color:#333;font-weight:700;font-style:normal;font-family:arial,helvetica,clean,sans-serif;border-radius:5px;opacity:.8;cursor:pointer}sr-annote-note:after{content:"N"}pre.sr-annote+sr-annote-note{bottom:25px;right:25px}sr-annote-note:hover{opacity:1}sr-annote-note sr-annote-note-tip{position:absolute;left:0;top:0;padding:.5em 1em;max-width:400px;color:#fff;background:#101010;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-weight:400;font-style:normal;text-shadow:none;font-size:12px;text-indent:0;white-space:pre;z-index:10;border-radius:5px;box-shadow:0 0 10px rgba(0,0,0,.3);opacity:0;overflow:auto;pointer-events:none;z-index:20000;transition:all .18s ease-out .18s}sr-annote-note:hover sr-annote-note-tip{opacity:1;pointer-events:auto}sr-annote-note sr-annote-note-tip{overflow:hidden}sr-annote-note sr-annote-note-tip:hover{overflow:overlay}sr-annote-note sr-annote-note-tip::-webkit-scrollbar-track{background-color:transparent}sr-annote-note sr-annote-note-tip::-webkit-scrollbar{width:12px}sr-annote-note sr-annote-note-tip::-webkit-scrollbar-thumb{background-clip:padding-box;padding-top:80px;background-color:#ddd;border:3px solid transparent;border-radius:8px}',""])},88:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(29),c=o(l),d=n(4),p=function(){function e(){r(this,e),this.list=d.storage.unrdist.filter(function(e){return!e.archive}),this.collections=d.storage.collections||[]}return s(e,[{key:"NewAnnote",value:function(){return{id:"",color:0,style:0,note:"",tags:[],type:"",html:"",text:"",annote:"",items:[]}}},{key:"NewCollection",value:function(){return{id:"",idx:"",img:"",bgColor:"",title:"",desc:"",note:"",tags:[],annoations:[]}}},{key:"Get",value:function(){var e=d.storage.unrdist.filter(function(e){return e.url==location.href.replace("?simpread_mode=read","").replace(/chrome(\S+)\/loader.html\?url=/gi,"")});this.unread=0==e.length?c.GetPageInfo():e[0],this.type=0==e.length?"add":"update",!this.unread.annotations&&(this.unread.annotations=[]),!this.unread.tags&&(this.unread.tags=[]),
!this.unread.note&&(this.unread.note=""),d.storage.unread=this.unread}},{key:"AddAnnote",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=this.NewAnnote();this.unread.annotations.push(i({},o,e)),n&&this.Order(),this.Write(t)}},{key:"RemoveAnnote",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.unread.annotations.findIndex(function(t){return t.id==e});o!=-1&&this.unread.annotations.splice(o,1),o!=-1&&n&&this.Write(t),o==-1&&t&&t(!1)}},{key:"FindAnnote",value:function(e){var t=this.unread.annotations.findIndex(function(t){return t.id==e});this.annote=t!=-1?this.unread.annotations[t]:this.NewAnnote()}},{key:"Update",value:function(e,t){var n=this.unread.annotations.findIndex(function(t){return t.id==e.id}),o=this.unread.annotations[n];o?(this.unread.annotations.splice(n,1,e),this.Write(t)):t(!1)}},{key:"UpdateByKey",value:function(e,t){var n=this.unread.annotations.findIndex(function(t){return t.id==e.id}),o=this.unread.annotations[n];o?(o[e.key]=e.value,this.unread.annotations.splice(n,1,o),this.Write(t)):t(!1)}},{key:"GetAllTags",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[];d.storage.unrdist.forEach(function(e){e.tags&&(n=n.concat(e.tags)),e.annotations&&e.annotations.forEach(function(e){return n=n.concat(e.tags)})}),n=[].concat(a(new Set(n))),t?this.tags=n:(this.tags=[],n.forEach(function(t){return e.tags.push({name:t,value:t})}))}},{key:"Write",value:function(e){var t=this;d.storage.UnRead(this.type,this.unread,function(n){n&&(t.type="update"),e&&e(n)})}},{key:"GetCollectionsAllTags",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[];this.collections.forEach(function(e){e.tags&&(n=n.concat(e.tags))}),n=[].concat(a(new Set(n))),t?this.ctags=n:(this.ctags=[],n.forEach(function(t){return e.ctags.push({name:t,value:t})}))}},{key:"GetCollectionNames",value:function(){var e=[];return this.collections.forEach(function(t){return e.push({value:t.id,name:t.title})}),e}},{key:"WriteCollection",value:function(e,t,n){d.storage.Collections(e,t,function(e){n&&n(e)})}},{key:"Order",value:function(){var e=this,t=[],n=[];$("sr-rd-content [data-color-type]").map(function(e,t){var o=$(t).attr("data-id");!n.includes(o)&&n.push(o)}),n.forEach(function(n){var o=e.unread.annotations.findIndex(function(e){return e.id==n});t.push(e.unread.annotations[o])}),this.unread.annotations=t}}]),e}();t.default=p},89:function(e,t,n){(function(e){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.promo=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(114);var i=n(3),s=n(6),l=o(s),c=!0,d=function(){function t(){var e=this;a(this,t),this.positions={},i.browser.runtime.sendMessage(l.Add(l.MESSAGE_ACTION.promo_storage),function(t){var n=t.promo,o=t.date,a=new Date,r=location.protocol;if("chrome-extension:"==r&&(!n||+a-+new Date(o)>6048e5))e.Remote();else if(n){var i=JSON.parse(n);i.forEach(function(t){e.positions[t.position]=t})}})}return r(t,[{key:"endpoint",get:function(){return"https://simpread-1254315611.file.myqcloud.com/static"}}]),r(t,[{key:"Remote",value:function(){var e=this;$.ajax({url:this.endpoint+"/promo/main.json?"+Math.round(+new Date),method:"GET"}).done(function(t,n,o){t&&t.length>0&&(localStorage.setItem("simpread-promo-storage",JSON.stringify(t)),localStorage.setItem("simpread-promo-date",new Date),t.forEach(function(t){e.positions[t.position]=t}))}).fail(function(e){})}},{key:"Rule",value:function(e,t){if(this.rule=this.positions[e],!this.rule)return!1;if("first"==this.rule.duration&&1==t)return!0;if(this.rule.duration.indexOf("::")>-1){var n=+new Date(this.rule.duration.split("::")[0]),o=+new Date(this.rule.duration.split("::")[1]),a=+new Date;return a>=n&&a<=o}return!1}},{key:"Verify",value:function(e){var t=this;i.browser.runtime.sendMessage(l.Add(l.MESSAGE_ACTION.promo,{id:this.rule.id,type:"read"}),function(n){var o=new Date,a=o.getFullYear(),r=o.getMonth()+1,s=o.getDate(),c=a+"-"+r+"-"+s;"no"!=n&&n!=c&&e(),n&&"no"!=n&&i.browser.runtime.sendMessage(l.Add(l.MESSAGE_ACTION.promo,{type:"write",id:t.rule.id,status:c}))})}},{key:"Close",value:function(){$("sr-promo-bg sr-promo").css({"animation-name":"fadeOutDown"}).on("animationend",function(e){$("sr-promo-bg").remove()})}},{key:"Notify",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var t=this;c&&(new e).Render({content:this.rule.message,action:"查看优惠",cancel:"以后再说",callback:function(e){c=!1,"cancel"==e?t.ShowNext():t.Render()}})})},{key:"ShowNext",value:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,o=e.getDate(),a=t+"-"+n+"-"+o;i.browser.runtime.sendMessage(l.Add(l.MESSAGE_ACTION.promo,{type:"write",id:this.rule.id,status:a}))}},{key:"Render",value:function(){var e=this,t=["option","unreader"].includes(this.rule.position)?"body":".simpread-read-root",n="<sr-promo-notice>\n                            <sr-promo-notice-title>关于弹窗的一些简单规则说明</sr-promo-notice-title>\n                            <sr-promo-notice-desc>我知道你（甚至我自己）都不喜欢任何位置的促销，但为了让有需要的朋友知道，所以制定了一些简单并不打扰你的规则：</sr-promo-notice-desc>\n                            <sr-promo-notice-content>1. 由于简悦不会随意所以降价，因此此位置的信息 <b>仅在涨价前弹出</b>。</sr-promo-notice-content>\n                            <sr-promo-notice-content>2. 使用了 <b>不再显示</b> 后，直到有新的涨价信息前都不会打扰到你。</sr-promo-notice-content>\n                            <sr-promo-notice-content>3. 使用了 <b>我再想想</b> 后，只有在新的一天才会出现（仅且一次）。</sr-promo-notice-content>\n                      </sr-promo-notice>",o='<sr-promo-bg data-type="'+this.rule.position+'">\n                        <sr-promo>\n                            <a target="_blank"><img src="'+(this.endpoint+this.rule.banner)+'"/></a>\n                            <sr-promo-footer>\n                                <sr-promo-a class="md-waves-effect later">我再想想</sr-promo-a>\n                                <sr-promo-a class="md-waves-effect cancel">不再展示</sr-promo-a>\n                                <sr-promo-tip class="md-waves-effect">展示规则</sr-promo-tip>\n                            </sr-promo-footer>\n                        </sr-promo>\n                      </sr-promo-bg>';$(t).find("sr-promo-bg").length>0||($(t).append(o),$("sr-promo a").on("click",function(){"internal"==e.rule.link?location.protocol.startsWith("http")?i.browser.runtime.sendMessage(l.Add(l.MESSAGE_ACTION.new_tab,{url:i.browser.extension.getURL("options/options.html#account?mode=upgrade")})):setTimeout(function(){location.href=location.origin+"/options/options.html#account?mode=upgrade",window.dispatchEvent(new CustomEvent(l.MESSAGE_ACTION.turn_tab,{detail:{page:7}})),setTimeout(function(){return $(".card.pro .status.unlock").click()},300)},500):i.browser.runtime.sendMessage(l.Add(l.MESSAGE_ACTION.new_tab,{url:e.rule.link})),$("sr-promo-a.later").click()}),$("sr-promo-a").on("click",function(t){var n=void 0;if($(t.currentTarget).hasClass("later")){var o=new Date,a=o.getFullYear(),r=o.getMonth()+1,s=o.getDate();n=a+"-"+r+"-"+s}else n="no";i.browser.runtime.sendMessage(l.Add(l.MESSAGE_ACTION.promo,{type:"write",id:e.rule.id,status:n})),e.Close()}),$("sr-promo-tip").on("click",function(e){$("sr-promo-tip").hasClass("active")?$("sr-promo-bg sr-promo-notice").css({"animation-name":"fadeOutDown"}).on("animationend",function(e){$("sr-promo-notice").remove(),$("sr-promo-tip").text("展示规则")}):($("sr-promo-bg").append(n),$("sr-promo-tip").text("关闭规则")),$("sr-promo-tip").toggleClass("active")}),this.ShowNext())}}]),t}(),p=new d;t.promo=p}).call(t,n(7))},91:function(e,t){"use strict";var n=function(e){var t=[],n=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={},r={href:"javascript:;",type:"raised",mode:"primary",disable:!1,color:"rgba(255, 255, 255, .7)",bgColor:"rgba(0, 137, 123, 1)",shadow:"0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2)",css:"",width:"",onclick:void 0},i="rgba( 153, 153, 153, .4)",s={flat:"cursor: no-drop; color: rgba(0, 0, 0, 0.298039);",raised:"cursor: no-drop; color: rgba(0, 0, 0, 0.298039); background-color: rgb(229, 229, 229); box-shadow: none;"},l={flat:"opacity: 0.6;",raised:"backgroundColor: rgba( 153, 153, 153, .2);"};return"flat"==o.type&&(r.color="rgba(0, 137, 123, .8)",r.bgColor="transparent",r.shadow="none"),Object.assign(a,r,o),a.disable=1==a.disable?s[a.type]:"",a.mode="secondary"==a.mode?l[a.type]:"",a.width=void 0!=o.width?"width: "+o.width+";":"",a.onclick&&$("html").on("click","#"+e,a.onclick),a.onclick&&t.push({id:e,event:"click"}),$("html").on("mouseenter","#"+e,function(t){$("a#"+e).find("button-mask").css({"background-color":i})}),$("html").on("mouseleave","#"+e,function(t){$("a#"+e).find("button-mask").css({"background-color":"transparent"})}),t.push({id:e,event:"mouseenter"}),t.push({id:e,event:"mouseleave"}),'<a id="'+e+'" style="display:block;min-width:88px;height:36px;margin:6px;padding:0;font-family:sans-serif;text-decoration:none;cursor:pointer;border:none;border-radius:2px;box-shadow:'+a.shadow+";color:"+a.color+";background-color:"+a.bgColor+";margin-right:0px;"+a.disable+";"+a.width+";"+a.css+';" class="md-waves-effect md-waves-button" href="'+a.href+'" target="_self" type="'+a.type+'">\n                <button-mask style="display: flex; justify-content: center; align-items: center; width: 100%; height: 100%; margin: 0px; padding: 0px 8px; border: medium none; border-radius: 2px; box-sizing: border-box; transition: all 0.5s ease-in-out 0s; background-color: transparent;'+a.mode+'">\n                    <button-span style="display:flex;align-items:center;user-select:none;">\n                        <button-icon style="order:-1;display:none;width:24px;height:24px;border:none;background-position:center;background-repeat:no-repeat;"></button-icon>\n                        <button-text style="padding:0 8px 0;text-decoration:none;text-align:center;letter-spacing:.5px;font-size:15px;line-height:1;">'+n+"</button-text>\n                    </button-span>\n                </button-mask>\n            </a>"},o=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={},r={disable:!1,placeholder:"",height:"60px;",width:"100%",size:"14px",color:"rgba(51, 51, 51, .87)",float_color:"rgba(0, 137, 123, 0.8)",state_color:"rgba(0, 137, 123, 0.8)",border_color:"border-top:none rgba(224, 224, 224, 1);border-left:none rgba(224, 224, 224, 1);border-right:none rgba(224, 224, 224, 1);border-bottom:1px solid rgba(224, 224, 224, 1)",error_color:"rgba(244, 67, 54, 1)",css:{float:"",textarea:"",border:"",state:"",error:""},onchange:void 0};return Object.assign(a,r,o),a.disable=1==a.disable?disable[a.type]:"",a.width=void 0!=o.width?"width: "+o.width+";":"",a.height=void 0!=o.height?"height: "+o.height+";":"",$("html").on("focus","#"+e,function(t){$("#field-"+e).find("#state").css({transform:"scaleX(1)"})}),$("html").on("blur","#"+e,function(t){$("#field-"+e).find("#state").css({transform:"scaleX(0)"})}),a.onchange&&$("html").on("keyup","#"+e,a.onchange),a.onchange&&t.push({id:e,event:"keyup"}),t.push({id:e,event:"focus"}),t.push({id:e,event:"blur"}),'<text-field id="field-'+e+'" style="display:block;position:relative;margin:0;padding:0;width:100%;line-height:1;">\n                <text-field-float id="float" style="display: block; position: absolute; margin: -8px 0px 0px; color: '+a.float_color+"; font-size: 14px; font-weight: bold; pointer-events: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms; transform: scale(0.75) translate(0px, -8px); transform-origin: left top 0px; -moz-user-select: none;"+a.css.float+'"></text-field-float>\n                <textarea id="'+e+'" style="position:relative;color:rgba(51, 51, 51, .87);background-color:transparent;width:100%;height:180px;margin:8px 0 0 0;padding:0;font-family:sans-serif;font-size:'+a.size+";line-height:1.5;cursor:inherit;border:none;outline:none;resize:none;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-appearance:textfield;color:"+a.color+";"+a.width+";"+a.height+";"+a.css.textarea+';" placeholder="'+a.placeholder+'">'+n+'</textarea>\n                <div>\n                    <text-field-border id="border" style="display:block;width:100%;margin:8px 0 0 0;'+a.border_color+";box-sizing:content-box;"+a.css.border+'"></text-field-border>\n                    <text-field-state id="state" style="display: block; position: absolute; width: 100%; margin: -1px 0px 0px; border-width: medium medium 2px; border-style: none none solid; border-color: '+a.state_color+"; box-sizing: content-box; transform: scaleX(0); transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"+a.css.state+'"></text-field-state>\n                </div>\n                <text-field-error id="error" style="display:block;position:relative;margin:8px 0 0 0;max-width:428px;font-size:14px;font-weight:bold;line-height:1.5;text-align:initial;word-wrap:break-word;user-select:none;color:'+a.error_color+";transform:scale(0.75) translate( -73px, 0 );"+a.css.error+'"></text-field-error>\n            </text-field>'},a=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={},r={disable:!1,placeholder:"",height:"20px;",width:"100%",size:"14px",color:"rgba(51, 51, 51, .87)",float_color:"rgba(0, 137, 123, 0.8)",state_color:"rgba(0, 137, 123, 0.8)",border_color:"border-top:none rgba(224, 224, 224, 1);border-left:none rgba(224, 224, 224, 1);border-right:none rgba(224, 224, 224, 1);border-bottom:1px solid rgba(224, 224, 224, 1)",error_color:"rgba(244, 67, 54, 1)",css:{float:"",textarea:"",border:"",state:"",error:""},onchange:void 0};return Object.assign(a,r,o),a.disable=1==a.disable?disable[a.type]:"",a.width=void 0!=o.width?"width: "+o.width+";":"",a.height=void 0!=o.height?"height: "+o.height+";":"",a.focus=void 0!=o.focus?"autofocus":"",$("html").on("focus","#"+e,function(t){$("#field-"+e).find("#state").css({transform:"scaleX(1)"})}),$("html").on("blur","#"+e,function(t){$("#field-"+e).find("#state").css({transform:"scaleX(0)"})}),a.onchange&&$("html").on("keyup","#"+e,a.onchange),a.onchange&&t.push({id:e,event:"keyup"}),t&&t.push({id:e,event:"focus"}),t&&t.push({id:e,event:"blur"}),'<text-field id="field-'+e+'" style="display:block;position:relative;margin:0;padding:0;width:100%;line-height:1;">\n                <text-field-float id="float" style="display: block; position: absolute; margin: -8px 0px 0px; color: '+a.float_color+"; font-size: 14px; font-weight: bold; pointer-events: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms; transform: scale(0.75) translate(0px, -8px); transform-origin: left top 0px; -moz-user-select: none;"+a.css.float+'"></text-field-float>\n                <input id="'+e+'" '+a.focus+' style="position:relative;color:rgba(51, 51, 51, .87);background-color:transparent;width:100%;height:20px;margin:8px 0 0 5px;padding:0;font-family:sans-serif;font-size:'+a.size+";line-height:1.5;cursor:inherit;border:none;outline:none;resize:none;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-appearance:textfield;color:"+a.color+";"+a.width+";"+a.height+";"+a.css.textarea+';" placeholder="'+a.placeholder+'" value="'+n+'">\n                <div>\n                    <text-field-border id="border" style="display:block;width:100%;margin:8px 0 0 0;'+a.border_color+";box-sizing:content-box;"+a.css.border+'"></text-field-border>\n                    <text-field-state id="state" style="display: block; position: absolute; width: 100%; margin: -1px 0px 0px; border-width: medium medium 2px; border-style: none none solid; border-color: '+a.state_color+"; box-sizing: content-box; transform: scaleX(0); transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"+a.css.state+'"></text-field-state>\n                </div>\n                <text-field-error id="error" style="display:block;position:absolute;margin:8px 0 0 0;max-width:428px;font-size:14px;font-weight:bold;line-height:1.5;text-align:initial;word-wrap:break-word;user-select:none;color:'+a.error_color+";transform:scale(0.75) translate( 0, 0 );"+a.css.error+'"></text-field-error>\n            </text-field>'},r=function(e,n,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r={},i={disable:!1,placeholder:"",height:"20px;",width:"100%",size:"14px",color:"rgba(51, 51, 51, .87)",float_color:"rgba(0, 137, 123, 0.8)",state_color:"rgba(0, 137, 123, 0.8)",border_color:"border-top:none rgba(224, 224, 224, 1);border-left:none rgba(224, 224, 224, 1);border-right:none rgba(224, 224, 224, 1);border-bottom:1px solid rgba(224, 224, 224, 1)",error_color:"rgba(244, 67, 54, 1)",hoverColor:"rgba(238, 238, 238, 1)",css:{float:"",textarea:"",border:"",state:"",error:""}},s=function(e){return'<list-field class="" style="display: flex; align-items: center; padding: 8px 24px 8px 16px; height: 36px; width: 100%; text-align: left; box-sizing: border-box; transition: all 1s cubic-bezier(0.23, 1, 0.32, 1) 0ms; cursor: pointer; background-color: transparent;" value="'+e+'"><list-field-name style="display:inline;width:100%;font-size:inherit;" value="'+e+'">'+e+"</list-field-name></list-field>"},l=function(t){var n="";t.forEach(function(e){n+=s(e)});var o=""!=n?{opacity:1,transform:"scaleY(1)"}:{opacity:0,transform:"scaleY(0)"};$("#"+e).find("list-view").html(n).css(o)};return Object.assign(r,i,a),r.disable=1==r.disable?disable[r.type]:"",r.width=void 0!=a.width?"width: "+a.width+";":"",r.height=void 0!=a.height?"height: "+a.height+";":"",$("html").on("focus","#"+e,function(t){$("#"+e).find("#state").css({transform:"scaleX(1)"})}),$("html").on("blur","#"+e,function(t){$("#"+e).find("#state").css({transform:"scaleX(0)"})}),$("html").on("mouseover","#"+e+" list-field",function(e){var t=$(e.target);t.is("list-field")&&($("list-field[active=true]").css("background-color","transparent").attr("active",!1),t.attr("active",!0).css("background-color",r.hoverColor))}),$("html").on("click","#"+e+" list-field",function(t){$("#"+e).find("input").val($(t.target).text()),$("#"+e).find("list-view").html("").css({opacity:0,transform:"scaleY(0)"}),$("#"+e).find("icon").attr("data-state","close"),n=$(t.target).text(),r.onchange&&r.onchange($(t.target).text())}),$("html").on("click","#"+e+" icon",function(e){"close"==e.target.dataset.state?(l(o),e.target.dataset.state="open"):(l([]),e.target.dataset.state="close")}),$("html").on("keyup","#"+e,function(t){var n=$("list-view");if(0==n.children().length&&40==t.keyCode)return l(o),void $("#"+e).find("icon").attr("data-state","open");var a=n.find("list-field[active=true]");if(9==t.keyCode||27==t.keyCode)$("#"+e).find("icon").attr("data-state","close"),l([]);else if(40==t.keyCode)0==a.length?n.children().first().attr("active",!0).css("background-color",r.hoverColor):(a.css("background-color","transparent").attr("active",!1),a.next().attr("active",!0).css("background-color",r.hoverColor));else if(38==t.keyCode)0==a.length?n.children().last().attr("active",!0).css("background-color",r.hoverColor):(a.css("background-color","transparent").attr("active",!1),a.prev().attr("active",!0).css("background-color",r.hoverColor));else if(13==t.keyCode)$("#"+e).find("input").val(a.text()),$("#"+e).find("list-view").html("").css({opacity:0,transform:"scaleY(0)"});else{var i=t.target.value,s=o.filter(function(e){return e.toString().includes(i)});l(s)}}),t.push({id:e,event:"focus"}),t.push({id:e,event:"blur"}),t.push({id:e+" list-field",event:"mouseover"}),t.push({id:e+" list-field",event:"click"}),t.push({id:e+" icon",event:"click"}),t.push({id:e,event:"keyup"}),'<auto-complete id="'+e+'" style="display:block;position:relative;margin:0;padding:0;width:100%;line-height:1;">\n                <icon style="display:block;position:absolute;width:24px;height:24px;top:1px;right:0;border:none;background-position:center;background-repeat:no-repeat;background-image:url( data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAABqSURBVEiJ7dQxCsAgDIXhZ8ktgmetVw31GIF06lI0yeIWJyH4f4hgMzOcXNfRegEFFAAAoGA+ROR2A0STmftu7t5ARAYRTS+uqtt4CACAqvYVkomngBWSjQPxG/yR59tnz7X6rgso4DzwAnJQKlbAmFdgAAAAAElFTkSuQmCC);cursor:pointer;z-index:2;" data-state="close"></icon>\n                <text-field-float id="float" style="display: block; position: absolute; margin: -8px 0px 0px; color: '+r.float_color+"; font-size: 14px; font-weight: bold; pointer-events: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms; transform: scale(0.75) translate(0px, -8px); transform-origin: left top 0px; -moz-user-select: none;"+r.css.float+'"></text-field-float>\n                <input style="position:relative;color:rgba(51, 51, 51, .87);background-color:transparent;width:100%;height:20px;margin:8px 0 0 0;padding:0;font-family:sans-serif;font-size:'+r.size+";line-height:1.5;cursor:inherit;border:none;outline:none;resize:none;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-appearance:textfield;color:"+r.color+";"+r.width+";"+r.height+";"+r.css.textarea+';" placeholder="'+r.placeholder+'" value="'+n+'">\n                <ac-group>\n                    <text-field-border id="border" style="display:block;width:100%;margin:8px 0 0 0;'+r.border_color+";box-sizing:content-box;"+r.css.border+'"></text-field-border>\n                    <text-field-state id="state" style="display: block; position: absolute; width: 100%; margin: -1px 0px 0px; border-width: medium medium 2px; border-style: none none solid; border-color: '+r.state_color+"; box-sizing: content-box; transform: scaleX(0); transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"+r.css.state+'"></text-field-state>\n                </ac-group>\n                <list-view style="display: block; position: absolute; top: 40px; left: 0px; margin: 0px; padding: 0px; width: 100%; max-height: 400px; color: rgba(51, 51, 51, 0.87); background-color: rgb(255, 255, 255); box-sizing: border-box; box-shadow: rgba(0, 0, 0, 0.14) 0px 8px 10px 1px, rgba(0, 0, 0, 0.12) 0px 3px 14px 2px, rgba(0, 0, 0, 0.2) 0px 5px 5px -3px; border-radius: 2px; z-index: 2100; overflow-y: auto; opacity: 0; transform: scaleY(0); transform-origin: left top 0px; transition: transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms, opacity 1s cubic-bezier(0.23, 1, 0.32, 1) 0ms; overflow-x: hidden;" >\n                </list-view>\n            </auto-complete>'},i=function(e,t,n,o,a){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{style:{header:"",content:"",footer:""}},i={open:{opacity:1,transform:"translateY(0px)"},close:{opacity:0,transform:"translateY(1000px)"},bg:"position: fixed;top: 0px;left: 0px;display: flex;justify-content: center;align-items: center;width: 100%;height: 100%;color: rgb(255, 255, 255);text-shadow: rgba(0, 0, 0, 0.3) 0px 1px;opacity: 0;transform: translateY(1000px);transition: all 1s cubic-bezier(0.23, 1, 0.32, 1) 0ms;z-index: 2147483646;",root:"display: -webkit-flex;flex-direction: column;margin: 0;padding: 0;min-width: 480px;min-height: 300px;color: rgba(0, 0, 0, 0.870588);background-color: rgb(255, 255, 255);border-radius: 3px;box-sizing: border-box;box-shadow: rgba(0, 0, 0, 0.247059) 0px 14px 45px, rgba(0, 0, 0, 0.219608) 0px 10px 18px;",header:"display: block;padding: 24px 24px 20px 24px;min-height: 25px;line-height: 25px;font-size: 21px;font-weight: 500;color: #fff;background-color: rgb(100, 181, 246);",content:"display: block;padding: 24px 24px 0;width: 100%;min-height: 244px;max-height: 580px;overflow-y: auto;box-sizing: border-box;",footer:"display: -webkit-flex;flex-flow: row nowrap;justify-content: flex-end;width: 100%;min-height: 52px;box-sizing: border-box;"};return a.open=function(e){setTimeout(function(){return $("mduikit-dialog-gp#"+e).css(i.open)},200)},a.close=function(e){$("mduikit-dialog-gp#"+e).css(i.close),setTimeout(function(){return $("mduikit-dialog-gp#"+e).remove()},200)},'<mduikit-dialog-gp id="'+e+'" style="'+i.bg+'">\n                <diglog style="'+i.root+'">\n                    <dialog-header  style="'+(i.header+r.style.header)+'">'+t+'</dialog-header>\n                    <dialog-content style="'+(i.content+r.style.content)+'">'+n+'</dialog-content>\n                    <dialog-footer  style="'+(i.footer+r.style.footer)+'">'+o+"</dialog-footer>\n                </diglog>\n            </mduikit-dialog-gp>"},s=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments[2],a=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i={},s={width:"",thumb:"",track:"",thumbColor:"rgb(63, 81, 181)",trackColor:"rgb(121, 134, 203)",onclick:void 0},l={open:{thumb:{"margin-left":"-20px",left:"100%","background-color":r.thumbColor||s.thumbColor},track:{"background-color":r.trackColor||s.trackColor}},close:{thumb:{"margin-left":"initial",left:"0","background-color":"rgb(245, 245, 245)"},track:{"background-color":"rgb(189, 189, 189)"}}};return Object.assign(i,s,r),i.width=void 0!=r.width?"width: "+r.width+";":"",n&&(i.thumb=JSON.stringify(l.open.thumb).replace(/{|}/gi,"").replace(/","/gi,";").replace(/":"/gi,":").replace(/"/gi,"")),n&&(i.track=JSON.stringify(l.open.track).replace(/{|}/gi,"").replace(/","/gi,";").replace(/":"/gi,":").replace(/"/gi,"")),!i.css&&(i.css={}),$("html").on("click","#"+e,function(t){$("switch#"+e).find("switch-rang").hasClass("active")?($("switch#"+e).find("thumb").css(l.close.thumb),$("switch#"+e).find("track").css(l.close.track)):($("switch#"+e).find("thumb").css(l.open.thumb),$("switch#"+e).find("track").css(l.open.track)),$("switch#"+e).find("switch-rang").toggleClass("active"),n=!n,i.onclick&&i.onclick(t,n)}),t.push({id:e,event:"click"}),'<switch id="'+e+'" style="display:flex;align-items:center;position:relative;width:100%;'+i.width+";margin:8px 0 0 0;padding:0;overflow:visible;color:rgba(51, 51, 51, .87);cursor:pointer;"+(i.css.root||"")+';">\n                <content style="display:flex;flex-direction:column;align-items:flex-start;width:100%;'+(i.css.content||"")+';">\n                    <title style="display:block;width:100%;font-family:sans-serif;font-size:14px;font-weight:400;user-select:none;pointer-events:none;text-align:left;order:-1;'+(i.css.title||"")+';">'+o+'</title>\n                    <subtitle style="display:-webkit-box;flex-shrink:2;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;text-align:left;color:rgba( 51, 51, 51, .54 );'+(i.css.subtitle||"")+';">'+(a||"")+'</subtitle>\n                </content>\n                <switch-rang class="'+(n?"active":"")+'" style="display:block;position:relative;float:left;flex-shrink:0;width:36px;margin:0 0 0 8px;padding:4px 0px 6px 2px;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;">\n                    <thumb style="display: block; position: absolute; top: 1px; left: 0px; width: 20px; height: 20px; color: rgba(51, 51, 51, 0.87); background-color: rgb(245, 245, 245); box-shadow: rgba(0, 0, 0, 0.118) 0px 1px 6px, rgba(0, 0, 0, 0.118) 0px 1px 4px; box-sizing: border-box; border-radius: 50%; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;'+i.thumb+';" class="md-waves-effect"></thumb>\n                    <track style="display: block; width: 100%; height: 14px; border-radius: 30px; background-color: rgb(189, 189, 189); transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;'+i.track+';"></track>\n                </switch-rang>\n            </switch>'},l=function(e,n,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r={},i={height:"20px;",width:"100%",size:"14px",color:"rgba(51, 51, 51, .87)",hoverColor:"rgba(238, 238, 238, 1)",css:{float:"",textarea:"",border:"",state:"",error:""}},s={open:{list:{opacity:1,transform:"scaleY(1)"},bg:{display:"block"}},close:{list:{opacity:0,transform:"scaleY(0)"},bg:{display:"none"}}},l=function(e){var t=e.name,o=e.value;return'<list-field class="" style="display: flex; align-items: center; padding: 8px 24px 8px 16px; height: 36px; width: 100%; text-align: left; box-sizing: border-box; transition: all 1s cubic-bezier(0.23, 1, 0.32, 1) 0ms; background-color: transparent;">\n                    <i style="display:none;width:18px;height:18px;margin:0 10px 0 0;padding:10px;border:none;background-position:center;background-repeat:no-repeat;"></i>\n                    <list-field-name style="display:inline;width:100%;font-size:inherit;'+(n==t?"color: rgba(255, 64, 129, 1);":"")+'" value="'+o+'">'+t+"</list-field-name>\n                </list-field>"},c=function(t){var n="";t.forEach(function(e){n+=l(e)}),$("dropdown#"+e).find("list-view").html(n)};return Object.assign(r,i,a),r.width=void 0!=a.width?"width: "+a.width+";":"",$("html").on("mouseover","#"+e+" list-field",function(e){var t=$(e.target);t.is("list-field")&&($("list-field[active=true]").css("background-color","transparent").attr("active",!1),t.attr("active",!0).css("background-color",r.hoverColor))}),$("html").on("click","#"+e+" list-field",function(t){var o=$(t.currentTarget).find("list-field-name"),a=o.text(),i=o.attr("value");$("dropdown#"+e).find("sr-span").text(a),$("dropdown#"+e).find("icon").attr("data-state","close"),$("dropdown#"+e).find("list-view").css(s.close.list),$("dropdown#"+e).find("list-bg").css(s.close.bg),n=a,r.onchange&&r.onchange(i,a)}),$("html").on("click","#"+e+" list-bg",function(){$("dropdown#"+e).find("icon").attr("data-state","close"),$("dropdown#"+e).find("list-view").css(s.close.list),$("dropdown#"+e).find("list-bg").css(s.close.bg)}),$("html").on("click","#"+e+" icon",function(t){"close"!=t.target.dataset.state&&t.target.dataset.state?(c([]),t.target.dataset.state="close",$("dropdown#"+e).find("list-view").css(s.close.list),$("dropdown#"+e).find("list-bg").css(s.close.bg)):(c(o),t.target.dataset.state="open",$("dropdown#"+e).find("list-view").css(s.open.list),$("dropdown#"+e).find("list-bg").css(s.open.bg))}),t.push({id:e+" list-field",event:"mouseover"}),t.push({id:e+" list-field",event:"click"}),t.push({id:e+" list-bg",event:"click"}),t.push({id:e+" icon",event:"click"}),'<dropdown id="'+e+'" style="position:relative;display:flex;align-items:center;margin:0;padding:0;height:36px;width:80px;line-height:1;cursor:pointer;user-select:none;'+r.width+";"+r.height+';">\n                <sr-span style="display:block;margin:0;padding:8px 24px 8px 0;width:100%;text-align:left;">'+n+'</sr-span>\n                <icon style="display:block;position:absolute;width:24px;height:24px;top:6px;right:0;border:none;background-position:center;background-repeat:no-repeat;background-image:url( data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAABqSURBVEiJ7dQxCsAgDIXhZ8ktgmetVw31GIF06lI0yeIWJyH4f4hgMzOcXNfRegEFFAAAoGA+ROR2A0STmftu7t5ARAYRTS+uqtt4CACAqvYVkomngBWSjQPxG/yR59tnz7X6rgso4DzwAnJQKlbAmFdgAAAAAElFTkSuQmCC);"></icon>\n                <list-view style="display:block;position:absolute;top:0;left:0;margin:0;padding:0;width:100%;max-height:300px;color:rgba(51, 51, 51, .87);background-color:rgba(255, 255, 255, 1);box-sizing:border-box;box-shadow:0 8px 10px 1px rgba(0,0,0,0.14), 0 3px 14px 2px rgba(0,0,0,0.12), 0 5px 5px -3px rgba(0,0,0,0.2);border-radius:2px;z-index:2100;overflow-y:auto;opacity:0;transform:scaleY(0);transform-origin:left top 0px;transition:transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms, opacity 1s cubic-bezier(0.23, 1, 0.32, 1) 0ms;"></list-view>\n                <list-bg style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;"></list-bg>\n            </dropdown>';
},c=function(){t.forEach(function(e){return $("html").off(e.event,"#"+e.id)}),t=[]},d=function(e){t.forEach(function(t){return t.id.startsWith(e)&&$("html").off(t.event,"#"+t.id)})};return e.Button=n,e.Textarea=o,e.TextField=a,e.AutoComplete=r,e.Dialog=i,e.Switch=s,e.Dropdown=l,e.Destory=c,e.DestoryById=d,e}({});e.exports=n},102:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,"@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}.sr-alertgp{position:fixed;left:0;top:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:100%;background-color:rgba(51,51,51,.8);z-index:2147483647}.sr-alertgp .alert{min-width:400px;min-height:400px;width:650px;background-color:#fff;border-radius:4px;box-shadow:0 14px 45px rgba(0,0,0,.247059);-webkit-animation-name:fadeInUp;animation-name:fadeInUp;-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.sr-alertgp .alert,.sr-alertgp .alert .loading{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.sr-alertgp .alert .loading{position:relative;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:100%;height:35%;background-color:transparent}.alert .loading .progress{display:block;margin:10px auto;max-width:80%;max-height:250px;width:20%}.alert .loading .progress .percentage{fill:#666;font-family:sans-serif;font-size:.5em;text-anchor:middle}.alert .loading .progress .circle-bg{fill:none;stroke:#eee;stroke-width:3.8}.alert .loading .progress .circle{fill:none;stroke-width:2.8;stroke-linecap:round;stroke:#1dba90;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}@-webkit-keyframes scaleAnimation{0%{opacity:0;-webkit-transform:scale(1.5);transform:scale(1.5)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes scaleAnimation{0%{opacity:0;-webkit-transform:scale(1.5);transform:scale(1.5)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}@-webkit-keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.sr-alertgp .alert .close{position:absolute;top:0;right:0;z-index:2}.sr-alertgp .alert .close:hover{-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.sr-alertgp .alert .sr-alert-icon img{max-width:650px;width:100%;-webkit-transform:scale(.7);transform:scale(.7);-webkit-transition:all .5s ease-out;transition:all .5s ease-out}.sr-alertgp .alert .actionbar{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:20px;width:80%;height:50px;-webkit-transition:all 1s cubic-bezier(.23,1,.32,1) 0ms;transition:all 1s cubic-bezier(.23,1,.32,1) 0ms}.sr-alertgp .alert .actionbar,.sr-alertgp .alert.notification{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.sr-alertgp .alert.notification{width:500px;min-height:350px}.sr-alertgp .alert.notification[data-state=siren]{background-image:-webkit-radial-gradient(circle farthest-corner at 10% 20%,#cd212a 0,#ec5f05 90%);background-image:radial-gradient(circle farthest-corner at 10% 20%,#cd212a 0,#ec5f05 90%)}.sr-alertgp .alert.notification[data-state=lock]{background-image:-webkit-radial-gradient(circle farthest-corner at 10% 20%,#8451a1 0,rgba(132,81,161,.83) 90%);background-image:radial-gradient(circle farthest-corner at 10% 20%,#8451a1 0,rgba(132,81,161,.83) 90%)}.sr-alertgp .alert.notification[data-state=warning]{background-image:-webkit-linear-gradient(left,#f2709c,#ff9472);background-image:linear-gradient(90deg,#f2709c,#ff9472)}.sr-alertgp .alert.notification[data-state=bug]{background-image:-webkit-linear-gradient(bottom,#ad5389,#3c1053);background-image:linear-gradient(0deg,#ad5389,#3c1053)}.sr-alertgp .alert.notification[data-state=safe],.sr-alertgp .alert.notification[data-state=server]{background-color:#8ec5fc;background-image:-webkit-linear-gradient(28deg,#8ec5fc,#e0c3fc);background-image:linear-gradient(62deg,#8ec5fc,#e0c3fc)}.sr-alertgp .alert.notification .sr-alert-icon{position:relative;width:100%}.sr-alertgp .alert.notification .loading .progress{padding:5px;background-color:#fff;border-radius:50%}.sr-alertgp .alert.notification .loading .progress .circle-bg{stroke:transparent}.sr-alertgp .alert.notification .loading .progress .circle{stroke-width:1}.sr-alertgp .alert.notification[data-state=siren] .loading .progress .circle{stroke:#cd212a}.sr-alertgp .alert.notification[data-state=lock] .loading .progress .circle{stroke:#8451a1}.sr-alertgp .alert.notification[data-state=warning] .loading .progress .circle{stroke:#f2709c}.sr-alertgp .alert.notification[data-state=bug] .loading .progress .circle{stroke:#ad5389}.sr-alertgp .alert.notification[data-state=safe] .loading .progress .circle,.sr-alertgp .alert.notification[data-state=server] .loading .progress .circle{stroke:#8ec5fc}.sr-alertgp .alert.notification .content{padding:10px 70px;width:100%;color:#fff;text-align:center;font-size:28.8px;font-size:1.8rem;box-sizing:border-box}.sr-alertgp .alert.notification .flag{position:absolute;left:0;top:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:100%;z-index:100000}.sr-alertgp .alert.notification .flag img{width:50px}.sr-alertgp .alert.notification[data-state=lock] .flag img{width:30px}.sr-alertgp .alert.notification .flag img.swing{-webkit-transform-origin:center;transform-origin:center;-webkit-animation-name:swing;animation-name:swing;-webkit-animation-duration:1s;animation-duration:1s}.sr-alertgp .alert.notification .actionbar{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;margin:0}.sr-alertgp .alert.notification .return{padding:5px 32px;color:#333;background-color:#fff;font-size:15px;font-weight:700;border-radius:56px}.sr-alertgp .alert.notification .return:hover{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}@-webkit-keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}@keyframes swing{20%{-webkit-transform:rotate(15deg);transform:rotate(15deg)}40%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}60%{-webkit-transform:rotate(5deg);transform:rotate(5deg)}80%{-webkit-transform:rotate(-5deg);transform:rotate(-5deg)}to{-webkit-transform:rotate(0deg);transform:rotate(0deg)}}",""])},104:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,"@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}sr-promo-bg{position:fixed;right:15px;bottom:15px;z-index:2147483646}sr-promo,sr-promo-notice{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:10px;color:rgba(51,51,51,.87);background-color:#fff;border-radius:4px;box-shadow:0 12px 18px -6px rgba(0,0,0,.3);overflow:hidden;-webkit-transform-origin:bottom;transform-origin:bottom;-webkit-transition:all .6s ease;transition:all .6s ease;-webkit-animation-name:fadeInUp;animation-name:fadeInUp;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-fill-mode:both;animation-fill-mode:both}sr-promo img{width:220px;cursor:pointer}sr-promo-footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:10px 0 0;width:100%}sr-promo-a{padding:5px 10px;color:#fff;font-size:12px;font-weight:700;border-radius:2px;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);cursor:pointer}sr-promo-a.later{background-color:#2196f3}sr-promo-a.cancel{background-color:#757575}sr-promo-tip{font-size:12px;padding:5px 10px;border-radius:2px}sr-promo-notice{position:absolute;top:10px;left:10px;right:10px;height:293px;padding-bottom:0;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;font-size:12px;border-radius:0;box-shadow:none;overflow-y:hidden}sr-promo-notice:hover{overflow-y:overlay}sr-promo-notice-title{font-weight:700;text-align:center;margin-bottom:5px;width:100%;font-size:14px}sr-promo-notice-content{margin-top:5px}",""])},105:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,".simpread-upgrade-root *{box-sizing:border-box}.simpread-upgrade-root{-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.simpread-upgrade-root.open{background-color:rgba(51,51,51,.8)}.simpread-upgrade-root dialog-gp{position:relative}.simpread-upgrade-root dialog-gp .close{position:fixed;top:0;right:0;z-index:2}.simpread-upgrade-root dialog-gp .close:hover{-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.simpread-upgrade-root dialog-content{padding-bottom:80px!important;overflow-y:hidden}.simpread-upgrade-root dialog-content:hover{overflow-y:overlay}.simpread-upgrade-root dialog-content::-webkit-scrollbar-track{background-color:transparent}.simpread-upgrade-root dialog-content::-webkit-scrollbar{width:12px}.simpread-upgrade-root dialog-content::-webkit-scrollbar-thumb{background-clip:padding-box;padding-top:80px;background-color:#ddd;border:3px solid transparent;border-radius:8px}.simpread-upgrade-root .floating{position:absolute;left:0;right:0;bottom:0;height:80px;overflow-y:hidden}.simpread-upgrade-root .floating,.simpread-upgrade-root .floating .billing{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.simpread-upgrade-root .floating .billing{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:1px 40px;color:#fff;background-color:#4dbb7c;font-size:15px;font-weight:400;opacity:0;border-radius:30px;-webkit-transition:all .5s cubic-bezier(.23,1,.32,1) 0ms;transition:all .5s cubic-bezier(.23,1,.32,1) 0ms;box-shadow:0 12px 18px -6px rgba(0,0,0,.3)}.simpread-upgrade-root .floating .billing.open{-webkit-animation-name:fadeInUp;animation-name:fadeInUp;-webkit-animation-duration:.3s;animation-duration:.3s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.simpread-upgrade-root .floating .billing .sales{font-size:12px}.simpread-upgrade-root .floating .billing .rate{margin:0 5px}.simpread-upgrade-root .floating .billing .price{margin-left:2px;margin-right:5px}.upgrade{position:relative;color:rgba(51,51,51,.87);font-family:Hiragino Sans GB,Microsoft Yahei;text-shadow:none}.upgrade .head{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.upgrade .head img{margin-bottom:5px;width:60px;border-radius:9px;box-shadow:0 12px 18px -6px rgba(0,0,0,.3)}.upgrade .head .title{margin:10px 0;font-weight:700;font-size:15px}.upgrade .head .desc{width:70%;text-align:center;font-size:13px}.upgrade .features{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:distribute;justify-content:space-around;-webkit-transition:height .2s cubic-bezier(.23,1,.32,1) 0ms;transition:height .2s cubic-bezier(.23,1,.32,1) 0ms}.upgrade .features.init{height:100px}.upgrade .features.init .base,.upgrade .features.init .pro{opacity:0}.upgrade .loading{position:absolute;left:0;top:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:100%;background-color:#fff;z-index:1}.upgrade .loading span{width:50px;height:50px;opacity:.87}.features.error{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:inherit;font-size:14px}.features.error img{margin:10px 0;width:300px}.upgrade .base,.upgrade .pro{margin:20px 20px 13px;width:100%;text-align:center;opacity:1;-webkit-transition:opacity .2s cubic-bezier(.23,1,.32,1) 0ms;transition:opacity .2s cubic-bezier(.23,1,.32,1) 0ms}.upgrade .pricecard{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;border-radius:4px;border:1px solid #eef1f4;position:relative}.upgrade .pro .pricecard{border:2px solid #4dbb7c;box-shadow:0 12px 18px -6px rgba(0,0,0,.3)}.upgrade .pricecard .mode{margin:20px 10px 10px;font-size:18px;font-weight:700}.upgrade .pricecard .sales{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:92px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.upgrade .pricecard .discountrate{position:absolute;top:-12px;left:0;right:0}.upgrade .pricecard .discountrate .rate{padding:3px 10px;color:#fff;background-color:#4dbb7c;font-weight:700;font-size:13px;border-radius:10px}.upgrade .pricecard .desc{font-size:30px}.upgrade .pricecard .desc del{font-size:15px;font-weight:700;text-decoration:line-through}.upgrade .pricecard .price{position:relative;color:#4dbb7c;font-size:30px;font-weight:700}.upgrade .pricecard .message{position:relative;font-size:11px;font-weight:400;background-image:-webkit-linear-gradient(top,hsla(0,0%,100%,0) 50%,#ffeb3b 0);background-image:linear-gradient(180deg,hsla(0,0%,100%,0) 50%,#ffeb3b 0)}.upgrade .pricecard .countdown{margin-top:5px}.upgrade .pricecard .billing{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:30px 20%;padding:5px;color:#333;background-color:#e2e2e2;font-size:15px;font-style:normal;font-weight:700;border-radius:4px;cursor:pointer}.upgrade .pricecard .billing,.upgrade .pricecard .billing i{-webkit-transition:all .5s cubic-bezier(.23,1,.32,1) 0ms;transition:all .5s cubic-bezier(.23,1,.32,1) 0ms}.upgrade .pricecard .billing i{height:27px;line-height:22px;margin-left:5px}.upgrade .pricecard .billing:hover{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.upgrade .pricecard .billing:hover i{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.upgrade .pricecard .billing:hover .dropdown-price{opacity:1;-webkit-transform:scale(1);transform:scale(1)}.upgrade .pricecard .billing .dropdown-price{position:absolute;left:-41px;top:38px;-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:270px;color:rgba(51,51,51,.87);font-size:12px;text-shadow:none;box-sizing:border-box;border-radius:4px;box-shadow:0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12),0 5px 5px -3px rgba(0,0,0,.2);opacity:0;-webkit-transform:scaleY(0);transform:scaleY(0);-webkit-transform-origin:left top 0;transform-origin:left top 0;-webkit-transition:opacity 1s cubic-bezier(.23,1,.32,1) 0ms,-webkit-transform .45s cubic-bezier(.23,1,.32,1) 0ms;transition:opacity 1s cubic-bezier(.23,1,.32,1) 0ms,-webkit-transform .45s cubic-bezier(.23,1,.32,1) 0ms;transition:transform .45s cubic-bezier(.23,1,.32,1) 0ms,opacity 1s cubic-bezier(.23,1,.32,1) 0ms;transition:transform .45s cubic-bezier(.23,1,.32,1) 0ms,opacity 1s cubic-bezier(.23,1,.32,1) 0ms,-webkit-transform .45s cubic-bezier(.23,1,.32,1) 0ms;z-index:1}.upgrade .pricecard .billing .dropdown-price,.upgrade .pricecard .billing .dropdown-price .store{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff}.upgrade .pricecard .billing .dropdown-price .store{-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;padding:8px 24px 8px 16px;width:100%;-webkit-transition:all 1s cubic-bezier(.23,1,.32,1) 0ms;transition:all 1s cubic-bezier(.23,1,.32,1) 0ms;cursor:pointer}.upgrade .pricecard .billing .dropdown-price .store:hover{background-color:#eee}.upgrade .pricecard .billing .dropdown-price .store:hover i{-webkit-transform:rotate(270deg) translateY(7px);transform:rotate(270deg) translateY(7px)}.upgrade .pricecard .billing .dropdown-price .store .names{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;width:135px}.upgrade .pricecard .billing .dropdown-price .store .des{width:100%;color:rgba(51,51,51,.56);text-align:left;font-size:10px;-webkit-transform:scale(.8) translateX(-17px);transform:scale(.8) translateX(-17px)}.upgrade .pricecard .billing .dropdown-price .store .num{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:46px}.upgrade .pricecard .billing .dropdown-price .store .tips{-webkit-transform:scale(.8);transform:scale(.8);color:#4dbb7c}.upgrade .pricecard .billing .dropdown-price .store i{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.upgrade .base[data-enable=false] .pricecard,.upgrade .pro[data-enable=true] .pricecard{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:210px}.upgrade .base[data-enable=false] .pricecard .mode,.upgrade .pro[data-enable=true] .pricecard .mode{font-size:25px}.upgrade .base[data-enable=false] .pricecard .billing,.upgrade .base[data-enable=false] .pricecard .sales,.upgrade .pro[data-enable=true] .pricecard .billing .dropdown-price,.upgrade .pro[data-enable=true] .pricecard .billing i,.upgrade .pro[data-enable=true] .pricecard .discountrate,.upgrade .pro[data-enable=true] .pricecard .sales{display:none}.upgrade .pro[data-enable=true] .pricecard .billing{position:absolute;top:-28px;left:0;right:0;display:inherit;margin:10px 20%;border-radius:30px}.upgrade .pro .billing{color:#fff;background-color:#4dbb7c}.upgrade .features.diff{-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;margin-top:20px}.upgrade .features.diff,.upgrade .features .feature{-webkit-box-direction:normal;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.upgrade .features .feature{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:unset;-ms-flex-pack:unset;justify-content:unset;margin:14px 20px 0;font-size:15px}.upgrade .features .feature.empty{height:27px}.upgrade .features .icon{margin-right:10px;width:15px}.upgrade .features .label{width:120px;font-size:15px;text-align:left}.upgrade .features a{color:inherit;cursor:auto}.upgrade .features a.active{padding-bottom:5px;border-bottom:1px dotted;-webkit-transition:all .5s cubic-bezier(.23,1,.32,1) 0ms;transition:all .5s cubic-bezier(.23,1,.32,1) 0ms;cursor:pointer}.upgrade .features a.active:hover{color:#4285f4}.upgrade .features .label .remark{margin-left:5px;padding:2px 5px;background-color:#ffeb3b;font-size:12px;font-weight:400;border-radius:4px}.upgrade .features .label .remark.roadmap{background-color:#e2e2e2}.upgrade .ticket{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;font-size:13px}.upgrade .ticket .message{width:70%;text-align:center}.upgrade .ticket .line{margin:7px 0 0;width:100%;height:1px;background-image:-webkit-linear-gradient(.1deg,rgba(255,18,18,0) -2.8%,#e2e2e2 50.8%,rgba(0,159,8,0) 107.9%);background-image:linear-gradient(89.9deg,rgba(255,18,18,0) -2.8%,#e2e2e2 50.8%,rgba(0,159,8,0) 107.9%)}.upgrade .ticket .notice{margin:20px 20%;padding:5px 20px;color:#333;background-color:#e2e2e2;font-size:15px;font-weight:400;border-radius:4px}.upgrade .ticket .content{margin:0 0 13px;width:80%}.upgrade .ticket .content li{margin-bottom:6px}.upgrade .ticket .content li:last-child{margin-bottom:0}.upgrade .ticket .last{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:20px 0;width:100%}.upgrade .carousels{margin:20px 20px 13px}.upgrade .carousel.carousel-slider{height:420px;border-radius:4px;box-shadow:0 12px 18px -6px rgba(0,0,0,.3)}.upgrade .carousels setion{position:relative}.upgrade .carousels setion img{margin-top:-82px;width:100%}.upgrade .carousels .descr{position:absolute;left:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:80px;width:100%;padding-bottom:10px;background-color:#fff;font-size:17px}.simpread-upgrade-root.mini dialog-gp{border-radius:15px!important}.simpread-upgrade-root.mini dialog-content{padding:0!important;width:650px!important}.simpread-upgrade-root.mini dialog-gp .close{position:absolute}.simpread-upgrade-root.mini .upgrade .carousels{margin:0}.simpread-upgrade-root.mini .upgrade .carousels .descr{padding-bottom:70px;height:130px}.simpread-upgrade-root.mini .upgrade .carousel.carousel-slider{height:450px}.simpread-upgrade-root.mini .floating .billing{margin-bottom:30px;min-height:40px}.simpread-upgrade-root.mini footer{position:absolute;top:199px;left:-60px;right:-60px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center}",""])},106:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,"dialog-gp .carousel,welcome .carousel{position:relative;width:100%;height:400px;-webkit-perspective:500px;perspective:500px;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform-origin:0 50%;transform-origin:0 50%;overflow:hidden}dialog-gp .carousel.carousel-slider,welcome .carousel.carousel-slider{top:0;left:0;height:100%}dialog-gp .carousel.carousel-slider .carousel-item,welcome .carousel.carousel-slider .carousel-item{position:absolute;top:0;left:0;width:100%;height:100%;min-height:400px}dialog-gp .carousel .carousel-item,welcome .carousel .carousel-item{display:none;position:absolute;top:0;left:0;width:200px;height:200px}dialog-gp .carousel .carousel-item>img,welcome .carousel .carousel-item>img{width:100%}dialog-gp .carousel .indicators,welcome .carousel .indicators{position:absolute;margin:0;padding:0;left:0;right:0;bottom:0;text-align:center}dialog-gp .carousel .indicators .indicator-item,welcome .carousel .indicators .indicator-item{display:inline-block;position:relative;margin:14px 4px;height:10px;width:10px;background-color:#e0e0e0;-webkit-transition:background-color .3s;transition:background-color .3s;border-radius:50%;cursor:pointer}dialog-gp .carousel .indicators .indicator-item.active,welcome .carousel .indicators .indicator-item.active{background-color:#4caf50}dialog-gp .carousel .carousel-item:not(.active) .materialboxed,dialog-gp .carousel.scrolling .carousel-item .materialboxed,welcome .carousel .carousel-item:not(.active) .materialboxed,welcome .carousel.scrolling .carousel-item .materialboxed{pointer-events:none}",""])},107:function(e,t){e.exports=function(e,t,n){for(var o=(2<<Math.log(t.length-1)/Math.LN2)-1,a=Math.ceil(1.6*o*n/t.length),r="";;)for(var i=e(a),s=0;s<a;s++){var l=i[s]&o;if(t[l]&&(r+=t[l],r.length===n))return r}}},108:function(e,t,n){var o=n(109),a=n(107);e.exports=function(e,t){return a(o,e,t)}},109:function(e,t){var n=self.crypto||self.msCrypto;e.exports=function(e){return n.getRandomValues(new Uint8Array(e))}},112:function(e,t,n){var o=n(102);"string"==typeof o&&(o=[[e.id,o,""]]),n(8)(o,{}),o.locals&&(e.exports=o.locals)},114:function(e,t,n){var o=n(104);"string"==typeof o&&(o=[[e.id,o,""]]),n(8)(o,{}),o.locals&&(e.exports=o.locals)},115:function(e,t,n){var o=n(105);"string"==typeof o&&(o=[[e.id,o,""]]),n(8)(o,{}),o.locals&&(e.exports=o.locals)},116:function(e,t,n){(function(t){"use strict";e.exports=t.Mousetrap=n(156)}).call(t,function(){return this}())},117:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unread",n="";return e&&e.map(function(e){var o=void 0,a=void 0,r=void 0;if("unread"==e.type)o=d.findUnReadbyID(e.id,l.storage.unrdist);else{var i=d.findAnnotebyID(e.id,l.storage.unrdist);o=i.unread,a=i.annote}var s="",c="";a&&(a.tags&&a.tags.map(function(e){s+="<span data-idx="+o.idx+' class="sr-unread-tag" data-value='+e+">#"+e+"</span>"}),"paragraph"==a.type?r='<div class="annote">'+a.html+"</div>":"img"==a.type?r="<img src="+a.text+"></img>":"code"==a.type&&(r="<pre>"+a.text+"</pre>")),("unread"==t||void 0==a)&&o.tags&&o.tags.length>0&&o.tags.map(function(e){c+="<span data-idx="+o.idx+' class="sr-unread-tag" data-value='+e+">#"+e+"</span>"}),n+="<"+("unread"==t?"sr-desc":"div")+' class="backlink-field" data-idx='+o.idx+" style='"+("unread"==t?"display:block;padding-left:10px;border-left:5px solid #8f9193":"display:block")+"'>\n                    "+(a?'<sr-div style="display:block;padding-left:10px" class="annotegp" sr-annote-bl-color data-color-type='+a.color+" data-id="+a.id+">\n                            "+r+"\n                            "+(s.length>0?'<div class="sr-unread-tags child">'+s+"</div>":"")+"\n                            "+(a.note?'<div class="note">'+a.note+"</div>":"")+"\n                            "+("annote"==t?'<div class="link"><a target="_blank" href='+o.url+">"+o.title+"</a></div>":"")+"\n                        </sr-div>":"")+"\n                    "+("unread"==t&&o.desc?'<div class="desc" style="margin-top:5px">'+o.desc+"</div>":"")+"\n                    "+("annote"==t&&void 0==a?'<div class="backlink-title"><div class="link"><a target="_blank" href='+o.url+">"+o.title+"</a></div></div>":"")+"\n                    "+(c.length>0?'<div class="sr-unread-tags">'+c+"</div>":"")+"\n                    "+("unread"==t?'<div class="backlink-title"><div class="link"><a target="_blank" href='+o.url+">"+o.title+"</a></div></div>":"")+"\n                </"+("unread"==t?"sr-desc":"div")+">"}),n}function i(e,t,n,o,a){var r="",i=function(e,t){if(""==a.backlink)return"["+e.title+"]("+e.url+")";var n="";return n=a.backlink.replace(/{{id}}/gi,e.idx?e.idx+"-":"").replace(/{{un_title}}/gi,e.title?e.title:title).replace(/{{an_org_uri}}/gi,s("org",e,t)).replace(/{{an_int_uri}}/gi,s("int",e,t)).replace(/{{an_ext_uri}}/gi,s("ext",e,t))},s=function(e,t,n){var o=t.title.replace(/\/|:|\*|\?|<|>|\|/gi,"-");return"org"==e?t.url+"#js_content:~:text="+(n?encodeURI(n.text):""):"int"==e?(a.int_uri?a.int_uri+t.idx+"?title=":"http://localhost:7026/reading/")+o+(n?"#id="+n.id:""):"ext"==e?a.ext_uri?a.ext_uri+t.idx+"?title="+o+(n?"#id="+n.id:""):"":void 0};return e&&e.map(function(e,t){var s=void 0,c=void 0,p=void 0;if("unread"==e.type)s=d.findUnReadbyID(e.id,l.storage.unrdist);else{var u=d.findAnnotebyID(e.id,l.storage.unrdist);s=u.unread,c=u.annote}if("unread"==e.type)r+="> "+i(s,c)+"\n\n";else{"paragraph"==c.type?p='<div class="annote">'+c.html.replace(/\n/gi,"<br>")+"</div>":"img"==c.type?p="<img src="+c.text+"></img>":"code"==c.type&&(p="<pre>"+c.text+"</pre>");var f=n(p,void 0,void 0,!0,a.format),m=c.tags?"> "+o(c.tags)+"\n":"";r+="> "+f.replace(/\n\n/gi,"")+"\n"+m+("> "+i(s,c))+"\n\n"}}),r.replace(/[> ]*\n[> ]*\n?\n?$/gi,"")}function s(e){var t=new Map,n=new Map,o=new Map,r=[],i=new Map,s=function(e){var r=[],i=new Map;e.backlinks&&(r=e.backlinks),e.annotations&&e.annotations.forEach(function(e){return e.backlinks&&e.backlinks.length>0&&(r=r.concat(e.backlinks))});var s=[];if(e.tags&&e.tags.length>0&&(s=e.tags),e.annotations&&e.annotations.forEach(function(e){return e.tags&&e.tags.length>0&&(s=s.concat(e.tags))}),o.set(e.idx,[].concat(a(new Set(s)))),0==r.length)return i;var c=new Set,p=new Set;r.forEach(function(e){"unread"==e.type?c.add(e.id):p.add(e.id)});var u=d.findUnReadbyIDs([].concat(a(c)),l.storage.unrdist),f=d.findAnnotebyIDs([].concat(a(p)),l.storage.unrdist);return u.forEach(function(e){i.set(e.idx,e),n.set(e.idx,e)}),f.forEach(function(e){!i.get(e.unread.idx)&&i.set(e.unread.idx,e.unread),!n.get(e.unread.idx)&&n.set(e.unread.idx,e.unread)}),t.set(e.idx,i),i},c=0,p=60,u=function e(n){if(c++,!(c>=p||t.has(n.idx))){var o=s(n);[].concat(a(o)).forEach(function(t){e(t[1])})}};u(e);var f=e.idx,m=e.idx;if(t.forEach(function(e,t){var s=[].concat(a(e.keys()));s.forEach(function(e){f!=e&&m!=e&&r.push({
from:t,to:e})});var l=n.get(t);l&&!i.get(t)&&i.set(t,{id:t,label:l.title});var c=o.get(t);c&&c.length>0&&c.forEach(function(e){e="#"+e,i.set(e,{id:e,label:e}),r.push({from:t,to:e})}),f=t}),0==i.size){i.set(e.idx,{id:e.idx,label:e.title});var g=o.get(e.idx);g&&g.length>0&&g.forEach(function(t){t="#"+t,i.set(t,{id:t,label:t}),r.push({from:e.idx,to:t})})}return{edges:r,nodes:[].concat(a(i.values()))}}Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=t.Markdown=t.HTML=void 0;var l=n(4),c=n(65),d=o(c);t.HTML=r,t.Markdown=i,t.Graph=s},119:function(e,t,n){(function(e,o){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(t,n,o,a){var r=[];r="unread"==o?t.backlinks||[]:n.backlinks||[],z=a,!h.Popup(T)&&h.Open(e.createElement(R,{unread:t,annoate:n,backlinks:r,type:o}),S),$(T).on("click",function(e){e.target.className==S&&(O=[],h.Close())}),x.Render({root:T})}function d(t,n){var o=A.Graph(t),a=o.edges,r=o.nodes,i=function(e){$.ajax({url:"https://cdn.jsdelivr.net/npm/vis-network@9.0.4/dist/vis-network.min.js"}).then(function(t){M=window.vis,e()})};i(function(){z=n,!h.Popup(T)&&h.Open(e.createElement(P,{nodes:r,edges:a}),S),$(T).on("click",function(e){e.target.className==S&&h.Close()}),x.Render({root:T})})}Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=t.Embed=t.Render=void 0;var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(14),f=r(u),m=n(10),g=r(m),b=n(30),h=a(b),v=n(17),x=a(v),k=n(4),w=n(3),y=n(6),E=a(y),C=n(117),A=a(C),_=n(65),N=a(_),S="simpread-backlinks-root",T="."+S,O=[],z=void 0,M=void 0,j=function(t){function n(){var e,t,o,a;i(this,n);for(var r=arguments.length,l=Array(r),c=0;c<r;c++)l[c]=arguments[c];return t=o=s(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),o.state={refresh:!1},a=t,s(o,a)}return l(n,t),p(n,[{key:"changeShortcuts",value:function(e){13==e.keyCode&&this.onSearchChange(e)}},{key:"onSearchChange",value:function(e){var t=e.target.value.toLowerCase().trim(),n="",a=[];t.startsWith("tag:")?(t=t.replace("tag:",""),a=N.findbyTag(t,k.storage.unrdist),this.props.type="tag",this.props.tag=t):/^(title|desc|url|note|annote):/.test(t)?(n=t.match(/^[a-zA-Z]+/)[0],t=t.replace(/^(title|desc|url|note|annote):/,""),"annote"!=n?a=""==t?k.storage.unrdist:k.storage.unrdist.filter(function(e){return t=t.replace("\\#","#"),e[n]&&e[n].toLowerCase().includes(t)}):k.storage.unrdist.forEach(function(e){var n=$.extend(!0,{},e);n.annotations=[],e.annotations&&e.annotations.forEach(function(e){e.text&&e.text.toLowerCase().includes(t)&&n.annotations.push(e)}),n.annotations.length>0&&a.push(n)}),this.props.type=n,this.props.tag=t):t.startsWith("#")?(t=t.replace("#",""),a=N.findUnReadbyTag(t,k.storage.unrdist,!1),this.props.type="any",this.props.tag=t):(a=""==t?k.storage.unrdist:k.storage.unrdist.filter(function(e){return t=t.replace("\\#","#"),e.title&&e.title.toLowerCase().includes(t)||e.desc&&e.desc.toLowerCase().includes(t)||e.note&&e.note.toLowerCase().includes(t)}),this.props.type="any",this.props.tag=t),a&&a.length>0?(this.props.tag=t,O=a,this.setState({refresh:!0})):(new o).Render(2,"并未检索到任何内容，请重新检索。")}},{key:"onSlideClick",value:function(e){$(e.currentTarget).parent().toggleClass("close").next().slideToggle(),$(e.currentTarget).find("i").toggleClass("close")}},{key:"onAction",value:function(e,t){if("panel"==e);else if("collapse"==e){var n=$(".backlinks-gp .toolbar .icon.collapse").hasClass("close");n?$(".backlinks-gp .result .titlegp.close .icon").click():$(".backlinks-gp .result .titlegp:not(.close) .icon").click(),$(".backlinks-gp .toolbar .icon.collapse").toggleClass("close").parent().attr("aria-label",n?"全部缩进":"全部展开")}else"help"==e&&w.browser.runtime.sendMessage(E.Add(E.MESSAGE_ACTION.new_tab,{url:"http://ksria.com/simpread/docs/#/双向链接"}))}},{key:"render",value:function(){var t=this;this.props.search=O;var n=this.props.search.map(function(n){var o=n.tags&&n.tags.map(function(t){return e.createElement("div",{"data-idx":n.idx,className:"tag"},"#"+t)}),a=n.annotations&&n.annotations.map(function(o){var a=o.tags&&o.tags.map(function(t){return e.createElement("div",{"data-idx":n.idx,className:"tag"},"#"+t)}),r=void 0;return"paragraph"==o.type?r=e.createElement("div",{className:"annote"},o.text):"img"==o.type?r=e.createElement("img",{src:o.text}):"code"==o.type&&(r=e.createElement("pre",null,o.text)),e.createElement("sr-div",{class:"annotegp","sr-annote-bl-color":!0,"data-color-type":o.color},e.createElement("sr-tooltip",{class:"addlink","data-balloon-pos":"left","aria-label":"建立双向链接"},e.createElement("span",{className:"md-waves-effect icon add",onClick:function(){return t.props.onAction("backlinks_annote",o,n)}},e.createElement("i",{className:"fas fa-plus"}))),r,a&&a.length>0&&e.createElement("div",{className:"tags child"},a),o.note&&e.createElement("div",{className:"note"},o.note))});return e.createElement("div",{className:"result"},e.createElement("sr-tooltip",{class:"addlink unread","data-balloon-pos":"left","aria-label":"建立双向链接"},e.createElement("span",{className:"md-waves-effect icon add",onClick:function(){return t.props.onAction("backlinks_unread",n)}},e.createElement("i",{className:"fas fa-plus"}))),e.createElement("div",{className:"titlegp"},e.createElement("span",{className:"icon",onClick:function(e){return t.onSlideClick(e)}},e.createElement("i",{className:"fas fa-caret-down"})),e.createElement("span",{className:"title"},n.title)),e.createElement("div",{className:"group"},o&&o.length>0&&e.createElement("div",{className:"tags"},o),n.desc&&e.createElement("div",{className:"desc"},n.desc),n.note&&e.createElement("div",{className:"note"},n.note),e.createElement("div",{className:"annotations"},a)))});return e.createElement("div",{className:"search-gp"},e.createElement("div",{className:"search"},e.createElement("div",{className:"toolbar"},e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"全部缩进"},e.createElement("span",{className:"md-waves-effect icon collapse",onClick:function(){return t.onAction("collapse")}},e.createElement("i",{className:"fas fa-angle-double-up"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"帮助"},e.createElement("span",{className:"md-waves-effect icon help",onClick:function(){return t.onAction("help")}},e.createElement("i",{className:"fas fa-question"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"展开搜索侧栏"},e.createElement("span",{className:"md-waves-effect icon panel",onClick:function(){return t.onAction("panel")}},e.createElement("i",{className:"fas fa-window-maximize"})))),e.createElement(f.default,{placeholder:"含# → 搜索标签，不含# → 搜索标题，描述，备注",value:"",onKeyDown:function(e){return t.changeShortcuts(e)}})),e.createElement("div",{className:"search_result","data-customscroll":"true"},n))}}]),n}(e.Component);j.defaultProps={search:[]};var R=function(t){function n(){var e,t,o,a;i(this,n);for(var r=arguments.length,l=Array(r),c=0;c<r;c++)l[c]=arguments[c];return t=o=s(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),o.state={refresh:!1},a=t,s(o,a)}return l(n,t),p(n,[{key:"onClose",value:function(){O=[],this.props.refslinks=[],this.props.refslinks=[],h.Close()}},{key:"onSave",value:function(){var e=this;"unread"==this.props.type?this.props.unread.backlinks=this.props.backlinks:"annote"==this.props.type&&(this.props.annoate.backlinks=this.props.backlinks,this.props.unread.annotations.forEach(function(t){t.id==e.props.annoate.id&&(t.backlinks=e.props.annoate.backlinks)})),k.storage.UnRead("updates",this.props.refslinks.concat(this.props.unread),function(t){z("update",e.props.unread)})}},{key:"onAction",value:function(e,t,n,a){var r=this;if(t.startsWith("backlinks_")){if(t=t.replace("backlinks_",""),this.props.backlinks.findIndex(function(e){return e.id==(n.idx||n.id)})>-1)return void(new o).Render(2,"已添加过，请无重复添加。");if(n&&0==n.idx&&(n.idx="0"),this.props.backlinks.push({type:t,id:parseInt(n.idx||n.id)}),n&&0==n.idx&&(n.idx=0),void 0==n.backlinks&&(n.backlinks=[]),n.backlinks.push({type:this.props.type,id:this.props.annoate.id||this.props.unread.idx}),a){var i=a.annotations.findIndex(function(e){return e.id==n.id});a.annotations[i]=n}var s=this.props.refslinks.findIndex(function(e){n&&0==n.idx&&(n.idx="0");var t=n.idx||a.idx;return e.idx==t});s>-1?this.props.refslinks.splice(s,1,a||n):this.props.refslinks.push(a||n),this.setState({refresh:!0})}else"remove"==t&&($(e.currentTarget).hasClass("confrim")?!function(){var t=$(e.currentTarget).parent().parent();t.slideUp(function(){t.removeAttr("style").find(".icon.remove").removeClass("confrim");var e=r.props.backlinks.findIndex(function(e){return e.id==n});r.props.backlinks.splice(e,1);var o=r.props.refslinks.findIndex(function(e){return e.idx==a.idx}),i=r.props.refslinks[o];if(o>-1)if(a.idx==n){var s=i.backlinks.findIndex(function(e){return e.id==r.props.unread.idx});i.backlinks.splice(s,1)}else{var l=i.annotations.findIndex(function(e){return e.id==n}),c=i.annotations[l].backlinks.findIndex(function(e){return e.id==r.props.annoate.id});i.annotations[l].backlinks.splice(c,1)}r.setState({refresh:!0})})}():$(e.currentTarget).addClass("confrim"))}},{key:"render",value:function(){var t=this,n=this.props.backlinks.map(function(n){var o=void 0,a=void 0;if("unread"==n.type)o=N.findUnReadbyID(n.id,k.storage.unrdist);else{var r=N.findAnnotebyID(n.id,k.storage.unrdist);o=r.unread,a=r.annote}var i=t.props.refslinks.findIndex(function(e){return e.idx==o.idx});i>-1?t.props.refslinks.splice(i,1,o):t.props.refslinks.push(o);var s=new URL(o.url),l=void 0,c=void 0;return a&&(l=a.tags&&a.tags.map(function(t){return e.createElement("div",{"data-idx":o.idx,className:"tag md-waves-effect","data-value":t},"#"+t)}),"paragraph"==a.type?c=e.createElement("div",{className:"annote"},a.text):"img"==a.type?c=e.createElement("img",{src:a.text}):"code"==a.type&&(c=e.createElement("pre",null,a.text))),e.createElement("div",{className:"backlink","data-idx":o.idx},e.createElement("sr-tooltip",{class:"icon remove","data-balloon-pos":"left","aria-label":"删除"},e.createElement("span",{className:"md-waves-effect icon remove",onClick:function(e){return t.onAction(e,"remove","unread"==n.type?o.idx:a.id,o)}},e.createElement("i",{className:"fas fa-times"}))),e.createElement("div",{className:"info"},a&&e.createElement("sr-div",{class:"annotegp","sr-annote-bl-color":!0,"data-color-type":a.color,"data-id":a.id},c,l&&l.length>0&&e.createElement("div",{className:"tags child"},l),a.note&&e.createElement("div",{className:"note"},a.note)),e.createElement("div",{className:"title"},o.title),o.tags&&e.createElement("div",{className:"tags"},o.tags.map(function(t){return e.createElement("div",{"data-idx":o.idx,className:"tag md-waves-effect","data-value":t},"#"+t)})),o.desc&&e.createElement("div",{className:"desc"},o.desc),e.createElement("div",{className:"link"},e.createElement("a",{target:"_blank",href:o.url},s.hostname.replace("www.","")))),o.img&&e.createElement("div",{className:"img"},e.createElement("img",{src:o.img})))});return e.createElement(h.Dialog,null,e.createElement(h.Content,null,e.createElement("div",{className:"backlinks-gp"},e.createElement("div",{className:"backlinks","data-customscroll":"true"},n&&n.length>0?n:e.createElement("div",{className:"empty"},"请通过左侧搜索需要链接到此的 ",e.createElement("b",null,"稍后读")," 或 ",e.createElement("b",null,"标注"),"，点击 ",e.createElement("i",{className:"fas fa-plus"})," 添加至此。")),e.createElement(j,{onAction:function(e,n,o){return t.onAction(void 0,e,n,o)}}))),e.createElement(h.Footer,null,e.createElement("div",{style:{width:"100%"}}),e.createElement(g.default,{text:"保 存",waves:"md-waves-effect",onClick:function(){return t.onSave()}}),e.createElement(g.default,{text:"退 出",waves:"md-waves-effect",onClick:function(){return t.onClose()}})))}}]),n}(e.Component);R.defaultProps={backlinks:[],refslinks:[]};var I=function(t){function n(){return i(this,n),s(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return l(n,t),p(n,[{key:"render",value:function(){var t=this,n=this.props.backlinks,o=this.props.type,a=n&&n.map(function(n){var a=void 0,r=void 0,i=void 0,s=void 0;if("unread"==n.type)a=N.findUnReadbyID(n.id,k.storage.unrdist);else{var l=N.findAnnotebyID(n.id,k.storage.unrdist);a=l.unread,r=l.annote}return r&&(i=r.tags&&r.tags.map(function(n){return e.createElement("div",{"data-idx":a.idx,className:"annote-tag md-waves-effect","data-value":n,onClick:function(){return t.props.onAction("search_tag",n)}},"#"+n)}),"paragraph"==r.type?s=e.createElement("div",{className:"annote",dangerouslySetInnerHTML:{__html:"<div>"+r.html.replace(/<li>/gi,"<ul><li>").replace(/<\/li>/gi,"</li></ul>")+"</div>"}}):"img"==r.type?s=e.createElement("img",{src:r.text}):"code"==r.type&&(s=e.createElement("pre",null,r.text))),e.createElement("div",{className:"backlink-field","data-idx":a.idx,"data-border":"unread"==o||"annote"==o&&void 0==r?"show":"hidden"},r&&e.createElement("sr-div",{class:"annotegp","sr-annote-bl-color":!0,"data-color-type":r.color,"data-id":r.id},s,i&&i.length>0&&e.createElement("div",{className:"annote-tags child"},i),r.note&&e.createElement("div",{className:"note"},r.note),"annote"==o&&e.createElement("div",{className:"link"},e.createElement("a",{target:"_blank",href:a.url},a.title),e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"查看引用来源",class:"refslinks"},e.createElement("span",{className:"md-waves-effect icon refslinks",onClick:function(){return t.props.onAction("open_backlink",a)}},e.createElement("i",{className:"fas fa-external-link-square-alt"}))))),"unread"==o&&a.desc&&e.createElement("div",{className:"desc"},a.desc),"annote"==o&&void 0==r&&e.createElement("div",{className:"backlink-title"},e.createElement("div",{className:"link"},e.createElement("a",{target:"_blank",href:a.url},a.title),e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"查看引用来源",class:"refslinks"},e.createElement("span",{className:"md-waves-effect icon refslinks",onClick:function(){return t.props.onAction("open_backlink",a)}},e.createElement("i",{className:"fas fa-external-link-square-alt"}))))),("unread"==o||void 0==r)&&a.tags&&a.tags.length>0&&e.createElement("div",{className:"annote-tags"},a.tags.map(function(n){return e.createElement("div",{"data-idx":a.idx,className:"annote-tag md-waves-effect","data-value":n,onClick:function(){return t.props.onAction("search_tag",n)}},"#"+n)})),"unread"==o&&e.createElement("div",{className:"backlink-title"},e.createElement("div",{className:"link"},e.createElement("a",{target:"_blank",href:a.url},a.title),e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"查看引用来源",class:"refslinks"},e.createElement("span",{className:"md-waves-effect icon refslinks",onClick:function(){return t.props.onAction("open_backlink",a)}},e.createElement("i",{className:"fas fa-external-link-square-alt"}))))))});return e.createElement("div",{className:"backlink-fields"},a)}}]),n}(e.Component),P=function(t){function n(){return i(this,n),s(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return l(n,t),p(n,[{key:"onClose",value:function(){h.Close()}},{key:"onHelp",value:function(){w.browser.runtime.sendMessage(E.Add(E.MESSAGE_ACTION.new_tab,{url:"http://ksria.com/simpread/docs/#/双向链接?id=图谱"}))}},{key:"componentDidMount",value:function(){var e=this,t=new vis.DataSet(this.props.nodes),n=new vis.DataSet(this.props.edges),o={nodes:t,edges:n},a={interaction:{hover:!0,hoverConnectedEdges:!0},physics:{stabilization:!1,wind:{x:0,y:0}},layout:{randomSeed:3},edges:{hoverWidth:.5,width:.5,smooth:{forceDirection:"none"},color:{inherit:!1,color:"#878787",hover:"#3498DB",highlight:"#3498DB",opacity:.6}},nodes:{shape:"dot",size:3,borderWidth:1,borderWidthSelected:1,color:{border:"#A9A9A9",background:"#A9A9A9",highlight:{border:"#3498DB",background:"#3498DB"},hover:{border:"#3498DB",background:"#3498DB"}},font:{color:"#A9A9A9",size:12}}},r=new M.Network($("#simpread-backlinks-graph-view")[0],o,a);r.on("click",function(e){if(e.nodes.length>0){var t=e.nodes[0];if("string"==typeof t&&t.startsWith("#"))z("search_tag",t.replace("#",""));else{var n=N.findUnReadbyID(e.nodes[0],k.storage.unrdist);z("open_unread",n)}}}),r.on("hoverNode",function(n){n.node>0&&!function(){var o=n.node,a=[o];e.props.edges.forEach(function(e){e.to==o&&a.push(e.from),e.from==o&&a.push(e.to)}),e.props.nodes.forEach(function(e){if(a.includes(e.id)){var n=t.get(e.id);n.font={color:"#3498DB"},n.color={background:"#3498DB"},t.update(n)}else{var o=t.get(e.id);o.opacity=.2,o.font={color:"rgb(169 169 169 / 50%)"},t.update(o)}})}()}),r.on("blurNode",function(n){e.props.nodes.forEach(function(e){var n=t.get(e.id);n.opacity=1,n.font={color:"#A9A9A9"},n.color={background:"#A9A9A9"},t.update(n)})})}},{key:"render",value:function(){var t=this;return e.createElement(h.Dialog,null,e.createElement(h.Content,null,e.createElement("div",{id:"simpread-backlinks-graph-view"})),e.createElement(h.Footer,null,e.createElement("div",{style:{width:"100%"}}),e.createElement(g.default,{text:"帮 助",waves:"md-waves-effect",onClick:function(){return t.onHelp()}}),e.createElement(g.default,{text:"退 出",waves:"md-waves-effect",onClick:function(){return t.onClose()}})))}}]),n}(e.Component);t.Render=c,t.Embed=I,t.Graph=d}).call(t,n(2),n(7))},129:function(e,t,n){var o,o,a,r,i;(function(n,s){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n){"object"==l(t)&&"undefined"!=typeof e?e.exports=n():(r=[],a=n,i="function"==typeof a?a.apply(t,r):a,!(void 0!==i&&(e.exports=i)))}(function(){return function e(t,n,a){function r(s,l){if(!n[s]){if(!t[s]){var c="function"==typeof o&&o;if(!l&&c)return o(s,!0);if(i)return i(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var p=n[s]={exports:{}};t[s][0].call(p.exports,function(e){var n=t[s][1][e];return r(n?n:e)},p,p.exports,e,t,n,a)}return n[s].exports}for(var i="function"==typeof o&&o,s=0;s<a.length;s++)r(a[s]);return r}({1:[function(e,t,n){function o(e){var t=i[e];return t?t.lastIndex=0:i[e]=t=new RegExp(s+e+l,"g"),t}function a(e,t){var n=e.className;n.length?o(t).test(n)||(e.className+=" "+t):e.className=t}function r(e,t){e.className=e.className.replace(o(t)," ").trim()}var i={},s="(?:^|\\s)",l="(?:\\s|$)";t.exports={add:a,rm:r}},{}],2:[function(e,t,o){(function(n){function o(e,t){function n(e){return-1!==de.containers.indexOf(e)||ce.isContainer(e)}function o(e){var t=e?"remove":"add";a(E,t,"mousedown",A),a(E,t,"mouseup",j)}function s(e){var t=e?"remove":"add";a(E,t,"mousemove",_)}function g(e){var t=e?"remove":"add";k[t](E,"selectstart",C),k[t](E,"click",C)}function h(){o(!0),j({})}function C(e){se&&e.preventDefault()}function A(e){te=e.clientX,ne=e.clientY;var t=1!==r(e)||e.metaKey||e.ctrlKey;if(!t){var n=e.target,o=N(n);o&&(se=o,s(),"mousedown"===e.type&&(m(n)?n.focus():e.preventDefault()))}}function _(e){if(se){if(0===r(e))return void j({});if(void 0===e.clientX||e.clientX!==te||void 0===e.clientY||e.clientY!==ne){if(ce.ignoreInputTextSelection){var t=v("clientX",e),n=v("clientY",e),o=y.elementFromPoint(t,n);if(m(o))return}var a=se;s(!0),g(),z(),T(a);var l=i(Q);Z=v("pageX",e)-l.left,ee=v("pageY",e)-l.top,w.add(re||Q,"gu-transit"),G(),B(e)}}}function N(e){if(!(de.dragging&&K||n(e))){for(var t=e;f(e)&&n(f(e))===!1;){if(ce.invalid(e,t))return;if(e=f(e),!e)return}var o=f(e);if(o&&!ce.invalid(e,t)){var a=ce.moves(e,o,t,b(e));if(a)return{item:e,source:o}}}}function $(e){return!!N(e)}function S(e){var t=N(e);t&&T(t)}function T(e){X(e.item,e.source)&&(re=e.item.cloneNode(!0),de.emit("cloned",re,e.item,"copy")),J=e.source,Q=e.item,oe=ae=b(e.item),de.dragging=!0,de.emit("drag",Q,J)}function O(){return!1}function z(){if(de.dragging){var e=re||Q;R(e,f(e))}}function M(){se=!1,s(!0),g(!0)}function j(e){if(M(),de.dragging){var t=re||Q,n=v("clientX",e),o=v("clientY",e),a=l(K,n,o),r=U(a,n,o);r&&(re&&ce.copySortSource||!re||r!==J)?R(t,r):ce.removeOnSpill?I():P()}}function R(e,t){var n=f(e);re&&ce.copySortSource&&t===J&&n.removeChild(Q),L(t)?de.emit("cancel",e,J,J):de.emit("drop",e,t,J,ae),D()}function I(){if(de.dragging){var e=re||Q,t=f(e);t&&t.removeChild(e),de.emit(re?"cancel":"remove",e,t,J),D()}}function P(e){if(de.dragging){var t=arguments.length>0?e:ce.revertOnSpill,n=re||Q,o=f(n),a=L(o);a===!1&&t&&(re?o&&o.removeChild(re):J.insertBefore(n,oe)),a||t?de.emit("cancel",n,J,J):de.emit("drop",n,o,J,ae),D()}}function D(){var e=re||Q;M(),H(),e&&w.rm(e,"gu-transit"),ie&&clearTimeout(ie),de.dragging=!1,le&&de.emit("out",e,le,J),de.emit("dragend",e),J=Q=re=oe=ae=ie=le=null}function L(e,t){var n;return n=void 0!==t?t:K?ae:b(re||Q),e===J&&n===oe}function U(e,t,o){function a(){var a=n(r);if(a===!1)return!1;var i=Y(r,e),s=q(r,i,t,o),l=L(r,s);return!!l||ce.accepts(Q,r,J,s)}for(var r=e;r&&!a();)r=f(r);return r}function B(e){function t(e){de.emit(e,c,le,J)}function n(){u&&t("over")}function o(){le&&t("out")}if(K){e.preventDefault();var a=v("clientX",e),r=v("clientY",e),i=a-Z,s=r-ee;K.style.left=i+"px",K.style.top=s+"px";var c=re||Q,d=l(K,a,r),p=U(d,a,r),u=null!==p&&p!==le;(u||null===p)&&(o(),le=p,n());var m=f(c);if(p===J&&re&&!ce.copySortSource)return void(m&&m.removeChild(c));var g,h=Y(p,d);if(null!==h)g=q(p,h,a,r);else{if(ce.revertOnSpill!==!0||re)return void(re&&m&&m.removeChild(c));g=oe,p=J}(null===g&&u||g!==c&&g!==b(c))&&(ae=g,p.insertBefore(c,g),de.emit("shadow",c,p,J))}}function F(e){w.rm(e,"gu-hide")}function W(e){de.dragging&&w.add(e,"gu-hide")}function G(){if(!K){var e=Q.getBoundingClientRect();K=Q.cloneNode(!0),K.style.width=p(e)+"px",K.style.height=u(e)+"px",w.rm(K,"gu-transit"),w.add(K,"gu-mirror"),ce.mirrorContainer.appendChild(K),a(E,"add","mousemove",B),w.add(ce.mirrorContainer,"gu-unselectable"),de.emit("cloned",K,Q,"mirror")}}function H(){K&&(w.rm(ce.mirrorContainer,"gu-unselectable"),a(E,"remove","mousemove",B),f(K).removeChild(K),K=null)}function Y(e,t){for(var n=t;n!==e&&f(n)!==e;)n=f(n);return n===E?null:n}function q(e,t,n,o){function a(){var t,a,r,i=e.children.length;for(t=0;i>t;t++){if(a=e.children[t],r=a.getBoundingClientRect(),s&&r.left+r.width/2>n)return a;if(!s&&r.top+r.height/2>o)return a}return null}function r(){var e=t.getBoundingClientRect();return i(s?n>e.left+p(e)/2:o>e.top+u(e)/2)}function i(e){return e?b(t):t}var s="horizontal"===ce.direction,l=t!==e?r():a();return l}function X(e,t){return"boolean"==typeof ce.copy?ce.copy:ce.copy(e,t)}var V=arguments.length;1===V&&Array.isArray(e)===!1&&(t=e,e=[]);var K,J,Q,Z,ee,te,ne,oe,ae,re,ie,se,le=null,ce=t||{};void 0===ce.moves&&(ce.moves=d),void 0===ce.accepts&&(ce.accepts=d),void 0===ce.invalid&&(ce.invalid=O),void 0===ce.containers&&(ce.containers=e||[]),void 0===ce.isContainer&&(ce.isContainer=c),void 0===ce.copy&&(ce.copy=!1),void 0===ce.copySortSource&&(ce.copySortSource=!1),void 0===ce.revertOnSpill&&(ce.revertOnSpill=!1),void 0===ce.removeOnSpill&&(ce.removeOnSpill=!1),void 0===ce.direction&&(ce.direction="vertical"),void 0===ce.ignoreInputTextSelection&&(ce.ignoreInputTextSelection=!0),void 0===ce.mirrorContainer&&(ce.mirrorContainer=y.body);var de=x({containers:ce.containers,start:S,end:z,cancel:P,remove:I,destroy:h,canMove:$,dragging:!1});return ce.removeOnSpill===!0&&de.on("over",F).on("out",W),o(),de}function a(e,t,o,a){var r={mouseup:"touchend",mousedown:"touchstart",mousemove:"touchmove"},i={mouseup:"pointerup",mousedown:"pointerdown",mousemove:"pointermove"},s={mouseup:"MSPointerUp",mousedown:"MSPointerDown",mousemove:"MSPointerMove"};n.navigator.pointerEnabled?k[t](e,i[o],a):n.navigator.msPointerEnabled?k[t](e,s[o],a):(k[t](e,r[o],a),k[t](e,o,a))}function r(e){if(void 0!==e.touches)return e.touches.length;if(void 0!==e.which&&0!==e.which)return e.which;if(void 0!==e.buttons)return e.buttons;var t=e.button;return void 0!==t?1&t?1:2&t?3:4&t?2:0:void 0}function i(e){var t=e.getBoundingClientRect();return{left:t.left+s("scrollLeft","pageXOffset"),top:t.top+s("scrollTop","pageYOffset")}}function s(e,t){return"undefined"!=typeof n[t]?n[t]:E.clientHeight?E[e]:y.body[e]}function l(e,t,n){var o,a=e||{},r=a.className;return a.className+=" gu-hide",o=y.elementFromPoint(t,n),a.className=r,o}function c(){return!1}function d(){return!0}function p(e){return e.width||e.right-e.left}function u(e){return e.height||e.bottom-e.top}function f(e){return e.parentNode===y?null:e.parentNode}function m(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||"SELECT"===e.tagName||g(e)}function g(e){return!!e&&"false"!==e.contentEditable&&("true"===e.contentEditable||g(f(e)))}function b(e){function t(){var t=e;do t=t.nextSibling;while(t&&1!==t.nodeType);return t}return e.nextElementSibling||t()}function h(e){return e.targetTouches&&e.targetTouches.length?e.targetTouches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e}function v(e,t){var n=h(t),o={pageX:"clientX",pageY:"clientY"};return e in o&&!(e in n)&&o[e]in n&&(e=o[e]),n[e]}var x=e("contra/emitter"),k=e("crossvent"),w=e("./classes"),y=document,E=y.documentElement;t.exports=o}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./classes":1,"contra/emitter":5,crossvent:6}],3:[function(e,t,n){t.exports=function(e,t){return Array.prototype.slice.call(e,t)}},{}],4:[function(e,t,n){var o=e("ticky");t.exports=function(e,t,n){e&&o(function(){e.apply(n||null,t||[])})}},{ticky:9}],5:[function(e,t,n){var o=e("atoa"),a=e("./debounce");t.exports=function(e,t){var n=t||{},r={};return void 0===e&&(e={}),e.on=function(t,n){return r[t]?r[t].push(n):r[t]=[n],e},e.once=function(t,n){return n._once=!0,e.on(t,n),e},e.off=function(t,n){var o=arguments.length;if(1===o)delete r[t];else if(0===o)r={};else{var a=r[t];if(!a)return e;a.splice(a.indexOf(n),1)}return e},e.emit=function(){var t=o(arguments);return e.emitterSnapshot(t.shift()).apply(this,t)},e.emitterSnapshot=function(t){var i=(r[t]||[]).slice(0);return function(){var r=o(arguments),s=this||e;if("error"===t&&n.throws!==!1&&!i.length)throw 1===r.length?r[0]:r;return i.forEach(function(o){n.async?a(o,r,s):o.apply(s,r),o._once&&e.off(t,o)}),e}},e}},{"./debounce":4,atoa:3}],6:[function(e,t,o){(function(n){function o(e,t,n,o){return e.addEventListener(t,n,o)}function a(e,t,n){return e.attachEvent("on"+t,c(e,t,n))}function r(e,t,n,o){return e.removeEventListener(t,n,o)}function i(e,t,n){var o=d(e,t,n);return o?e.detachEvent("on"+t,o):void 0}function s(e,t,n){function o(){var e;return m.createEvent?(e=m.createEvent("Event"),e.initEvent(t,!0,!0)):m.createEventObject&&(e=m.createEventObject()),e}function a(){return new u(t,{detail:n})}var r=-1===f.indexOf(t)?a():o();e.dispatchEvent?e.dispatchEvent(r):e.fireEvent("on"+t,r)}function l(e,t,o){return function(t){var a=t||n.event;a.target=a.target||a.srcElement,a.preventDefault=a.preventDefault||function(){a.returnValue=!1},a.stopPropagation=a.stopPropagation||function(){a.cancelBubble=!0},a.which=a.which||a.keyCode,o.call(e,a)}}function c(e,t,n){var o=d(e,t,n)||l(e,t,n);return h.push({wrapper:o,element:e,type:t,fn:n}),o}function d(e,t,n){var o=p(e,t,n);if(o){var a=h[o].wrapper;return h.splice(o,1),a}}function p(e,t,n){var o,a;for(o=0;o<h.length;o++)if(a=h[o],a.element===e&&a.type===t&&a.fn===n)return o}var u=e("custom-event"),f=e("./eventmap"),m=n.document,g=o,b=r,h=[];n.addEventListener||(g=a,b=i),t.exports={add:g,remove:b,fabricate:s}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":7,"custom-event":8}],7:[function(e,t,o){(function(e){var n=[],o="",a=/^on/;for(o in e)a.test(o)&&n.push(o.slice(2));t.exports=n}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(e,t,o){(function(e){function n(){try{var e=new o("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}var o=e.CustomEvent;t.exports=n()?o:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,"undefined"!=typeof n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(e,t,n){var o,a="function"==typeof s;o=a?function(e){s(e)}:function(e){setTimeout(e,0)},t.exports=o},{}]},{},[2])(2)})}).call(t,function(){return this}(),n(148).setImmediate)},130:function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(t,n,o,a){!f.Popup(T)&&f.Open(e.createElement(O,{lock:t,annote:$.extend(!0,{},n),onAction:function(e){return o(e)},onClose:function(e){return a(e)}}),S),p.ListenESC(function(e){"esc"==e&&a(n.data),"esc"==e&&f.Close()})}Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(145);var d=n(41),p=a(d),u=n(30),f=a(u),m=n(10),g=o(m),b=n(32),h=o(b),v=n(14),x=o(v),k=n(31),w=o(k),y=n(81),E=o(y),C=n(64),A=a(C),_=n(52),N=a(_),S="simpread-annote-popup-root",T="."+S,O=function(t){function n(){var e,t,o,a;r(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return t=o=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),o.state={rich:!0,confirm:!1},o.fmtDate=function(e){var t=new Date(e),n=function(e){return e=e<10?"0"+e:e};return t.getFullYear()+"年"+n(t.getMonth()+1)+"月"+n(t.getDate())+"日 "+n(t.getHours())+":"+n(t.getMinutes())+":"+n(t.getSeconds())},a=t,i(o,a)}return s(n,t),c(n,[{key:"noteOnChange",value:function(){this.props.annote.data.note=event.target.value}},{key:"refsOnChange",value:function(){this.props.annote.data.refs=event.target.value}},{key:"tagOnChange",value:function(e){this.props.annote.data.tags=e}},{key:"onSwitchChange",value:function(e){this.setState({rich:e})}},{key:"onColorChange",value:function(e){$("sr-annote-popup sr-anote-fb-item[data-color-type="+this.props.annote.data.color+"]").empty(),
this.props.annote.data.color=e,$("sr-annote-popup sr-anote-fb-item[data-color-type="+this.props.annote.data.color+"]").html(this.props.checked_icon),$("sr-annote-popup sr-anote-item").attr("data-color-type",this.props.annote.data.color),$("sr-annote-popup sr-annote-popup-desc").attr("data-color-type",this.props.annote.data.color)}},{key:"onColorStyleChange",value:function(e){this.props.lock||($("sr-annote-popup sr-anote-item[data-color-style="+(this.props.annote.data.style||0)+"]").find("svg").remove(),this.props.annote.data.style=e,$("sr-annote-popup sr-anote-item[data-color-style="+this.props.annote.data.style+"]").append(this.props.checked_icon))}},{key:"textOnChange",value:function(e,t){this.props.annote.data[e]=t.target.value}},{key:"onSave",value:function(){this.props.onAction(this.props.annote.data)}},{key:"onClose",value:function(){f.Close()}},{key:"onRemoveClick",value:function(){this.state.confirm?(this.props.onAction("remove"),f.Close()):this.setState({confirm:!0})}},{key:"onExportClick",value:function(e,t){var n=t.replace("export_cur:",""),o="annote"==this.props.annote.mode?[this.props.annote.data]:this.props.annote.data.annotations;N.Action(n,this.props.annote.data.title||"",this.props.annote.data.desc||"",o,"annote")}},{key:"componentDidMount",value:function(){"note"==this.props.annote.focus&&$("sr-annote-popup textarea")[0].focus(),"tag"==this.props.annote.focus&&$("sr-annote-popup input")[0].focus(),"code"==this.props.annote.data.type&&hljs&&hljs.highlightBlock(this.refs.code),$("sr-annote-popup sr-anote-fb-item[data-color-type="+this.props.annote.data.color+"]").html(this.props.checked_icon),$("sr-annote-popup sr-anote-item[data-color-style="+(this.props.annote.data.style||0)+"]").append(this.props.checked_icon),$("sr-annote-popup-gp dropdown span").on("click",function(e){setTimeout(function(){return $("sr-annote-popup-gp dropdown list-view")[0].scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},200)})}},{key:"render",value:function(){var t=this,n=void 0;if("annote"==this.props.annote.mode){var o=void 0,a=this.props.annote.data.type;o="img"==a?e.createElement("sr-annote-popup-desc",{"sr-annote-bl-color":"true","data-color-type":this.props.annote.data.color},e.createElement("img",{src:this.props.annote.data.text})):"code"==a?e.createElement("sr-annote-popup-desc",{"sr-annote-bl-color":"true","data-color-type":this.props.annote.data.color},e.createElement("pre",{ref:"code","data-customscroll":!0,dangerouslySetInnerHTML:{__html:this.props.annote.data.text.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")}})):this.state.rich?e.createElement("sr-annote-popup-desc",{"sr-annote-bl-color":"true","data-color-type":this.props.annote.data.color,dangerouslySetInnerHTML:{__html:this.props.annote.data.html}}):e.createElement("sr-annote-popup-desc",{"sr-annote-bl-color":"true","data-color-type":this.props.annote.data.color},this.props.annote.data.text),n=e.createElement("sr-annote-popup-mode",null,e.createElement("sr-annote-popup-gp",{type:a},e.createElement("sr-annote-popup-div",null,this.fmtDate(this.props.annote.data.id)),o,"paragraph"==a&&e.createElement(h.default,{width:"100%",waves:"md-waves-effect",checked:this.state.rich,thumbedColor:"#1976D2",trackedColor:"#2196F3",label:"默认使用富文本方式预览，选否后改为纯文本方式预览。",onChange:function(e){return t.onSwitchChange(e)}})),e.createElement("sr-annote-popup-gp",null,e.createElement("sr-annote-popup-label",null,"颜色"),e.createElement("sr-annote-floatingbar",null,e.createElement("sr-anote-fb-item",{class:"md-waves-effect","sr-annote-bg-color":!0,"data-color-type":"1",onClick:function(){return t.onColorChange(1)}}),e.createElement("sr-anote-fb-item",{class:"md-waves-effect","sr-annote-bg-color":!0,"data-color-type":"2",onClick:function(){return t.onColorChange(2)}}),e.createElement("sr-anote-fb-item",{class:"md-waves-effect","sr-annote-bg-color":!0,"data-color-type":"3",onClick:function(){return t.onColorChange(3)}}),e.createElement("sr-anote-fb-item",{class:"md-waves-effect","sr-annote-bg-color":!0,"data-color-type":"4",onClick:function(){return t.onColorChange(4)}}),e.createElement("sr-anote-fb-item",{class:"md-waves-effect","sr-annote-bg-color":!0,"data-color-type":"5",onClick:function(){return t.onColorChange(5)}}))),"paragraph"==a&&e.createElement("sr-annote-popup-gp",null,this.props.lock&&e.createElement("sr-anote-lock",{dangerouslySetInnerHTML:{__html:this.props.lock_icon},onClick:function(){return t.props.onAction("lock")}}),e.createElement("sr-annote-popup-label",null,"样式"),e.createElement("sr-annote-floatingbar",null,e.createElement("sr-anote-item",{class:"md-waves-effect","data-color-style":"0","data-color-type":this.props.annote.data.color,"sr-annote-bg-color":!0,onClick:function(){return t.onColorStyleChange(0)}}),e.createElement("sr-anote-item",{class:"md-waves-effect","data-color-style":"1","data-color-type":this.props.annote.data.color,onClick:function(){return t.onColorStyleChange(1)}}),e.createElement("sr-anote-item",{class:"md-waves-effect","data-color-style":"2","data-color-type":this.props.annote.data.color,onClick:function(){return t.onColorStyleChange(2)}}),e.createElement("sr-anote-item",{class:"md-waves-effect","data-color-style":"3","data-color-type":this.props.annote.data.color,onClick:function(){return t.onColorStyleChange(3)}}),e.createElement("sr-anote-item",{class:"md-waves-effect hidden"},"下划线"))))}else n=e.createElement("sr-annote-popup-mode",null,e.createElement("sr-annote-popup-gp",null,e.createElement("sr-annote-popup-div",null,this.props.annote.data.create)),e.createElement("sr-annote-popup-gp",null,e.createElement(x.default,{floatingtext:"标题",value:this.props.annote.data.title,onChange:function(e){return t.textOnChange("title",e)}})),e.createElement("sr-annote-popup-gp",null,e.createElement(x.default,{floatingtext:"描述",multi:!0,rows:5,value:this.props.annote.data.desc,onChange:function(e){return t.textOnChange("desc",e)}})));return e.createElement(f.Dialog,null,e.createElement(f.Content,null,e.createElement("sr-annote-popup",{"data-customscroll":!0},n,e.createElement("sr-annote-popup-gp",null,e.createElement("sr-annote-popup-label",null,"标签"),e.createElement(E.default,{tags:this.props.annote.data.tags||[],placeholder:"请输入你需要加入的标签，回车后生效。",items:this.props.annote.alltags,onChange:function(e){return t.tagOnChange(e)}})),e.createElement("sr-annote-popup-gp",null,e.createElement("sr-annote-popup-label",null,"备注"),e.createElement(x.default,{multi:!0,rows:3,placeholder:"想对这条信息说点什么？",value:this.props.annote.data.note,onChange:function(e){return t.noteOnChange(e)}})),e.createElement("sr-annote-popup-gp",null,e.createElement("sr-annote-popup-label",null,"外部引用"),e.createElement(x.default,{multi:!0,rows:3,placeholder:"当前稍后读或标注的外部引用，每行一个 URL 地址",value:this.props.annote.data.refs,onChange:function(e){return t.refsOnChange(e)}})),e.createElement("sr-annote-popup-gp",null,this.props.lock&&e.createElement("sr-anote-lock",{dangerouslySetInnerHTML:{__html:this.props.lock_icon},onClick:function(){return t.props.onAction("lock")}}),e.createElement("sr-annote-popup-label",null,"导出"),e.createElement(w.default,{name:"导出当前标注",width:"100%",items:A.getAllService(),onChange:function(e,n){return t.onExportClick(n,"export_cur:"+e)}})))),e.createElement(f.Footer,null,e.createElement(g.default,{text:this.state.confirm?"确 认":"删 除",waves:"md-waves-effect",color:"#fff",backgroundColor:"#F44336",onClick:function(){return t.onRemoveClick()}}),e.createElement("div",{style:{width:"100%"}}),e.createElement(g.default,{text:"保 存",waves:"md-waves-effect",onClick:function(){return t.onSave()}}),e.createElement(g.default,{text:"退 出",waves:"md-waves-effect",onClick:function(){return t.onClose()}})))}}]),n}(e.Component);O.defaultProps={checked_icon:'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M384 689.92L206.08 512l-60.373333 60.373333L384 810.666667l512-512-60.373333-60.373334z" fill="#4F4F4D"></path></svg>',lock_icon:'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M284.444672 455.110656v-113.77664c0-125.67552 101.879808-227.556352 227.555328-227.556352s227.555328 101.879808 227.555328 227.555328v113.777664h71.11168c23.564288 0 42.665984 19.10272 42.665984 42.667008v369.777664c0 23.564288-19.101696 42.667008-42.665984 42.667008H213.332992c-23.564288 0-42.665984-19.10272-42.665984-42.667008v-369.77664c0-23.565312 19.101696-42.668032 42.665984-42.668032h71.11168z m85.332992 0H654.22336v-113.77664c0-78.547968-63.675392-142.22336-142.222336-142.22336-78.546944 0-142.222336 63.675392-142.222336 142.22336v113.77664z" fill="#f55246"></path></svg>',annote:void 0,onAction:void 0},O.propTypes={id:e.PropTypes.object,onAction:e.PropTypes.func},t.Render=l}).call(t,n(2))},132:function(e,t,n){(function(e,o,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(t,n,o){$(t).append("<sharecard-bg></sharecard-bg>"),a.render(e.createElement(v,{title:n,content:o.replace(/\n/gi,"<br>")}),$("sharecard-bg")[0])}Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(28),f=i(u),m=n(9),g=i(m),b=n(10),h=r(b),v=function(t){function n(){return s(this,n),l(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return c(n,t),p(n,[{key:"download",value:function(){var e=this;f.PNG($("sharecard-card")[0],"simpread-"+this.props.title+".png",function(t){!t&&(new o).Render(2,"下载失败，请稍后再试！"),t&&e.exit()})}},{key:"exit",value:function(){a.unmountComponentAtNode($("sharecard-bg")[0])}},{key:"componentWillUnmount",value:function(){$("sharecard-bg").remove()}},{key:"render",value:function(){var t=this;return e.createElement("sharecard",null,e.createElement("sharecard-head",null,e.createElement("sharecard-card",null,e.createElement("sharecard-top",null,e.createElement("span",{className:"logos"}),"简 悦"),e.createElement("sharecard-content",{dangerouslySetInnerHTML:{__html:this.props.content}}),e.createElement("sharecard-via",null,"摘自 《",this.props.title,"》"),e.createElement("sharecard-footer",null,e.createElement("div",null,e.createElement("span",{className:"qrcode"}),e.createElement("span",{style:{display:"none"},dangerouslySetInnerHTML:{__html:"长按扫码<br>获取简悦"}})),e.createElement("div",null,"还原阅读本质 · 提升阅读体验")))),e.createElement("sharecard-control",null,e.createElement(h.default,{type:"flat",text:"保 存",width:"100%",color:"#fff",backgroundColor:"#2196F3",icon:g.IconPath("save_icon"),waves:"md-waves-effect md-waves-button",onClick:function(){return t.download()}}),e.createElement(h.default,{type:"flat",text:"关 闭",width:"100%",fontIcon:'<i class="fas fa-window-close"></i>',color:"#fff",backgroundColor:"#2196F3",waves:"md-waves-effect md-waves-button",onClick:function(){return t.exit()}})))}}]),n}(e.Component);t.Render=d}).call(t,n(2),n(7),n(13))},136:function(e,t,n){t=e.exports=n(5)(),t.i(n(85),""),t.push([e.id,"[customscroll],[data-customscroll]{overflow-y:hidden}[customscroll]:hover,[data-customscroll]:hover{overflow-y:overlay}[customscroll]::-webkit-scrollbar-track,[data-customscroll]::-webkit-scrollbar-track{background-color:transparent}[customscroll]::-webkit-scrollbar,[data-customscroll]::-webkit-scrollbar{width:12px}[customscroll]::-webkit-scrollbar-thumb,[data-customscroll]::-webkit-scrollbar-thumb{background-clip:padding-box;padding-top:80px;background-color:#ddd;border:3px solid transparent;border-radius:8px}sr-annote-popup{display:block;padding-right:20px;width:480px;height:100%}sr-annote-popup-gp{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-bottom:25px}sr-annote-popup-div{width:100%;color:var(--text-color);text-align:left;font-weight:400}sr-annote-popup-label{color:rgba(0,137,123,.8);font-size:14px;font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:all .45s cubic-bezier(.23,1,.32,1) 0ms;transition:all .45s cubic-bezier(.23,1,.32,1) 0ms;-webkit-transform:scale(.75) translateY(-8px);transform:scale(.75) translateY(-8px);-webkit-transform-origin:left top 0;transform-origin:left top 0}sr-annote-popup-desc{position:relative;margin:10px 0;padding:10px;background-color:var(--background-hover-color);font-size:15px;text-align:justify;font-weight:400;line-height:1.6;border-radius:4px}sr-annote-popup-desc sr-annote{background-color:transparent!important}sr-annote-popup-gp[type=img]{-webkit-box-align:center;-ms-flex-align:center;align-items:center}sr-annote-popup-gp svg path{fill:var(--active-color)!important}sr-annote-popup-gp ol,sr-annote-popup-gp ul{margin:0 0 1.2em;margin-left:1.3em;padding:0;list-style:disc}sr-annote-popup-gp ol li,sr-annote-popup-gp ul li{margin:0 0 1.2em;font-size:15px;list-style:disc}sr-annote-popup-gp a{padding:0 5px;vertical-align:baseline;vertical-align:initial}sr-annote-popup-gp a,sr-annote-popup-gp a:link{color:#463f5c;font-size:inherit;font-weight:inherit;text-decoration:underline;border:none}sr-annote-popup-gp a:hover{background:transparent}sr-annote-popup-gp img{margin:0;padding:0;max-width:50%;height:auto;background:#fff;border:0;border-radius:6px;box-shadow:0 20px 20px -10px rgba(0,0,0,.1)}sr-annote-popup-gp pre{padding:10px!important;background-color:transparent!important;max-height:400px;white-space:pre-line;word-break:break-all;border-radius:6px!important;overflow-x:hidden!important}sr-annote-popup auto-complete list-view{max-height:150px!important}sr-annote-popup list-view::-webkit-scrollbar-thumb{background-clip:padding-box;border-radius:10px;border:2px solid transparent;background-color:rgba(85,85,85,.55)}sr-annote-popup list-view::-webkit-scrollbar{width:10px;-webkit-transition:width .7s cubic-bezier(.4,0,.2,1);transition:width .7s cubic-bezier(.4,0,.2,1)}sr-annote-popup-gp sr-annote-floatingbar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}sr-annote-popup-gp sr-annote-floatingbar sr-anote-fb-item[data-color-type]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:20px;width:65px;height:20px;border-radius:5px}sr-annote-popup-gp sr-annote-floatingbar sr-anote-fb-item:last-child{margin-right:0}sr-annote-popup-gp sr-anote-item{display:-webkit-box!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:20px;padding:0 5px;width:65px;height:20px;font-size:13px;font-weight:400;border-radius:5px;-webkit-transition:all .5s ease-in-out 0ms;transition:all .5s ease-in-out 0ms}sr-annote-popup-gp sr-anote-item:last-child{margin-right:0}sr-annote-popup-gp sr-anote-item.hidden{opacity:0;pointer-events:none}sr-annote-popup-gp sr-anote-lock{position:absolute;left:0;top:-3px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:100%;background-color:hsla(0,0%,100%,.8);z-index:1}sr-annote-popup-gp sr-anote-lock svg{margin-top:3px;cursor:pointer}",""])},137:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,'.gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80)}.gu-hide{display:none!important}.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.gu-transit{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}',""])},144:function(e,t,n){(function(e,t){!function(e,n){"use strict";function o(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return g[m]=o,f(m),m++}function a(e){delete g[e]}function r(e){var t=e.callback,o=e.args;switch(o.length){case 0:t();break;case 1:t(o[0]);break;case 2:t(o[0],o[1]);break;case 3:t(o[0],o[1],o[2]);break;default:t.apply(n,o)}}function i(e){if(b)setTimeout(i,0,e);else{var t=g[e];if(t){b=!0;try{r(t)}finally{a(e),b=!1}}}}function s(){f=function(e){t.nextTick(function(){i(e)})}}function l(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function c(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),f=function(n){e.postMessage(t+n,"*")}}function d(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;i(t)},f=function(t){e.port2.postMessage(t)}}function p(){var e=h.documentElement;f=function(t){var n=h.createElement("script");n.onreadystatechange=function(){i(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function u(){f=function(e){setTimeout(i,0,e)}}if(!e.setImmediate){var f,m=1,g={},b=!1,h=e.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(e);v=v&&v.setTimeout?v:e,"[object process]"==={}.toString.call(e.process)?s():l()?c():e.MessageChannel?d():h&&"onreadystatechange"in h.createElement("script")?p():u(),v.setImmediate=o,v.clearImmediate=a}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(t,function(){return this}(),n(126))},145:function(e,t,n){var o=n(136);"string"==typeof o&&(o=[[e.id,o,""]]),n(8)(o,{}),o.locals&&(e.exports=o.locals)},146:function(e,t,n){var o=n(137);"string"==typeof o&&(o=[[e.id,o,""]]),n(8)(o,{}),o.locals&&(e.exports=o.locals)},148:function(e,t,n){function o(e,t){this._id=e,this._clearFn=t}var a=Function.prototype.apply;t.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(144),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},149:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAaCAMAAAB//6mtAAAAPFBMVEVHcEz/6zv/6zv/6zv/6zv/6zv/6zv/6zv/6zv/6zv/6zv/6zv/6zv/6zv/6zv/6zv/6zv/6zv/6zv/6zsmGdgxAAAAE3RSTlMAJJGnQ3Bh/ANS6An0u9o1FMp/ufrp4AAAAgZJREFUSMe1Vou2oyAM5BEIbxD+/183gFq99bZ7dnVOe6oWZwgJGRj7DcaY+et5BqtVFcA4eLraoLUFgJJLHzvBvuM00nPIzA4qazXkDuKka0VPIHNeiuee/RXO+qaAFjGFlpQQMi7JORcQ24Z+hRhcWpYYo5SikiQpkuBnldLXQwm5hANT53pxz9v1eZIdpEFCsmpLgXF+tVKGg640ZZrmDxacaNcIzqVE3EIoC7yYnjHuLxQ45cvquDP/RvgRiG4R2uYewlXKvXbo2r8x71NyFI4EZmZaj2vEShFJpnYHQopSAT/lgHEhZY2L+1/yVzAooJyyoEGEgLeEMFWC4K9NwHiVuFXlPSLNWbZ2g/61IuKN9AMyrwEUK5a7yQlLnUnwyr1v1luKCZsaq69kwwcCaC3ZWUZZPsFOkxaUA2pt8pHZE6KyhmnXbi3O1/xDSLkXqM8QH1FYwI+26nV1TwTQljy3ma8inSLYWiN+bp74ZX16hc4mnWkb7P0Jv9FejEB8+wsXlTfvLGIbthVvFN3jAbR0l34WUodzw6avJtIp1M6vya61EuTB1EqT3JW5jYfXiWw6Y626eOP7p5Th4FbrfqiZR4PxBjq5rv/BD8jplR12bcYBw44k4KCVtR9Q/Kszni/2W+MLh66n4WjLwz0LX5vqtDnqH4nitD8M/P10ZQ44q634A66hf2zVV84fAAAAAElFTkSuQmCC"},150:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAaCAMAAAB//6mtAAAANlBMVEVHcEyA3uqA3uqA3uqA3uqA3uqA3uqA3uqA3uqA3uqA3uqA3uqA3uqA3uqA3uqA3uqA3uqA3urNaunbAAAAEXRSTlMAe+8uaFLb/AQCG0ANkralydBaCTIAAAIBSURBVEjHtVaJduMwCJRA6ED3///sIstn6qbd13hy+NlxRjBYDEp9h+B9WI6JMRIZnSnEyKQPGKKIjOwnwoD6CXLPuHmeeI5RkREi+dKEEeMKuRKFnJPAq98gvKyf0ORiXbc619KaBXDy7r2Pzwq5Ym0TlFqz5BMROb1fxi96CGeDlcPNz855wji1NddaSpOFcl5kMxHvFvEoKtdi4WDbONbjLdxMokgKelWMGZP/olpgGrKWGfA7yrdw0EQpRMlh1Py1CMnYDv/P7MZri8lJQiXTRnnmV4lzG2X9C9bMQVTTkf2FH6voWJvtf8Whb76Um41GDeD6J+BG9Ttk3B8irziXz5AftbFmrcI4JMrNfXqFGnd5su2fZR8omnhJQMOlNp+Ekaap0NT+CHu3cT5GWPsT/M6Np0haW30ketlu1VBQBvpD+gAAygZWjFgeWaFQSmMbJKPhiQL0FtWyzbzO9ss+d66/dQHnfrAJ+U0rv1qNdOn93ndi3dI692Jy86o1cWt0Sb/0QCh5uHw0ptp+xyktfwXAfRitac17l1hQYbbAYpBng+JYzxHZ4SQ1C0zyczwIw8GJ5siRx2ywNWNopPzJymaps4ljJghjIvKKlr0nBlXEcLXYLX8/nYR9lBJDphEvnWaZZQwKjNvZDE6hUFfCqyvNAevis/7A+s+rFf8Do0ByAiavdJkAAAAASUVORK5CYII="},151:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAaCAMAAAB//6mtAAAANlBMVEVHcEyF0faF0faF0faF0faF0faF0faF0faF0faF0faF0faF0faF0faF0faF0faF0faF0faF0fYOABKzAAAAEXRSTlMA3e8uaFJ7/AQCGz8Nt5KlzvXM15AAAAIFSURBVEjHtVaNesIgDARCCA0/gfd/2YXSWuvUbd/sfWqlpQdcIBdjXmGJcVmvmSEh+lBxSYkxHPCICRg4TiwD5idon9F5NiKnZNArkf4EhARpg95JSs5ZEc1vsDyMn8HXYqnbUKWUZp0j/fTex3eD3rG2tVaKSNX1JADO74eJqx7K2dzGQSdKbR8YTStVxgSabbWusvkEzwaJoCpLsY4mHU2unbK/AI1FjCUUCZtizJDjN9UWxiFrIdon2f8E2jUrqhSArmHE/HHXZG+7+yPzvW5zCGtLxT2u9/wmc20jrP/CDJnKVkLieOIHERlR6P8FTZ31Xz2Fm32A4Bz1T2AopnpXuG2iaLiWz5Afalm/RWFcMtZGnx5B0k2e2vqH6RUlIK8LCG6Pzcfhdfsb8NIvYe8W5zYC6VfwE41dpKlNLpm9HjfxuBjv+kX6OOdAD7BhgHLJCAVzHscg++CuCEBvyazHLIZqnyTH/tYFiH6wCX0WTNysRrP0re87sZ7SEj2Y3ETzaU90ORw5cAan1OHyyXux/RmnpvwNzj2fRmsh8C1LrJB1M6kj+cQzQTHKQUxKpjleqsLnOMuDZTg44iw5qtYGWhrMN1xDE+/qiRnqqtx5q4iiwfXskZt+q3bLr6uTm3ENQ8YxX7yrZdYyaGHYW3NyJim1IJxdaRZYp2InHtjePFvxF2YVcjg/uCn9AAAAAElFTkSuQmCC"},152:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAaCAMAAAB//6mtAAAAMFBMVEWM2EJHcEyM2EKM2EKM2EKM2EKM2EKM2EKM2EKM2EKM2EKM2EKM2EKM2EKM2EKM2EKKz/w5AAAAEHRSTlP/AANRaHvzGy3WqT4Nk77kx+qVTgAAAb9JREFUSMe1VtlyxDAIwwYDvv//b4udY5Nus9NOE71kJocA4SDAXcEb5rWIZiQKFX3OguEFQswqKv6FNxr4iXd/0UvOzsgRRwTUrHmF3clGLsXg3QfAifjwoCjV1hl6qCm12HkAvoF7jzG21lKqVk9WlfK5gkUP42wb2RvpGTHVkYBl0GqdslHW8kMAr0jBMj3y8W9CjCJmCWFVTFTLQQvYxMaB9Lu0r6NxW5Qq+xmBozzUocM/YQWliltfj012RWpsEe4Ax2aSiT/2wKk1y7rQ4T5Uk+pVgVDQwHwbO3fgqnuTvZPa4FbYP0R+CTC0Knh3AEPKawVCNcL9aAFlBPCB4SkQmPpK6SH6jmVKpE8FGKfIRttT9JwIPdBj+jN3dR6cTb8GT0RpOLwIXKHQH6kgZjeHnQ/v/wDf8R8Htww7rxT/wMhXN88PIuWyGk4J3w9vqsPlM1GKVyN/Qe98Na1DkNXRhCbSTILtZC1j3MYHpuMnnc3dzYBrpc0R/XDw6YRjqalzNdheR+d3y5yvW6urcZd9I8I9meG3ZrdyvZ3sT4pYxJEv7rsMrItQ0X17WT7Jw5VQT7Tvy5U/4RRsxRfv9RDt9/UjOgAAAABJRU5ErkJggg=="},153:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAaCAMAAAB//6mtAAAAOVBMVEVHcEz/t9r/t9r/t9r/t9r/t9r/t9r/t9r/t9r/t9r/t9r/t9r/t9r/t9r/t9r/t9r/t9r/t9r/t9r20adnAAAAEnRSTlMAVQ062Hwb/ARpK/Olk7XoScQnLSnCAAAB6ElEQVRIx7VW2Y7DIAzkMBCDOf//Y9cQmiZt2q12m1EegoTGF/ZYiFdYGONHWV+kRBOL0NryzwQalEV76+1yh/gAu4uLLVoURMkG0EivvZ6QsnRyqxgfse48XqE0xgSuZRMpVcg5MFw7wIUMALXWRBRnPOoXK5wPLZmz5snh5nfj3KGfgSJR6h7UGEfipNZnRhZf0FCCcOTaKNs53AiCQ0hkypox6716rgUnmwspU2d6y/geIdQeApsQzxVfhEJo+S/Mu5SFnCFFeSvrkd9G6GX9JzpBgJpMsccQPBEZqtD+bWHLb9yVexEWjTdPL/HvRkJuIfp7Ewgb03fI77nKeGvY3lgyVvdtC6RnABYjtO+ydyQj7QgAw6E23wT2/Hikdgl7g6LmC21X8DvXXxGPNrrEe263hNzSPf/X5CeEPNqA53O6xEKSalRAoclXFIArPLvMRDgZju+e7UFyXl1oRixTanhKb3ffJeuU1rlHkVsfKG6DTpmHGZhTl1cWICRoZ5xdiAdYqM/dgGqM3abEAIVV/xLqOcZtoTtxgBwAEkUG3hRx6QrO68VYOSLvBnzJTRekeNAzLnVkbnVbMIQcvedYn7restzaD7aTxVotu79lv8uMPUj57bDOV82qRNIfaM+Wq+WXresHSSV3cD8ocu8AAAAASUVORK5CYII="},156:function(e,t,n){var o;!function(a,r,i){function s(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function l(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return g[e.which]?g[e.which]:b[e.which]?b[e.which]:String.fromCharCode(e.which).toLowerCase()}function c(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function d(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function p(e,t){var n,o,a,r=[];for(n=e,"+"===n?n=["+"]:(n=n.replace(/\+{2}/g,"+plus"),n=n.split("+")),a=0;a<n.length;++a)o=n[a],v[o]&&(o=v[o]),t&&"keypress"!=t&&h[o]&&(o=h[o],r.push("shift")),d(o)&&r.push(o);if(n=o,a=t,!a){if(!m){m={};for(var i in g)95<i&&112>i||g.hasOwnProperty(i)&&(m[g[i]]=i)}a=m[n]?"keydown":"keypress"}return"keypress"==a&&r.length&&(a="keydown"),{key:o,modifiers:r,action:a}}function u(e,t){return null!==e&&e!==r&&(e===t||u(e.parentNode,t))}function f(e){function t(e){e=e||{};var t,n=!1;for(t in b)e[t]?n=!0:b[t]=0;n||(x=!1)}function n(e,t,n,o,a,r){var i,s,l=[],c=n.type;if(!m._callbacks[e])return[];for("keyup"==c&&d(e)&&(t=[e]),i=0;i<m._callbacks[e].length;++i)if(s=m._callbacks[e][i],(o||!s.seq||b[s.seq]==s.level)&&c==s.action){var p;(p="keypress"==c&&!n.metaKey&&!n.ctrlKey)||(p=s.modifiers,p=t.sort().join(",")===p.sort().join(",")),p&&(p=o&&s.seq==o&&s.level==r,(!o&&s.combo==a||p)&&m._callbacks[e].splice(i,1),l.push(s))}return l}function o(e,t,n,o){m.stopCallback(t,t.target||t.srcElement,n,o)||!1!==e(t,n)||(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)}function a(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=l(e);t&&("keyup"==e.type&&h===t?h=!1:m.handleKey(t,c(e),e))}function i(e,n,a,r){function i(n){return function(){x=n,++b[e],clearTimeout(g),g=setTimeout(t,1e3)}}function s(n){o(a,n,e),"keyup"!==r&&(h=l(n)),setTimeout(t,10)}for(var c=b[e]=0;c<n.length;++c){var d=c+1===n.length?s:i(r||p(n[c+1]).action);u(n[c],d,r,e,c)}}function u(e,t,o,a,r){m._directMap[e+":"+o]=t,e=e.replace(/\s+/g," ");var s=e.split(" ");1<s.length?i(e,s,t,o):(o=p(e,o),m._callbacks[o.key]=m._callbacks[o.key]||[],n(o.key,o.modifiers,{type:o.action},a,e,r),m._callbacks[o.key][a?"unshift":"push"]({callback:t,modifiers:o.modifiers,action:o.action,seq:a,level:r,combo:e}))}var m=this;if(e=e||r,!(m instanceof f))return new f(e);m.target=e,m._callbacks={},m._directMap={};var g,b={},h=!1,v=!1,x=!1;m._handleKey=function(e,a,r){var i,s=n(e,a,r);a={};var l=0,c=!1;for(i=0;i<s.length;++i)s[i].seq&&(l=Math.max(l,s[i].level));for(i=0;i<s.length;++i)s[i].seq?s[i].level==l&&(c=!0,a[s[i].seq]=1,o(s[i].callback,r,s[i].combo,s[i].seq)):c||o(s[i].callback,r,s[i].combo);s="keypress"==r.type&&v,r.type!=x||d(e)||s||t(a),v=c&&"keydown"==r.type},m._bindMultiple=function(e,t,n){for(var o=0;o<e.length;++o)u(e[o],t,n)},s(e,"keypress",a),s(e,"keydown",a),s(e,"keyup",a)}if(a){var m,g={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},b={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},h={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},v={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"};for(i=1;20>i;++i)g[111+i]="f"+i;for(i=0;9>=i;++i)g[i+96]=i;f.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},f.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},f.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},f.prototype.reset=function(){return this._callbacks={},this._directMap={},this},f.prototype.stopCallback=function(e,t){return!(-1<(" "+t.className+" ").indexOf(" mousetrap ")||u(t,this.target))&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable)},f.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},f.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(g[t]=e[t]);m=null},f.init=function(){var e,t=f(r);for(e in t)"_"!==e.charAt(0)&&(f[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},f.init(),a.Mousetrap=f,"undefined"!=typeof e&&e.exports&&(e.exports=f),n(154)&&(o=function(){return f}.call(t,n,t,e),!(void 0!==o&&(e.exports=o)))}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},162:function(e,t,n){(function(e){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(t,n,o,a,r){!h.Popup(_)&&h.Open(e.createElement(N,{unreads:n,unread:o,annotations:a,type:r,title:t}),A),$(_).on("click",function(e){e.target.className==A&&h.Close()}),x.Render({root:_})}Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(31),p=a(d),u=n(14),f=a(u),m=n(10),g=a(m),b=n(30),h=o(b),v=n(17),x=o(v),k=n(4),w=n(64),y=o(w),E=n(52),C=o(E),A="simpread-annote-export-root",_="."+A,N=function(t){function n(){return r(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),c(n,[{key:"onClose",value:function(){h.Close()}},{key:"textOnChange",value:function(e){this.props.title=e.target.value}},{key:"onExportClick",value:function(e,t){var n=t.replace("export_cur:","");"unreads"==this.props.type?C.Action(n,this.props.title,"",this.props.unreads,"annote",!0):(k.storage.unread=$.extend(!0,{},this.props.unread),C.Action(n,this.props.title,this.props.unread.desc,this.props.annotations,"annote"))}},{key:"render",value:function(){var t=this,n=this.props.unread&&this.props.unread.tags&&this.props.unread.tags.map(function(n){return e.createElement("div",{"data-idx":t.props.unread.idx,"data-balloon-pos":"up","aria-label":"点击打开",className:"tag md-waves-effect"},"#"+n)}),o=this.props.annotations&&this.props.annotations.map(function(n){var o=n.tags&&n.tags.map(function(n){return e.createElement("div",{"data-idx":t.props.unread.idx,"data-balloon-pos":"up","aria-label":"点击打开",className:"tag md-waves-effect"},"#"+n)}),a=void 0;return"paragraph"==n.type?a=e.createElement("div",{className:"annote"},n.text):"img"==n.type?a=e.createElement("img",{src:n.text}):"code"==n.type&&(a=e.createElement("pre",null,n.text)),e.createElement("sr-div",{class:"annotegp",
"sr-annote-bl-color":!0,"data-color-type":n.color},a,o&&o.length>0&&e.createElement("div",{className:"tags child"},o),n.note&&e.createElement("div",{className:"note"},n.note))});return e.createElement(h.Dialog,null,e.createElement(h.Content,null,e.createElement("div",{className:"annotegp","data-customscroll":"true"},e.createElement("div",{className:"export cur"},e.createElement(p.default,{name:"导出当前标注",width:"100%",items:y.getAllService(),onChange:function(e,n){return t.onExportClick(n,"export_cur:"+e)}})),e.createElement("div",{className:"unread"},"unreads"==this.props.type&&e.createElement("div",{className:"file"},e.createElement(f.default,{floatingtext:"导出时的文件名",value:this.props.title,onChange:function(e){return t.textOnChange(e)}})),"unreads"==this.props.type&&e.createElement("div",{className:"lable"},"注意：此功能为实验性功能，建议使用导出到本地的方式。"),"unread"==this.props.type&&e.createElement("div",null,e.createElement("div",{className:"title"},e.createElement("a",{target:"_blank",href:this.props.unread.url},this.props.unread.title)),this.props.unread.desc&&e.createElement("div",{className:"desc"},this.props.unread.desc),n&&n.length>0&&e.createElement("div",{className:"tags"},n),this.props.unread.note&&e.createElement("div",{className:"note"},this.props.unread.note)),o&&o.length>0&&e.createElement("div",{className:"annotations"},o)))),e.createElement(h.Footer,null,e.createElement("div",{style:{width:"100%"}}),e.createElement(g.default,{text:"退 出",waves:"md-waves-effect",onClick:function(){return t.onClose()}})))}}]),n}(e.Component);t.Render=l}).call(t,n(2))},163:function(e,t,n){(function(e,o){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";h=a,$(k).length>0&&v!=n?$(k).remove():$(k).length>0&&v==n&&$(k).addClass("close").on("animationend",function(e){v="",$(k).remove()}),0==$(k).length?(v=n,$($(n)[0]).append('<div class="'+x+" "+r+'" data-customscroll="true"></div>'),o.render(e.createElement(w,{lock:u.auth.lock,unreads:t}),$(k)[0])):v==n&&o.render(e.createElement(w,{lock:u.auth.lock,unreads:t}),$(k)[0])}Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(4),u=n(21),f=n(36),m=a(f),g=n(65),b=a(g),h=void 0,v="",x="simpread-info-root",k="."+x,w=function(t){function n(){var e,t,o,a;i(this,n);for(var r=arguments.length,l=Array(r),c=0;c<r;c++)l[c]=arguments[c];return t=o=s(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),o.state={tags:o.getAlltags(),annotes:o.getAllAnnotes(),backlinks:o.getBacklinks(),refunreads:o.getRefUnreads(),mentionstags:o.getMentionsTags()},a=t,s(o,a)}return l(n,t),d(n,[{key:"getAlltags",value:function(){var e=[];return this.props.unreads.forEach(function(t){t.tags&&(e=e.concat(t.tags)),t.annotations&&t.annotations.forEach(function(t){return t.tags&&(e=e.concat(t.tags))})}),[].concat(r(new Set(e)))}},{key:"getAllAnnotes",value:function(){var e=0;return this.props.unreads.forEach(function(t){t.annotations&&(e+=t.annotations.length),t.annotations&&t.annotations.forEach(function(t){return t.annotations&&(e+=t.annotations)})}),e}},{key:"getBacklinks",value:function(){var e=[],t=new Set,n=new Set,o=[];this.props.unreads.forEach(function(t){t.backlinks&&(e=e.concat(t.backlinks)),t.annotations&&t.annotations.forEach(function(t){return t.backlinks&&(e=e.concat(t.backlinks))})}),e=[].concat(r(new Set(e))),e.forEach(function(e){"unread"==e.type?t.add(e.id):n.add(e.id)});var a=b.findUnReadbyIDs([].concat(r(t)),p.storage.unrdist),i=b.findAnnotebyIDs([].concat(r(n)),p.storage.unrdist);return a.forEach(function(e){var t=o.findIndex(function(t){return t.idx==e.idx});t==-1&&o.push(e)}),i.forEach(function(e){var t=o.findIndex(function(t){return t.idx==e.unread.idx});t==-1&&o.push(e.unread)}),o}},{key:"getRefUnreads",value:function(){var e=[];return this.props.unreads.forEach(function(t){t.tags&&(e=e.concat(t.tags)),t.annotations&&t.annotations.forEach(function(t){return t.tags&&(e=e.concat(t.tags))})}),e=[].concat(r(new Set(e))),b.findUnReadbyTags(e,p.storage.unrdist)}},{key:"getMentionsTags",value:function(){var e=[];return this.props.unreads.forEach(function(t){t.tags&&(e=e.concat(t.tags)),t.annotations&&t.annotations.forEach(function(t){return t.tags&&(e=e.concat(t.tags))})}),e=[].concat(r(new Set(e))),b.findMentionsTagsbyTags(e,p.storage.unrdist)}},{key:"onSlideClick",value:function(e,t){"title"==t?$(e.currentTarget).prev().click():($(e.currentTarget).parent().toggleClass("close").next().slideToggle(),$(e.currentTarget).find("i").toggleClass("close"))}},{key:"onLock",value:function(){m.Render(!0,u.auth.token,function(e){})}},{key:"render",value:function(){var t=this,n=this.state.tags.map(function(t){return e.createElement("div",{className:"info-tag","data-id":t,onClick:function(){return h("search_tag",t)}},"# "+t)}),o=this.state.backlinks.map(function(t){return e.createElement("div",{className:"backlink","data-id":t.idx,onClick:function(){return h("open_unread",t)}},t.title)}),a=this.state.refunreads.map(function(t){return e.createElement("div",{className:"refunreads","data-id":t.idx,onClick:function(){return h("open_unread",t)}},t.title)}),r=this.state.mentionstags.map(function(t){return e.createElement("div",{className:"info-tag","data-id":t,onClick:function(){return h("search_tag",t)}},"# "+t)});return e.createElement("div",{className:"simpread-info"},e.createElement("div",{className:"simpread-info-group"},e.createElement("div",{className:"titlegp"},e.createElement("span",{className:"icon",onClick:function(e){return t.onSlideClick(e)}},e.createElement("i",{className:"fas fa-caret-down"})),e.createElement("span",{className:"title",onClick:function(e){return t.onSlideClick(e,"title")}},"标注")),e.createElement("div",{className:"result",dangerouslySetInnerHTML:{__html:"共有 <b>"+this.state.annotes+"</b> 条标注"}})),e.createElement("div",{className:"simpread-info-group"},e.createElement("div",{className:"titlegp"},e.createElement("span",{className:"icon",onClick:function(e){return t.onSlideClick(e)}},e.createElement("i",{className:"fas fa-caret-down"})),e.createElement("span",{className:"title",onClick:function(e){return t.onSlideClick(e,"title")}},"全部标签")),e.createElement("div",{className:"result tags"},n)),e.createElement("div",{className:"simpread-info-group"},this.props.lock&&e.createElement("sr-unreader-lock",{dangerouslySetInnerHTML:{__html:this.props.lock_icon},onClick:function(){return t.onLock("lock")}}),e.createElement("div",{className:"titlegp"},e.createElement("span",{className:"icon",onClick:function(e){return t.onSlideClick(e)}},e.createElement("i",{className:"fas fa-caret-down"})),e.createElement("span",{className:"title",onClick:function(e){return t.onSlideClick(e,"title")}},"反向链接")),e.createElement("div",{className:"result backlinks"},o)),e.createElement("div",{className:"simpread-info-group"},e.createElement("div",{className:"titlegp"},e.createElement("span",{className:"icon",onClick:function(e){return t.onSlideClick(e)}},e.createElement("i",{className:"fas fa-caret-down"})),e.createElement("span",{className:"title",onClick:function(e){return t.onSlideClick(e,"title")}},"关联到此的标签")),e.createElement("div",{className:"result mentionstags"},r)),e.createElement("div",{className:"simpread-info-group"},this.props.lock&&e.createElement("sr-unreader-lock",{dangerouslySetInnerHTML:{__html:this.props.lock_icon},onClick:function(){return t.onLock("lock")}}),e.createElement("div",{className:"titlegp"},e.createElement("span",{className:"icon",onClick:function(e){return t.onSlideClick(e)}},e.createElement("i",{className:"fas fa-caret-down"})),e.createElement("span",{className:"title",onClick:function(e){return t.onSlideClick(e,"title")}},"与标签关联的稍后读")),e.createElement("div",{className:"result refunreads"},a)))}}]),n}(e.Component);w.defaultProps={lock:!1,lock_icon:'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M284.444672 455.110656v-113.77664c0-125.67552 101.879808-227.556352 227.555328-227.556352s227.555328 101.879808 227.555328 227.555328v113.777664h71.11168c23.564288 0 42.665984 19.10272 42.665984 42.667008v369.777664c0 23.564288-19.101696 42.667008-42.665984 42.667008H213.332992c-23.564288 0-42.665984-19.10272-42.665984-42.667008v-369.77664c0-23.565312 19.101696-42.668032 42.665984-42.668032h71.11168z m85.332992 0H654.22336v-113.77664c0-78.547968-63.675392-142.22336-142.222336-142.22336-78.546944 0-142.222336 63.675392-142.222336 142.22336v113.77664z" fill="#f55246"></path></svg>'},t.Render=c}).call(t,n(2),n(13))},164:function(e,t,n){(function(e){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(t){window.unreaders=t,!f.Popup(".simpread-mindmap-root")&&f.Open(e.createElement(k,null),"simpread-mindmap-root")}Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(10),p=a(d),u=n(30),f=o(u),m=n(3),g=n(28),b=o(g),h=n(51),v=o(h),x={},k=function(t){function n(){return r(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),c(n,[{key:"onDownload",value:function(){var e=1==window.unreaders.length?"简悦 · 思维导图 | "+window.unreaders[0].title:"简悦 · 思维导图",t=v.Mindmap(e,x);b.Download("data:text/plain;charset=utf-8,"+encodeURIComponent(t),"simpread-mindmap.html")}},{key:"onClose",value:function(){f.Close()}},{key:"componentDidMount",value:function(){$(window).on("message",function(e){return x=e.originalEvent.data.data})}},{key:"render",value:function(){var t=this;return e.createElement(f.Dialog,null,e.createElement(f.Content,null,e.createElement("div",{className:"mindmap"},e.createElement("iframe",{src:m.browser.runtime.getURL("unreader/mindmap.html"),width:"100%",height:"100%",frameborder:"0"}))),e.createElement(f.Footer,null,e.createElement(p.default,{text:"下 载",waves:"md-waves-effect",onClick:function(){return t.onDownload()}}),e.createElement(p.default,{text:"退 出",waves:"md-waves-effect",onClick:function(){return t.onClose()}})))}}]),n}(e.Component);t.Render=l}).call(t,n(2))},201:function(e,t,n){(function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(n,o){"object"==t(e)&&e.exports?(e.exports=o(),e.exports.default=e.exports):n.timeago=o()}("undefined"!=typeof window?window:void 0,function(){function e(e){return e instanceof Date?e:isNaN(e)?/^\d+$/.test(e)?new Date(t(e)):(e=(e||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(e)):new Date(t(e))}function t(e){return parseInt(e)}function n(e,n,o){n=f[n]?n:f[o]?o:"en";for(var a=0,r=e<0?1:0,i=e=Math.abs(e);e>=m[a]&&a<g;a++)e/=m[a];return e=t(e),a*=2,e>(0===a?9:1)&&(a+=1),f[n](e,a,i)[r].replace("%s",e)}function o(t,n){return((n=n?e(n):new Date)-e(t))/1e3}function a(e){for(var t=1,n=0,o=Math.abs(e);e>=m[n]&&n<g;n++)e/=m[n],t*=m[n];return o%=t,o=o?t-o:t,Math.ceil(o)}function r(e){return e.dataset.timeago?e.dataset.timeago:i(e,b)}function i(e,t){return e.getAttribute?e.getAttribute(t):e.attr?e.attr(t):void 0}function s(e,t){return e.setAttribute?e.setAttribute(h,t):e.attr?e.attr(h,t):void 0}function l(e){return i(e,h)}function c(e,t){this.nowDate=e,this.defaultLocale=t||"en"}function d(e,t){return new c(e,t)}var p="second_minute_hour_day_week_month_year".split("_"),u="秒_分钟_小时_天_周_月_年".split("_"),f={en:function(e,t){if(0===t)return["just now","right now"];var n=p[parseInt(t/2)];return e>1&&(n+="s"),[e+" "+n+" ago","in "+e+" "+n]},zh_CN:function(e,t){if(0===t)return["刚刚","片刻后"];var n=u[parseInt(t/2)];return[e+n+"前",e+n+"后"]}},m=[60,60,24,7,365/7/12,12],g=6,b="datetime",h="data-tid",v={};return c.prototype.doRender=function(e,t,r){var i,l=o(t,this.nowDate),c=this;e.innerHTML=n(l,r,this.defaultLocale),v[i=setTimeout(function(){c.doRender(e,t,r),delete v[i]},Math.min(1e3*a(l),2147483647))]=0,s(e,i)},c.prototype.format=function(e,t){return n(o(e,this.nowDate),t,this.defaultLocale)},c.prototype.render=function(e,t){void 0===e.length&&(e=[e]);for(var n=0,o=e.length;n<o;n++)this.doRender(e[n],r(e[n]),t)},c.prototype.setLocale=function(e){this.defaultLocale=e},d.register=function(e,t){f[e]=t},d.cancel=function(e){var t;if(e)(t=l(e))&&(clearTimeout(t),delete v[t]);else{for(t in v)clearTimeout(t);v={}}},d})}).call(t,n(155)(e))},255:function(e,t){"use strict";function n(e){$("head style").map(function(t,n){n.innerText.indexOf("--sr-unreader-theme")>-1&&(n.innerHTML=d[e])});var t=getComputedStyle(document.documentElement).getPropertyValue("--background-active-color");$('meta[name="theme-color"]').attr("content",t.trim())}function o(){var e=[];return Object.keys(d).forEach(function(t){var n=d[t],o=[],a=n.match(/--[\w-]+[\w: #]+/gi);a.forEach(function(e,t){e=e.split(":"),t<5&&2==e.length&&o.push(e[1].trim())}),e.push({id:t,name:p[t],colors:o})}),e}Object.defineProperty(t,"__esModule",{value:!0});var a="\n/**\n * UnReader: theme_default\n */\n:root {\n    --sr-unreader-theme: none;\n    --background-color: #F9F8F4;\n    --background-active-color: #E8E4D7; /*#DBD8C5*/\n    --background-hover-color: #F1EFE9;\n    --border-color: #E9E8E4;\n    --force-color: #ffffff;\n    --text-color: #4F4F4D;\n    --text-sec-color: #8f9193;\n    --box-shadow: 0 10px 20px 0 rgba(168, 182, 191, .6);\n\n    --active-color: #3498DB;\n    --confirm-color: #f44336;\n}",r="\n/**\n * UnReader: theme_immersed\n */\n:root {\n    --sr-unreader-theme: none;\n    --background-color: #F0F0F0;\n    --background-active-color: #E3E7EA;\n    --background-hover-color: #DDE7F9;\n    --border-color: #E3E7EA;\n    --force-color: #FDFDFD;\n    --text-color: #5B5D5D;\n    --text-sec-color: #8f9193;\n    --box-shadow: 0 10px 20px 0 rgba(168, 182, 191, .6);\n\n    --active-color: #779D98;\n    --confirm-color: #f44336;\n}",i="\n/**\n * UnReader: theme_light\n */\n:root {\n    --sr-unreader-theme: none;\n    --background-color: #E5E9EE;\n    --background-active-color: #D8DDE4;\n    --background-hover-color: #F0F4FA;\n    --border-color: #CDD1D8;\n    --force-color: #ffffff;\n    --text-color: #454648;\n    --text-sec-color: #8f9193;\n    --box-shadow: 0 10px 20px 0 rgba(168, 182, 191, .6);\n\n    --active-color: #3498DB;\n    --confirm-color: #f44336;\n}",s="\n/**\n * UnReader: theme_palenight\n */\n:root {\n    --sr-unreader-theme: none;\n    --background-color: #2B2D3E;\n    --background-active-color: #33364C;\n    --background-hover-color: #303345;\n    --border-color: #585858;\n    --force-color: #2B2D3E;\n    --text-color: #C3C7D1;\n    --text-sec-color: #a39b8e;\n    --box-shadow: 0 8px 10px 0 rgba(0, 0, 0, .14);\n\n    --active-color: #6D5DC1;\n    --confirm-color: #f44336;\n}",l="\n/**\n * UnReader: theme_night\n */\n:root {\n    --sr-unreader-theme: none;\n    --background-color: #23252B;\n    --background-active-color: #2E313A;\n    --background-hover-color: #2E313C;\n    --border-color: #434343;\n    --force-color: #2A2C34;\n    --text-color: #CCCCCC;\n    --text-sec-color: #a39b8e;\n    --box-shadow: 0 8px 10px 0 rgba(0, 0, 0, .14);\n\n    --active-color: #728BFD;\n    --confirm-color: #f44336;\n}",c="\n/**\n * UnReader: theme_dark\n */\n:root {\n    --sr-unreader-theme: none;\n    --background-color: #292929;\n    --background-active-color: #2E2E2E;\n    --background-hover-color: #1b1b1b;\n    --border-color: #434343;\n    --force-color: #292929;\n    --text-sec-color: #a39b8e;\n    --text-color: #e0e0e0;\n    --box-shadow: 0 8px 10px 0 rgba(0, 0, 0, .14);\n\n    --active-color: #3498DB;\n    --confirm-color: #f44336;\n}",d={default:a,immersed:r,light:i,palenight:s,night:l,dark:c},p={default:"生成色",immersed:"小町鼠",light:"白銅色",palenight:"　　紺",night:"藍鉄色",dark:"濡羽色"};t.Change=n,t.GetBackgrounds=o},256:function(e,t,n){(function(e){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(29),c=o(l),d=n(119),p=o(d),u=function(t){function n(){var e,t,o,i;a(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return t=o=r(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),o.state={unread:o.props.unread,annotations:o.props.unread.annotations||[],confrim:-1},i=t,r(o,i)}return i(n,t),s(n,[{key:"onRemoveClick",value:function(e,t){var n=this;this.state.confrim==t?!function(){var e=$(".annote-field[data-id="+t+"]");e.slideUp(function(){n.state.annotations.splice(n.state.annotations.findIndex(function(e){return e.id==t}),1),n.setState({annotations:n.state.annotations,confrim:-1}),e.removeAttr("style").find(".actionbar .remove").removeClass("active"),n.props.onAction&&n.props.onAction("remove",n.props.unread),n.props.onRemove&&n.props.onRemove(t)})}():($(e.currentTarget).addClass("active"),this.setState({confrim:t}))}},{key:"onSelectClick",value:function(e,t){$(".annote-field[data-id="+t+"]").find(".actionbar .select").toggleClass("active"),0==$(".annote-field").find(".actionbar .select.active").length?($(".annote-field").find(".actionbar").removeClass("show").find(".select").removeClass("show"),this.props.onAction("multiple",!1)):($(".annote-field").find(".actionbar").addClass("show").find(".select").addClass("show"),this.props.onAction("multiple",!0))}},{key:"onMultipleRemove",value:function(){for(var e=this,t=0,n=$(".annote-field").find(".actionbar .select.active").length,o=function(){t++,t==n&&setTimeout(function(){$(".annote-field[sr-removed]").removeAttr("style"),$(".annote-field .actionbar").removeClass("show"),$(".annote-field .actionbar .select").removeClass("active"),e.setState({annotations:e.state.annotations}),e.props.onAction("remove",e.props.unread)},200)},a=function(t){var n=$($(".annote-field").find(".actionbar .select.active")[t]).parent().parent().parent().attr("data-id"),a=$(".annote-field[data-id="+n+"]"),r=a;a.css({height:r}).animate({height:0},function(){e.state.annotations.splice(e.state.annotations.findIndex(function(e){return e.id==n}),1),a.attr("sr-removed",!0),o()})},r=0;r<n;r++)a(r)}},{key:"onTagClick",value:function(e){this.props.onAction("tags",e)}},{key:"onSearchTagClick",value:function(e){this.props.onAction("search_tag",e)}},{key:"onAnnoteRefreshEvent",value:function(e){var t=e.originalEvent.data;if("refresh"==t.status){if(this.state.unread.idx!=t.data.idx)return;this.setState({unread:t.data,annotations:t.data.annotations})}}},{key:"onBacklinksAction",value:function(e,t){"search_tag"==e?this.onSearchTagClick(t):"open_backlink"==e&&this.props.onAction("open_backlink",t)}},{key:"componentDidMount",value:function(){var e=this;0==this.state.annotations.length&&$(this.refs.target).css({height:"100%"}),$(".annote[data-idx="+this.state.unread.idx+"]")[0].addEventListener("refresh",function(t){e.state.unread.idx==t.detail.idx&&e.setState({unread:t.detail,annotations:t.detail.annotations})}),$(this.refs.target)[0].addEventListener("multiple_remove",function(t){e.onMultipleRemove()}),$(window).on("message",function(t){return e.onAnnoteRefreshEvent(t)})}},{key:"render",value:function(){var t=this,n=this.state.unread,o=n.tags&&n.tags.map(function(n,o){return e.createElement("div",{className:"annote-tag","data-tag":n,onClick:function(){return t.onSearchTagClick(n)}},n.replace(/(\/+)/gi," $1 "))}),a=this.state.annotations&&this.state.annotations.map(function(n,o){var a=void 0,r=void 0,i=void 0,s=void 0;return r=n.tags.map(function(n,o){return e.createElement("div",{className:"annote-tag md-waves-effect","data-tag":n,onClick:function(){return t.onSearchTagClick(n)}},n.replace(/(\/+)/gi," $1 "))}),"paragraph"==n.type&&0!=n.color?a=e.createElement("div",{ref:"paragraph",dangerouslySetInnerHTML:{__html:n.html.replace(/<li>/gi,"<ul><li>").replace(/<\/li>/gi,"</li></ul>")}}):"img"==n.type?a=e.createElement("img",{src:n.text}):"code"==n.type&&(a=e.createElement("pre",{ref:"code",dangerouslySetInnerHTML:{__html:n.text.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")}})),s=n.refs&&n.refs.split("\n").map(function(t,n){return e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"外部引用"},e.createElement("a",{target:"_blank",href:t},t," ",e.createElement("i",{className:"fas fa-external-link-square-alt"})))}),e.createElement("sr-div",{class:"annote-field","data-idx":o,"sr-annote-bl-color":!0,"data-id":n.id,"data-color-type":n.color,type:n.type},e.createElement("div",{className:"annote-create"},c.FmtDate(n.id)),e.createElement("div",{className:"annote-content",style:i},a),n.tags&&n.tags.length>0&&e.createElement("div",{className:"annote-tags"},r),n.note&&e.createElement("div",{className:"annote-note"},n.note),s&&s.length>0&&e.createElement("div",{className:"annote-refs"},s),n.backlinks&&n.backlinks.length>0?e.createElement(p.Embed,{backlinks:n.backlinks,type:"annote",onAction:function(e,n){return t.onBacklinksAction(e,n)}}):e.createElement("div",null),e.createElement("div",{className:"actionbar"},e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"反向链接"},e.createElement("span",{className:"md-waves-effect icon backlinks",onClick:function(){return t.props.onAction("backlinks",n)}},e.createElement("i",{className:"fab fa-hubspot"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"导出"},e.createElement("span",{className:"md-waves-effect icon export",onClick:function(){return t.props.onAction("export",n.id)}},e.createElement("i",{className:"fas fa-download"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"编辑"},e.createElement("span",{className:"md-waves-effect icon editor",onClick:function(){return t.props.onAction("editor",n.id)}},e.createElement("i",{className:"fas fa-pen"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"删除"},e.createElement("span",{className:"md-waves-effect icon remove",onClick:function(e){return t.onRemoveClick(e,n.id)}},e.createElement("i",{className:"fas fa-times"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"选中"},e.createElement("span",{className:"md-waves-effect icon select",onClick:function(e){return t.onSelectClick(e,n.id)}},e.createElement("i",{className:"fas fa-check"})))))}),r=this.state.unread.refs&&this.state.unread.refs.split("\n").map(function(t,n){return e.createElement("a",{target:"_blank",href:t},t," ",e.createElement("i",{className:"fas fa-external-link-square-alt"}))});return e.createElement("div",{className:"annote",ref:"target","data-idx":n.idx,"data-customscroll":"true"},e.createElement("div",{className:"info"},e.createElement("span",{className:"date"},n.create)),o&&o.length>0?e.createElement("div",{className:"annote-tags"},o):e.createElement("div",null),n.title&&e.createElement("div",{className:"title"},n.title),n.desc&&e.createElement("div",{className:"desc"},n.desc),n.note&&e.createElement("div",{className:"note"},n.note),n.backlinks&&n.backlinks.length>0?e.createElement("div",{className:"dividers group"},e.createElement("span",{className:"line"}),e.createElement("span",{className:"text"},"关联的标注"),e.createElement("span",{className:"line"})):e.createElement("div",null),n.backlinks&&n.backlinks.length>0?e.createElement(p.Embed,{backlinks:n.backlinks,type:"unread",onAction:function(e,n){return t.onBacklinksAction(e,n)}}):e.createElement("div",null),r&&r.length>0&&e.createElement("div",{className:"dividers group"},e.createElement("span",{className:"line"}),e.createElement("span",{className:"text"},"外部引用"),e.createElement("span",{className:"line"})),r&&r.length>0&&e.createElement("div",{className:"refs"},r),a&&a.length>0&&e.createElement("div",{className:"dividers group"},e.createElement("span",{className:"line"}),e.createElement("span",{className:"text"},"标注"),e.createElement("span",{className:"line"})),a&&a.length>0?e.createElement("div",{className:"annote-fields"},a):e.createElement("div",{className:"empty"},e.createElement("div",{className:"dividers group"},e.createElement("span",{className:"line"}),e.createElement("span",{className:"text"},"标注"),e.createElement("span",{className:"line"})),e.createElement("span",{className:"label"},"当前没有任何标注")))}}]),n}(e.Component);u.defaultProps={unread:void 0},t.default=u}).call(t,n(2))},363:function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(t,n){t.GetCollectionsAllTags(),!f.Popup(w)&&f.Open(e.createElement(y,{alltags:t.ctags,collections:t.collections,names:t.GetCollectionNames(),onAction:function(e){return n(e)}}),k),$(".simpread-collections-popup-root").on("click",function(e){e.target.className==k&&f.Close()}),p.ListenESC(function(e){"esc"==e&&f.Close()})}Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(41),p=a(d),u=n(30),f=a(u),m=n(10),g=o(m),b=n(14),h=o(b),v=n(81),x=o(v),k="simpread-collections-popup-root",w="."+k,y=function(t){function n(){var e,t,o,a;r(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return t=o=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),o.state={create:!1,save:!1,collection:void 0,confirm:!1},a=t,i(o,a)}return s(n,t),c(n,[{key:"textOnChange",value:function(e,t){this.state.collection[e]=t.target.value}},{key:"noteOnChange",value:function(){this.state.collection.note=event.target.value}},{key:"tagOnChange",value:function(e){this.state.collection.tags=e}},{key:"namesOnChange",value:function(e,t){if(0==t)this.setState({save:!0,create:!0,collection:{id:0,title:e}});else{var n=this.props.collections.findIndex(function(e){return e.id==t});this.setState({save:!0,create:!1,collection:this.props.collections[n]})}}},{key:"onAddClick",value:function(){this.props.onAction(this.state.collection),this.onClose()}},{key:"onClose",value:function(){f.Close()}},{key:"componentDidMount",value:function(){$("dialog-content").css({"min-height":"100px"}),$("dialog-gp").css({"min-height":"initial"})}},{key:"render",value:function(){var t=this;return e.createElement(f.Dialog,null,e.createElement(f.Content,null,e.createElement("sr-collections",null,e.createElement("sr-collections-gp",null,e.createElement("sr-collections-label",null,"合辑"),e.createElement(x.default,{placeholder:"请下拉选择加入的合辑，输入内容并回车后会新建一个空的合辑",isNew:!0,value:"",items:this.props.names,onChange:function(e,n){return t.namesOnChange(e,n)}}),e.createElement("div",{className:"label"},"使用提示：",e.createElement("br",null),"1. 下拉添加到已存在的合辑。",e.createElement("br",null),"2. 输入合辑名称并回车后会新建一个空的合辑。",e.createElement("br",null),"3. 关于合辑的更多介绍 ",e.createElement("a",{target:"_blank",href:"http://ksria.com/simpread/docs/#/稍后读?id=合辑"},"请看这里"),"。")),this.state.create&&e.createElement("sr-collections",null,e.createElement("sr-collections-gp",null,e.createElement(h.default,{floatingtext:"描述",multi:!0,rows:1,placeholder:""!=this.state.collection.desc&&this.state.collection.desc?this.state.collection.desc:"关于 "+this.state.collection.title+" 的描述",value:this.state.collection.desc||"",onChange:function(e){return t.textOnChange("desc",e)}})),e.createElement("sr-collections-gp",null,e.createElement("sr-collections-label",null,"标签"),e.createElement(x.default,{tags:this.state.collection.tags||[],placeholder:"请输入你需要加入的标签，回车后生效。",items:this.props.alltags||[],onChange:function(e){return t.tagOnChange(e)}})),e.createElement("sr-collections-gp",null,e.createElement("sr-collections-label",null,"备注"),e.createElement(h.default,{multi:!0,rows:1,placeholder:"此合辑的一些备注信息",value:this.state.collection.note,onChange:function(e){return t.noteOnChange(e)}}))))),e.createElement(f.Footer,null,this.state.save&&e.createElement(g.default,{text:"添 加",waves:"md-waves-effect",color:"#fff",backgroundColor:"#F44336",onClick:function(){return t.onAddClick()}}),e.createElement("div",{style:{width:"100%"}}),e.createElement(g.default,{text:"退 出",waves:"md-waves-effect",onClick:function(){return t.onClose()}})))}}]),n}(e.Component);y.defaultProps={onAction:void 0},y.propTypes={collections:e.PropTypes.array,onAction:e.PropTypes.func},t.Render=l}).call(t,n(2))},364:function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");
}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(201),c=o(l),d=n(14),p=o(d),u=(0,c.default)(),f=function(t){function n(){var e,t,o,i;a(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return t=o=r(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),o.state={items:o.props.list.filter(function(e){return"archive"!=o.props.type?!e.archive:e}),all:o.props.list,archive:o.props.list.filter(function(e){return e.archive}),unarchive:o.props.list.filter(function(e){return!e.archive}),status:"unarchive",total:Math.ceil(o.props.list.length/o.props.step),page:1,confirm:-1,selectall:!1,multiple:!1,multiple_remove:!1,search_open:!1,filter:!!o.props.tag},i=t,r(o,i)}return i(n,t),s(n,[{key:"getIDsAndRmListField",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[];if(0==t&&this.state.selectall)return this.state[this.state.status].forEach(function(e){return e.archive=!e.archive}),this.state.items=[],this.state[this.state.status]=[],this.state.all.forEach(function(t){t.archive="archive"!=e.state.status,n.push(t.idx+"")}),this.state["archive"==this.state.status?"unarchive":"archive"]=this.state.all,this.setState({total:Math.ceil(this.state.items.length/this.props.step)}),n;if(1==t&&this.state.selectall)return this.state.items=[],this.state[this.state.status]=[],this.state.all=this.state["archive"==this.state.status?"unarchive":"archive"],this.setState({total:Math.ceil(this.state.items.length/this.props.step)}),n;$(".list-field").map(function(o,a){$(a).find(".actionbar .select").hasClass("active")&&!function(){n.push($(a).attr("data-idx")),$(a).addClass("removed");var o=$(a).attr("data-idx"),r=e.props.list.findIndex(function(e){return e.idx==o}),i=e.props.list[r];t?("tags"==e.props.type&&"all"!=e.state.status&&e.state.all.splice(e.state.all.findIndex(function(e){return e.idx==o}),1),1==i.archive?e.state.archive.splice(e.state.archive.findIndex(function(e){return e.idx==o}),1):e.state.unarchive.splice(e.state.unarchive.findIndex(function(e){return e.idx==o}),1),(["list","archive"].includes(e.props.type)||"all"==e.state.status)&&e.state.items.splice(e.state.items.findIndex(function(e){return e.idx==o}),1)):["list","archive"].includes(e.props.type)?e.state.items.splice(e.state.items.findIndex(function(e){return e.idx==o}),1):"archive"==e.state.status?(e.state.archive.splice(e.state.archive.findIndex(function(e){return e.idx==o}),1),i.archive=!1,e.state.unarchive.push(i)):"unarchive"==e.state.status&&(e.state.unarchive.splice(e.state.unarchive.findIndex(function(e){return e.idx==o}),1),i.archive=!0,e.state.archive.push(i))}()}),$(".list-field").find(".actionbar .select").removeClass("show").removeClass("active");var o=0;return $(".list-field.removed").slideUp(function(){if(o++,o==n.length){$(".list-field").removeAttr("style").removeClass("removed");var a=t&&"tags"==e.props.type?e.state[e.state.status]:["list","archive"].includes(e.props.type)?e.state.items:"archive"==e.props.type?e.state.all:e.state[e.state.status];e.setState({items:a,total:Math.ceil(a.length/e.props.step),selectall:!1,multiple:!1,multiple_remove:!1})}}),n}},{key:"onListFieldClick",value:function(e,t){var n=$(e.target);n.hasClass("tag")||n.hasClass("icon")||n.is("i")||($(".list-field").removeClass("active"),$(".list-field[data-idx="+t.idx+"]").addClass("active"),this.props.onAction("open",t))}},{key:"onOpenClick",value:function(e){this.props.onAction("link",e)}},{key:"onArchiveClick",value:function(e,t){var n=this,o=t.idx;"all"==this.state.status&&["tags","filter"].includes(this.props.type)?(e?(this.state.archive.splice(this.state.archive.findIndex(function(e){return e.idx==o}),1),this.state.unarchive.push(t)):(this.state.unarchive.splice(this.state.unarchive.findIndex(function(e){return e.idx==o}),1),this.state.archive.push(t)),this.setState({total:Math.ceil(this.state.items.length/this.props.step)}),this.props.onAction(e?"unarchive":"archive",t)):$('.list-field[data-idx="'+o+'"]').removeClass("active").slideUp(function(){$('.list-field[data-idx="'+o+'"]').removeAttr("style"),e?(n.state.archive.splice(n.state.archive.findIndex(function(e){return e.idx==o}),1),n.state.unarchive.push(t)):(n.state.unarchive.splice(n.state.unarchive.findIndex(function(e){return e.idx==o}),1),n.state.archive.push(t)),["list","archive"].includes(n.props.type)&&n.state.all.splice(n.state.all.findIndex(function(e){return e.idx==o}),1),n.setState({items:"archive"==n.props.type?n.state.all:n.state[n.state.status],total:Math.ceil(n.state.items.length/n.props.step)}),n.props.onAction(e?"unarchive":"archive",t),n.props.onAction("label",{type:"tags"==n.props.type?n.state.status:n.props.type,total:n.state.items.length})})}},{key:"onRemoveClick",value:function(e){var t=this;this.state.confirm==e?$('.list-field[data-idx="'+e+'"]').slideUp(function(){var n=t.state.items.findIndex(function(t){return t.idx==e});if(n!=-1){if($('.list-field[data-idx="'+e+'"]').removeAttr("style"),["tags"].includes(t.props.type)){if(["tags"].includes(t.props.type)){var o=t.state.items[n];1==o.archive?t.state.archive.splice(n,1):t.state.unarchive.splice(n,1),t.state.all.splice(t.state.all.findIndex(function(t){return t.idx==e}),1),t.state.items=$.extend(!0,[],t.state[t.state.status])}}else t.state.items.splice(t.state.items.findIndex(function(t){return t.idx==e}),1);t.setState({total:Math.ceil(t.state.items.length/t.props.step)})}t.props.onAction("remove",e),t.props.onAction("label",{type:"tags"==t.props.type?t.state.status:t.props.type,total:t.state.items.length})}):this.setState({confirm:e})}},{key:"onSelectClick",value:function(e){$(".list-field").find(".actionbar .select").map(function(e,t){!$(t).hasClass("acitve")&&$(t).addClass("show")}),$('.list-field[data-idx="'+e+'"]').find(".actionbar .select").toggleClass("active"),$(".list-field").find(".actionbar .select.active").length>0?(this.setState({multiple:!0}),this.props.onAction("label",{type:"select",total:$(".list-field").find(".actionbar .select.active").length})):(this.setState({multiple:!1}),$(".list-field").find(".actionbar .select").removeClass("show"),this.props.onAction("label",{type:"tags"==this.props.type?this.state.status:this.props.type,total:this.state.items.length}))}},{key:"onSelectAllClick",value:function(){this.setState({selectall:!0})}},{key:"onMultipleClick",value:function(){this.state.multiple?($(".list-field").find(".actionbar .select").removeClass("show").removeClass("active"),this.setState({multiple:!this.state.multiple,selectall:!1})):($(".list-field").find(".actionbar .select").addClass("active"),this.setState({multiple:!this.state.multiple,multiple_remove:!1}))}},{key:"onMiniClick",value:function(){$(this.refs.mini).toggleClass("active"),this.props.onAction("mini")}},{key:"onMultipleArchiveClick",value:function(){if(this.state.selectall&&!this.state.filter)this.setState({items:[],selectall:!1,multiple:!1,multiple_remove:!1}),this.props.onAction(this.props.archive?"unarchives":"archives","all"),this.props.onAction("label",{type:"tags"==this.props.type?this.state.status:this.props.type,total:0});else{var e=this.getIDsAndRmListField();["list","archive"].includes(this.props.type)?this.props.onAction(this.props.archive?"unarchives":"archives",e):this.props.onAction("archive"==this.state.status?"unarchives":"archives",e),this.props.onAction("label",{type:"tags"==this.props.type?this.state.status:this.props.type,total:"tags"==this.props.type&&"unarchive"==this.state.status?this.state.unarchive.length:this.state.items.length})}}},{key:"onMultipleRemoveClick",value:function(){if(this.state.multiple_remove)if(this.state.selectall&&!this.state.filter)this.setState({items:[],selectall:!1,multiple:!1,multiple_remove:!1}),this.props.onAction("clear"),this.props.onAction("label",{type:"tags"==this.props.type?this.state.status:this.props.type,total:0});else{var e=this.getIDsAndRmListField(!0);this.props.onAction("remove",e),this.props.onAction("label",{type:"tags"==this.props.type?this.state.status:this.props.type,total:"tags"==this.props.type&&"unarchive"==this.state.status?this.state.unarchive.length:this.state.items.length})}else this.setState({multiple_remove:!0})}},{key:"onSearchClick",value:function(){$(this.refs.search).toggleClass("active"),$(".toolbar").toggleClass("open"),$(".bottombar").toggleClass("open"),$(".bottombar").find("input")[0].focus(),this.setState({search_open:!0})}},{key:"onSearchChange",value:function(e){var t=e.target.value.toLowerCase().trim(),n=void 0;n=t.startsWith("#")?"#"==t?this.props.list:this.props.list.filter(function(e){return e.tags&&e.tags.join(",").toLowerCase().includes(t.replace("#",""))}):""==t?this.props.list:this.props.list.filter(function(e){return t=t.replace("\\#","#"),e.title&&e.title.toLowerCase().includes(t)||e.desc&&e.desc.toLowerCase().includes(t)||e.note&&e.note.toLowerCase().includes(t)}),this.setState({items:n,filter:""!=t}),this.props.search=t}},{key:"onListRefreshEvent",value:function(e){var t=e.originalEvent.data;"refresh"==t.status&&(this.state.items.splice(this.state.items.findIndex(function(e){return e.idx==t.data.idx}),1,t.data),this.setState({item:this.state.items}),this.props.onAction("refresh",t.data),this.props.onAction("navigate"))}},{key:"onTagClick",value:function(e){this.props.onAction(this.props.showArchive?"tags":"ctags",e)}},{key:"onFilter",value:function(e){$(".filterbar .tab").removeClass("active"),$(".filterbar .tab."+e).addClass("active"),$(".list-field").find(".actionbar .select").removeClass("show").removeClass("active"),this.setState({items:this.state[e],total:Math.ceil(this.state[e].length/this.props.step),status:e,selectall:!1,multiple:!1,multiple_remove:!1}),this.props.onAction("label",{type:e,total:this.state[e].length})}},{key:"isLocal",value:function(e){var t=!1;if(this.props.localfiles.forEach(function(n){n.startsWith(e.idx+"-")&&(t=!0)}),!t){var n=this.props.localfiles.findIndex(function(t){return t==e.title+".html"});n!=-1&&(t=!0)}return t}},{key:"componentDidMount",value:function(){var e=this;$(".list").scroll(function(t){var n=t.currentTarget.scrollTop,o=t.currentTarget.clientHeight,a=t.currentTarget.scrollHeight;a-n-o<100&&e.setState({page:e.state.page+1})}),$(window).on("message",function(t){return e.onListRefreshEvent(t)}),$(this.refs.target)[0].addEventListener("refresh",function(t){var n=e.state.items.findIndex(function(e){return e.idx==t.detail.idx});n>-1&&(e.state.items.splice(n,1,t.detail),e.setState({item:e.state.items})),e.props.onAction("navigate")}),this.props.tag&&this.onSearchClick(),this.props.onAction("label",{type:"tags"==this.props.type?this.state.status:this.props.type,total:this.state.items.length})}},{key:"render",value:function(){var t=this,n=(this.state.page>=this.state.total,this.state.items.slice(0,this.state.page*this.props.step)),o=n&&n.length>0?n.map(function(n){var o=u.format(n.create.replace(/(年|月)/g,"-").replace("日",""),"zh_CN"),a=n.tags&&n.tags.map(function(n){return e.createElement("span",{className:"tag md-waves-effect",onClick:function(){return t.onTagClick(n)}},n.replace(/(\/+)/gi," $1 "))}),r=n.annotations&&n.annotations.map(function(t){return e.createElement("sr-span",{class:"color","data-id":t.id,"sr-annote-bg-color":"true","data-color-type":t.color})}),i=n.annotations&&n.annotations.map(function(t,n){return n<3&&"img"==t.type&&e.createElement("img",{src:t.text})});return e.createElement("div",{className:"list-field md-waves-effect","data-idx":n.idx,"data-archive":n.archive?"true":"false",onClick:function(e){return t.onListFieldClick(e,n)}},e.createElement("span",{className:"time"},o.replace(/(\d+)/,"$1 ")),r&&e.createElement("span",{className:"colors"},r),e.createElement("span",{className:"title"},n.title),n.desc&&e.createElement("span",{className:"desc"},n.desc),i?e.createElement("span",{className:"images"},i):n.img&&n.img.startsWith("http")&&e.createElement("img",{src:n.img}),a&&e.createElement("span",{className:"tags"},a),t.isLocal(n)&&e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"已保存到本地",style:{width:"100px"}},e.createElement("span",{className:"local"},e.createElement("i",{className:"fas fa-cloud-download-alt"}))),e.createElement("span",{className:"actionbar"},t.isLocal(n)&&e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"打开本地文件"},e.createElement("span",{className:"md-waves-effect icon open",onClick:function(){return t.onOpenClick(n)}},e.createElement("i",{className:"fas fa-share"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"打开源页面"},e.createElement("span",{className:"md-waves-effect icon origin",onClick:function(){return t.props.onAction("origin",n)}},e.createElement("i",{className:"fas fa-link"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"编辑"},e.createElement("span",{className:"md-waves-effect icon editor",onClick:function(){return t.props.onAction("editor",n)}},e.createElement("i",{className:"fas fa-pen"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"删除"},e.createElement("span",{className:"md-waves-effect icon remove","data-confirm":t.state.confirm==n.idx?"on":"off",onClick:function(){return t.onRemoveClick(n.idx)}},e.createElement("i",{className:"fas fa-plus"}))),t.props.showArchive&&e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":n.archive?"取消归档":"归档"},e.createElement("span",{className:"md-waves-effect icon archive",onClick:function(){return t.onArchiveClick(n.archive,n)}},e.createElement("i",{className:n.archive?"fas fa-reply":"fas fa-archive"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"up","data-balloon-order":"upright","aria-label":"选择"},e.createElement("span",{className:"md-waves-effect icon select",onClick:function(){return t.onSelectClick(n.idx)}},e.createElement("i",{className:"fas fa-check"})))))}):e.createElement("div",{className:"empty"},e.createElement("i",{className:"fas fa-battery-empty"}),e.createElement("span",null,"没有任何列表!"));return e.createElement("div",{className:"list",ref:"target","data-customscroll":!0},e.createElement("div",{className:"toolbar"},e.createElement("div",{className:"topbar"},e.createElement("sr-tooltip",{"data-balloon-pos":"down","data-balloon-order":"downleft","aria-label":"缩进左侧"},e.createElement("span",{className:"md-waves-effect icon mini",ref:"mini",onClick:function(){return t.onMiniClick()}},e.createElement("i",{className:"fas fa-arrow-left"}))),e.createElement("span",{className:"count"},n.length+" / "+this.state.items.length),n.length>0&&e.createElement("span",{className:"floating"},e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"展开侧栏"},e.createElement("span",{className:"md-waves-effect icon panel",onClick:function(){return t.props.onAction("panel",t.props.search)}},e.createElement("i",{className:"fas fa-window-maximize"}))),!this.state.multiple&&!this.state.selectall&&e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"检索"},e.createElement("span",{ref:"search",className:"md-waves-effect icon search"+(this.state.search_open?" active":""),onClick:function(){return t.onSearchClick()}},e.createElement("i",{className:"fas fa-search"}))),this.state.total>1&&this.state.multiple&&!this.state.selectall&&e.createElement("span",{className:"selectall",onClick:function(){return t.onSelectAllClick()}},"选择全部的 "+this.state.items.length+" 条？"),e.createElement("sr-tooltip",{"data-balloon-pos":"down","data-balloon-order":this.state.multiple?"":"downright","aria-label":this.state.multiple?"取消全选":"全选"},e.createElement("span",{className:"md-waves-effect icon multiple","data-checked":!!this.state.multiple,onClick:function(){return t.onMultipleClick()}},e.createElement("i",{className:this.state.selectall?"fas fa-check-double":"fas fa-check"}))),this.state.multiple&&e.createElement("span",{style:{display:"flex"}},this.props.showArchive&&"all"!=this.state.status&&e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":["list","archive"].includes(this.props.type)?this.props.archive?"移除归档":"全部归档":"archive"==this.state.status?"移除归档":"全部归档"},e.createElement("span",{className:"md-waves-effect icon archive","data-confirm":!!this.state.multiple_remove,onClick:function(){return t.onMultipleArchiveClick()}},e.createElement("i",{className:["list","archive"].includes(this.props.type)?this.props.archive?"fas fa-reply":"fas fa-archive":"archive"==this.state.status?"fas fa-reply":"fas fa-archive"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"down","data-balloon-order":"downright","aria-label":"删除"},e.createElement("span",{className:"md-waves-effect icon remove","data-confirm":!!this.state.multiple_remove,onClick:function(){return t.onMultipleRemoveClick()}},e.createElement("i",{className:"fas fa-trash-alt"})))))),e.createElement("div",{className:"bottombar"},e.createElement(p.default,{placeholder:"含# → 搜索标签，不含# → 搜索标题，描述，备注",value:this.props.tag||void 0,onChange:function(e){return t.onSearchChange(e)}}))),e.createElement("div",null,o),["tags","filter"].includes(this.props.type)&&e.createElement("div",{className:"filterbar"},e.createElement("span",{className:"md-waves-effect tab unarchive active",onClick:function(){return t.onFilter("unarchive")}},e.createElement("i",{className:"fas fa-inbox"})," 未归档"),e.createElement("span",{className:"md-waves-effect tab archive",onClick:function(){return t.onFilter("archive")}},e.createElement("i",{className:"fas fa-folder-plus"})," 已归档"),e.createElement("span",{className:"md-waves-effect tab all",onClick:function(){return t.onFilter("all")}},e.createElement("i",{className:"fas fa-list"})," 全部")))}}]),n}(e.Component);f.defaultProps={type:void 0,tag:void 0,archive:void 0,showArchive:!0,list:[],step:30},f.propsType={archive:e.PropTypes.boolean,list:e.PropTypes.array,step:e.PropTypes.number,onAction:e.PropTypes.func},t.default=f}).call(t,n(2))},365:function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=function(t){function r(){return n(this,r),o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return a(r,t),i(r,[{key:"render",value:function(){var t=this.props.user.avatar;""==t&&(t=this.props.user.name.substr(0,1));var n=this.props.idx.indexOf(t.toLowerCase());n==-1&&(n=0);var o=this.props.colors[n];return e.createElement("div",{className:"avatar",style:{"background-color":o,"font-size":t?"":"25px"}},t.toUpperCase()||"简悦")}}]),r}(e.Component);s.defaultProps={colors:["rgb(255, 114, 129)","rgb(64, 196, 255)","rgb(255, 157, 68)","rgb(140, 216, 66)","rgb(251, 88, 74)","rgb(255, 229, 95)","rgb(0, 230, 118)","rgb(0, 169, 240)","rgb(128, 222, 234)","rgb(247, 77, 95)","rgb(255, 206, 73)","rgb(250, 154, 63)","rgb(255, 114, 129)","rgb(57, 194, 241)","rgb(141, 196, 72)","rgb(128, 222, 234)","rgb(83, 109, 254)","rgb(255, 183, 77)","rgb(197, 231, 99)","rgb(239, 83, 80)","rgb(0, 230, 118)","rgb(57, 194, 241)","rgb(100, 181, 246)","rgb(119, 232, 86)","rgb(239, 83, 80)","rgb(0, 203, 232)","rgb(0, 230, 118)","rgb(255, 196, 0)","rgb(255, 206, 73)","rgb(167, 134, 116)","rgb(86, 209, 216)","rgb(253, 208, 174)","rgb(197, 231, 99)","rgb(239, 88, 74)","rgb(249, 79, 40)","rgb(255, 88, 100)","rgb(197, 231, 99)","rgb(0, 177, 251)","rgb(255, 206, 73)","rgb(251, 182, 75)","rgb(197, 231, 99)","rgb(35, 180, 210)","rgb(255, 206, 73)","rgb(255, 229, 95)","rgb(64, 196, 255)","rgb(255, 114, 129)","rgb(119, 232, 86)","rgb(139, 223, 231)","rgb(0, 169, 240)"],user:void 0,idx:"abcdefghijklmnopqrstuvwxyz0123456789"};var l=function t(n){var o=n.items&&n.items.map(function(o){return e.createElement(t,r({},o,{onClick:function(e,t){return n.onClick(e,t)},onCollapseClick:function(e){return n.onCollapseClick(e)}}))});return e.createElement("div",{className:"nav child","data-children":o&&o.length>0?"true":"false"},e.createElement("span",{className:"group md-waves-effect",onClick:function(e){return n.onClick(e,n.value)}},e.createElement("span",{className:"level","data-level":n.level||0}),n.icon&&e.createElement("i",{className:"icon",dangerouslySetInnerHTML:{__html:n.icon}}),e.createElement("span",{className:"label"},n.name),n.lock_icon&&e.createElement("span",{className:"lock",dangerouslySetInnerHTML:{__html:n.lock_icon}})),o&&o.length>0&&e.createElement("span",{className:"collapse md-waves-effect md-waves-circle",onClick:function(e){return n.onCollapseClick(e)}},e.createElement("i",{className:"fas fa-angle-right"})),o&&o.length>0&&e.createElement("div",{className:"children"},o))},c=function(t){function s(){return n(this,s),o(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return a(s,t),i(s,[{key:"onClick",value:function(e,t){var n=$(e.currentTarget).parent();$(".navigate .nav").removeClass("active"),$(".navigate .nav .group").removeClass("active"),0==n.find(".children").length?n.addClass("active"):n.find(".group:first").addClass("active"),this.props.onAction(this.props.type,t),"root"==t&&this.onCollapseClick(e)}},{key:"onCollapseClick",value:function(e){var t=$(e.currentTarget);t.hasClass("collapse")?(t.toggleClass("open"),t.next().slideToggle()):t.hasClass("group")&&(t.next().toggleClass("open"),t.next().next().slideToggle())}},{key:"render",value:function(){var t=this,n=this.props.items.map(function(n){return e.createElement(l,r({},n,{lock_icon:t.props.sublock&&n.pro&&t.props.lock_icon,onClick:function(e,n){return t.onClick(e,n)},onCollapseClick:function(e){return t.onCollapseClick(e)}}))});return e.createElement("div",{className:"nav",type:this.props.type,"data-children":n&&n.length>0?"true":"false"},this.props.total>0&&e.createElement("span",{className:0==this.props.items.length?"total":"total right"},this.props.total),this.props.lock&&e.createElement("span",{className:"lock",dangerouslySetInnerHTML:{__html:this.props.lock_icon}}),e.createElement("span",{className:"group md-waves-effect",onClick:function(e){return t.onClick(e,"root")}},e.createElement("i",{className:"icon",dangerouslySetInnerHTML:{__html:this.props.icon}}),e.createElement("span",{className:"label"},this.props.label)),n&&n.length>0&&e.createElement("span",{className:"collapse md-waves-effect md-waves-circle",onClick:function(e){return t.onCollapseClick(e)}},e.createElement("i",{className:"fas fa-angle-right"})),n&&n.length>0&&e.createElement("div",{className:"children"},n))}}]),s}(e.Component);c.defaultProps={type:void 0,icon:void 0,lable:void 0,total:void 0,items:[],lock:!1,lock_icon:'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M284.444672 455.110656v-113.77664c0-125.67552 101.879808-227.556352 227.555328-227.556352s227.555328 101.879808 227.555328 227.555328v113.777664h71.11168c23.564288 0 42.665984 19.10272 42.665984 42.667008v369.777664c0 23.564288-19.101696 42.667008-42.665984 42.667008H213.332992c-23.564288 0-42.665984-19.10272-42.665984-42.667008v-369.77664c0-23.565312 19.101696-42.668032 42.665984-42.668032h71.11168z m85.332992 0H654.22336v-113.77664c0-78.547968-63.675392-142.22336-142.222336-142.22336-78.546944 0-142.222336 63.675392-142.222336 142.22336v113.77664z" fill="#f55246"></path></svg>',onAction:void 0};var d=function(t){function r(){return n(this,r),o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return a(r,t),i(r,[{key:"render",value:function(){var t=this;return e.createElement("div",{className:"navigate"},e.createElement(s,{user:this.props.user}),e.createElement("div",{className:"category"},"关注"),e.createElement(c,{type:"daily",icon:'<i class="fas fa-clock"></i>',label:"24小时",total:this.props.daily,onAction:function(e,n){return t.props.onAction(e,n)}}),e.createElement(c,{type:"sunday",icon:'<i class="fas fa-calendar-alt"></i>',label:"本周回顾",total:this.props.sunday,onAction:function(e,n){return t.props.onAction(e,n)}}),e.createElement(c,{type:"dr",icon:'<i class="fas fa-lightbulb"></i>',label:"灵感回顾",total:this.props.dr,items:this.props.dr_tags,onAction:function(e,n){return t.props.onAction(e,n)}}),e.createElement(c,{type:"important",icon:'<i class="fas fa-star"></i>',label:"重要",total:this.props.important,items:this.props.important_tags,onAction:function(e,n){return t.props.onAction(e,n)}}),e.createElement(c,{type:"inbox",icon:'<i class="fas fa-inbox"></i>',label:"收件箱",total:this.props.inbox,onAction:function(e,n){return t.props.onAction(e,n)}}),e.createElement("div",{className:"category"},"分类"),e.createElement(c,{type:"tags",icon:'<i class="fas fa-tags"></i>',label:"标签",items:this.props.tags,onAction:function(e,n){return t.props.onAction(e,n)}}),e.createElement(c,{type:"filter",icon:'<i class="fas fa-filter"></i>',label:"智能分类",items:this.props.filter,sublock:this.props.lock,onAction:function(e,n){return t.props.onAction(e,n)}}),e.createElement("div",{className:"category"},"列表"),e.createElement(c,{type:"list",icon:'<i class="fas fa-list-alt"></i>',label:"活跃列表",total:this.props.unrdist,onAction:function(e,n){return t.props.onAction(e,n)}}),e.createElement(c,{type:"archive",icon:'<i class="fas fa-archive"></i>',label:"存档列表",total:this.props.archives,onAction:function(e,n){return t.props.onAction(e,n)}}),e.createElement("div",{className:"category"},"高级"),e.createElement(c,{type:"ctags",icon:'<i class="fas fa-layer-group"></i>',label:"合辑",items:this.props.lock?[]:this.props.ctags,lock:this.props.lock,onAction:function(e,n){return t.props.onAction(e,n)}}))}}]),r}(e.Component);d.defaultProps={user:void 0,filter:[{name:"今日",value:"today",icon:'<i class="fas fa-calendar"></i>'},{name:"昨日",value:"yestoday",icon:'<i class="fas fa-calendar-day"></i>'},{name:"七日内",value:"week",icon:'<i class="fas fa-calendar-week"></i>'},{name:"无标注",value:"nohighlight",icon:'<i class="fas fa-highlighter"></i>'},{name:"无标签",value:"notags",icon:'<i class="fas fa-hashtag"></i>'},{name:"包含备注",value:"note",icon:'<i class="fas fa-sticky-note"></i>',pro:!0},{name:"仅包含标注",value:"annoate",icon:'<i class="fas fa-highlighter"></i>',pro:!0},{name:"仅包含图片",value:"img",icon:'<i class="fas fa-image"></i>',pro:!0},{name:"仅包含代码段",value:"code",icon:'<i class="fas fa-code"></i>',pro:!0},{name:"仅包含共享链接",value:"share",icon:'<i class="fas fa-link"></i>',pro:!0}],unrdist:0,archives:0,lock:!0},d.propTypes={user:e.PropTypes.object,filter:e.PropTypes.array,unrdist:e.PropTypes.number,archives:e.PropTypes.number,ctags:e.PropTypes.array},t.default=d}).call(t,n(2))},366:function(e,t,n){(function(e,o,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(){$(".simpread-panel").css({"animation-name":"fadeOutLeft"}).on("animationend",function(e){$(".simpread-panel-gp").remove()})}function p(t,n,o,r,i){0==$(".simpread-panel-gp").length&&$("html").append('<div class="simpread-panel-gp"><div class="simpread-panel-bg"></div></div>');var s=function(e,t,n){i(e,t,n)};a.render(e.createElement(N,{lock:t,search:n,type:o,tag:r,onAction:function(e,t,n){return s(e,t,n)}}),$(".simpread-panel-gp")[0]),$(".simpread-panel-gp").prepend('<div class="simpread-panel-bg"></div>'),$(".simpread-panel .toolbar .icon.pin").hasClass("active")&&$(".simpread-panel-bg").addClass("hidden"),$(".simpread-panel-bg").one("click",function(e){!$(".simpread-panel .toolbar .icon.pin").hasClass("active")&&d()}),v.Render({root:".simpread-panel-gp"})}Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(14),m=i(f),g=n(31),b=i(g),h=n(17),v=r(h),x=n(4),k=n(3),w=n(6),y=r(w),E=n(65),C=r(E),A=n(119),_=r(A),N=function(t){function n(){var e,t,o,a;s(this,n);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=o=l(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.state={refresh:!1},a=t,l(o,a)}return c(n,t),u(n,[{key:"filter",value:function(e){var t=this,n=this.props.search.findIndex(function(t){return t.idx==e.idx});if(n>-1)if("tag"==this.props.type){var o=e.annotations.filter(function(e){return e&&e.tags.includes(t.props.tag)});e.annotations=o,this.props.search.splice(n,1,e),this.setState({refresh:!0})}else this.props.search.splice(n,1,e),this.setState({refresh:!0})}},{key:"onToolbarClick",value:function(e){if("slide"==e)$(".simpread-panel-gp").toggleClass("min"),$(".treenotes-root").toggleClass("max"),$(".kanban-root").toggleClass("max");else if("pin"==e)$(".simpread-panel .toolbar .icon.pin").toggleClass("active"),localStorage.setItem("simpread-unreader-panel-pin",$(".simpread-panel .toolbar .icon.pin").hasClass("active")),$(".simpread-panel-bg").toggleClass("hidden");else if("collapse"==e){var t=$(".simpread-panel .toolbar .icon.collapse").hasClass("close");t?$(".simpread-panel .result .titlegp.close .icon").click():$(".simpread-panel .result .titlegp:not(.close) .icon").click(),$(".simpread-panel .toolbar .icon.collapse").toggleClass("close").parent().attr("aria-label",t?"全部缩进":"全部展开")}else if("exit"==e){if($(".graph-group.current").length>0||$(".treenotes-root").length>0||$(".kanban-root").length>0)return void(new o).Render(2,"此模式下无法关闭侧栏，请使用 <b>缩进</b> 或 <b>退出此模式</b>。");d()}else"open"==e?"evergreen"==x.storage.option.unreader.openmode?(new o).Render({type:2,content:'此功能仅限 <b><a href="http://ksria.com/simpread/docs/#/Workflowy">Workflowy</a></b> 与 <b><a href="http://ksria.com/simpread/docs/#/Kanban">Kanban</a></b> 模式。',state:"holdon"}):this.props.onAction("open_all",this.props.search,{type:this.props.type,value:this.props.tag}):"help"==e&&k.browser.runtime.sendMessage(y.Add(y.MESSAGE_ACTION.new_tab,{url:"http://ksria.com/simpread/docs/#/Panel"
}))}},{key:"onSlideClick",value:function(e){$(e.currentTarget).parent().toggleClass("close").next().slideToggle(),$(e.currentTarget).find("i").toggleClass("close")}},{key:"onRefreshEvent",value:function(e){var t=e.originalEvent.data;"refresh"==t.status&&this.filter($.extend(!0,{},t.data))}},{key:"changeShortcuts",value:function(e){13==e.keyCode&&this.onSearchChange(e)}},{key:"onSearchChange",value:function(e){var t=e.target.value.toLowerCase().trim(),n="",a=[];t.startsWith("tag:")?(t=t.replace("tag:",""),a=C.findbyTag(t,x.storage.unrdist),this.props.type="tag",this.props.tag=t):/^(title|desc|url|note|annote):/.test(t)?(n=t.match(/^[a-zA-Z]+/)[0],t=t.replace(/^(title|desc|url|note|annote):/,""),"annote"!=n?a=""==t?x.storage.unrdist:x.storage.unrdist.filter(function(e){return t=t.replace("\\#","#"),e[n]&&e[n].toLowerCase().includes(t)}):x.storage.unrdist.forEach(function(e){var n=$.extend(!0,{},e);n.annotations=[],e.annotations&&e.annotations.forEach(function(e){e.text&&e.text.toLowerCase().includes(t)&&n.annotations.push(e)}),n.annotations.length>0&&a.push(n)}),this.props.type=n,this.props.tag=t):t.startsWith("#")?(t=t.replace("#",""),a=C.findUnReadbyTag(t,x.storage.unrdist,!1),this.props.type="any",this.props.tag=t):(a=""==t?x.storage.unrdist:x.storage.unrdist.filter(function(e){return t=t.replace("\\#","#"),e.title&&e.title.toLowerCase().includes(t)||e.desc&&e.desc.toLowerCase().includes(t)||e.note&&e.note.toLowerCase().includes(t)}),this.props.type="any",this.props.tag=t),a&&a.length>0?(this.props.search=a,this.props.tag=t,this.setState({refresh:!0})):(new o).Render(2,"并未检索到任何内容，请重新检索。")}},{key:"onChangeMode",value:function(e,t){x.storage.option.unreader.openmode=t,this.props.onAction("save")}},{key:"componentDidMount",value:function(){var e=this;$(".simpread-panel").addClass("active");var t=localStorage.getItem("simpread-unreader-panel-pin");"true"==t&&$(".simpread-panel .toolbar .icon.pin").addClass("active"),$(window).on("message",function(t){return e.onRefreshEvent(t)}),$(".simpread-panel .results")[0].addEventListener("refresh",function(t){e.filter($.extend(!0,{},t.detail))})}},{key:"render",value:function(){var t=this,n=this.props.search.map(function(n){var o=n.tags&&n.tags.map(function(o){return e.createElement("div",{"data-idx":n.idx,"data-balloon-pos":"up","aria-label":"点击打开",className:o==t.props.tag?"tag active":"tag",onClick:function(){return t.props.onAction("open",{unread:n},{type:t.props.type,value:t.props.tag})}},"#"+o)}),a=n.annotations&&n.annotations.map(function(o){var a=o.tags&&o.tags.map(function(a){return e.createElement("div",{"data-idx":n.idx,"data-balloon-pos":"up","aria-label":"点击打开",className:a==t.props.tag?"tag active":"tag",onClick:function(){return t.props.onAction("open",{unread:n,annote:o},{type:t.props.type,value:t.props.tag})}},"#"+a)}),r=void 0;return"paragraph"==o.type?r=e.createElement("div",{className:"annote"},o.text):"img"==o.type?r=e.createElement("img",{src:o.text}):"code"==o.type&&(r=e.createElement("pre",null,o.text)),e.createElement("sr-div",{class:"annotegp","sr-annote-bl-color":!0,"data-color-type":o.color},r,a&&a.length>0&&e.createElement("div",{className:"tags child"},a),o.note&&e.createElement("div",{className:"note"},o.note),o.backlinks&&o.backlinks.length>0?e.createElement(_.Embed,{backlinks:o.backlinks,type:"annote"}):e.createElement("div",null))});return e.createElement("div",{className:"result"},e.createElement("div",{className:"titlegp"},e.createElement("span",{className:"icon",onClick:function(e){return t.onSlideClick(e)}},e.createElement("i",{className:"fas fa-caret-down"})),e.createElement("span",{className:"title",onClick:function(e){return t.props.onAction("open",{unread:n},{type:t.props.type,value:t.props.tag})}},n.title)),e.createElement("div",{className:"group"},n.desc&&e.createElement("div",{className:"desc"},n.desc),o&&o.length>0&&e.createElement("div",{className:"tags"},o),n.note&&e.createElement("div",{className:"note"},n.note),n.backlinks&&n.backlinks.length>0?e.createElement(_.Embed,{backlinks:n.backlinks,type:"unread"}):e.createElement("div",null),e.createElement("div",{className:"annotations"},a)))}),o=function(e){var t=[{name:"Evergreen Notes",value:"evergreen"},{name:"Workflowy Notes",value:"treenotes"},{name:"Kanban Notes",value:"kanbannotes"}];if(e){var n=t.find(function(t){return t.value==e});return n.name}return t};return e.createElement("div",{className:"simpread-panel"},e.createElement("div",{className:"toolbar"},e.createElement("div",{className:"lock"},this.props.lock&&e.createElement("sr-unreader-lock",{dangerouslySetInnerHTML:{__html:this.props.lock_icon},onClick:function(){return t.props.onAction("lock")}}),e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"全部打开",class:"open"},e.createElement("span",{className:"md-waves-effect icon open",onClick:function(){return t.onToolbarClick("open")}},e.createElement("i",{className:"fas fa-external-link-square-alt"}))),e.createElement("div",{className:"mode","data-balloon-pos":"down","aria-label":"切换打开模式"},e.createElement(b.default,{name:o(x.storage.option.unreader.openmode||"evergreen"),width:"135px",items:o(),onChange:function(e,n){return t.onChangeMode(n,e)}}))),e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"展开",class:"expand"},e.createElement("span",{className:"md-waves-effect icon expand",onClick:function(){return t.onToolbarClick("slide")}},e.createElement("i",{className:"fas fa-angle-double-left"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"关闭"},e.createElement("span",{className:"md-waves-effect icon exit",onClick:function(){return t.onToolbarClick("exit")}},e.createElement("i",{className:"fas fa-times"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"全部缩进"},e.createElement("span",{className:"md-waves-effect icon collapse",onClick:function(){return t.onToolbarClick("collapse")}},e.createElement("i",{className:"fas fa-angle-double-up"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"固定"},e.createElement("span",{className:"md-waves-effect icon pin active",onClick:function(){return t.onToolbarClick("pin")}},e.createElement("i",{className:"fas fa-thumbtack"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"缩进"},e.createElement("span",{className:"md-waves-effect icon slide",onClick:function(){return t.onToolbarClick("slide")}},e.createElement("i",{className:"fas fa-angle-double-right"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"帮助"},e.createElement("span",{className:"md-waves-effect icon help",onClick:function(){return t.onToolbarClick("help")}},e.createElement("i",{className:"fas fa-question"})))),e.createElement("div",{className:"tabs"},e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"标签搜索结果",class:"tag active"},e.createElement("span",{className:"md-waves-effect icon search",onClick:function(){return t.onToolbarClick("search")}},e.createElement("i",{className:"fas fa-search"})))),e.createElement("div",{className:"results"},e.createElement("div",{className:"search"},e.createElement(m.default,{placeholder:"含# → 搜索标签，不含# → 搜索标题，描述，备注",value:"tag"==this.props.type?"tag:"+this.props.tag:this.props.tag,onKeyDown:function(e){return t.changeShortcuts(e)}})),e.createElement("div",{className:"search_result","data-customscroll":"true"},n)))}}]),n}(e.Component);N.defaultProps={search:[],lock:!1,lock_icon:'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M284.444672 455.110656v-113.77664c0-125.67552 101.879808-227.556352 227.555328-227.556352s227.555328 101.879808 227.555328 227.555328v113.777664h71.11168c23.564288 0 42.665984 19.10272 42.665984 42.667008v369.777664c0 23.564288-19.101696 42.667008-42.665984 42.667008H213.332992c-23.564288 0-42.665984-19.10272-42.665984-42.667008v-369.77664c0-23.565312 19.101696-42.668032 42.665984-42.668032h71.11168z m85.332992 0H654.22336v-113.77664c0-78.547968-63.675392-142.22336-142.222336-142.22336-78.546944 0-142.222336 63.675392-142.222336 142.22336v113.77664z" fill="#f55246"></path></svg>'},t.Render=p}).call(t,n(2),n(7),n(13))},367:function(e,t,n){(function(e,o,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e,t,n,o,a){ve=new q.default,R.storage.unread=n,a?ve.collection=n:ve.unread=R.storage.unread,he=o,be=e,t&&!n.items&&(!n.annotations||n.annotations&&0==n.annotations.length)&&(be="iframe"),$(".container").find(".embeder").length>0&&($(".container .embeder").addClass("hide"),setTimeout(function(){$(".container .embeder:first").remove()},300)),$(".previewgp .container").append('<div class="embeder"><div class="tptoolbargp"></div><div class="mode"></div><div class="btmtoolbargp"></div></div>'),a?p():"iframe"==be?c(n.url):d(n),$(".container").find(".cover").length>0&&($(".container .embeder").addClass("add"),$(".container .cover").addClass("hide"),setTimeout(function(){return $(".container .embeder").addClass("show")},10),setTimeout(function(){$(".container .cover").remove(),$(".container .embeder").removeClass("add show")},300)),$(window).one("message",function(e){"complete"==e.originalEvent.data.status&&(R.storage.pr=new j.default,R.storage.pr.current=e.originalEvent.data.data)}),C()}function c(){$(".embeder .mode").html('<iframe src="'+I.browser.runtime.getURL("unreader/loader.html?url="+R.storage.unread.url)+'" width="100%" height="100%" frameborder="0"></iframe>'),m("iframe"),g("iframe")}function d(){R.storage.pr=new j.default,R.storage.pr.current={site:{avatar:[{name:"",url:""}]}};var t=function(t,n){if("remove"==t)R.storage.unread=n,ve.unread=R.storage.unread,R.storage.UnRead("update",ve.unread,function(e){he(ve.unread)});else if("editor"==t)v(n,void 0);else if("multiple"==t)m("annote",n);else if("tags"==t)he(n,t);else if("search_tag"==t)he(n,t);else if("export"==t){var o=R.storage.unread.annotations.findIndex(function(e){return e.id==n});pe.Render(R.storage.unread.title,void 0,R.storage.unread,[R.storage.unread.annotations[o]],"annote")}else"backlinks"==t?B.auth.lock?_(t):fe.Render(R.storage.unread,n,"annote",function(t,n){"update"==t&&((new e).Render(1,"保存成功。"),ve.unread=n,R.storage.unread=n,E($.extend(!0,{},n)))}):"open_backlink"==t&&he(n,t)};$(".embeder:last .mode").html('<div class="annotegp" customscroll></div>'),o.render(a.createElement(te.default,{unread:R.storage.unread,onAction:function(e,n){return t(e,n)},onRemove:function(e){return S("remove",e)}}),$(".embeder:last .annotegp")[0]),m("annote"),g("annote")}function p(){var e=function(e,t){if("remove"==e)ve.collection=t,ve.WriteCollection(0==ve.collection.id?"add":"update",ve.collection,function(e){});else if("editor"==e)x(t);else if("multiple"==e)m("collection",t);else if("ctags"==e)he(t,e);else if("export"==e){var n={};n=t.unread,n.annotations=t.annotations;var o=n.annotations.findIndex(function(e){return e.id==t.id});pe.Render(n.title,n.desc,n,[n.annotations[o]],"annote")}};$(".embeder:last .mode").html('<div class="annotegp" type="collection" customscroll></div>'),o.render(a.createElement(oe.default,{collection:ve.collection,onAction:function(t,n){return e(t,n)}}),$(".embeder:last .annotegp")[0]),m("collection"),g("collection")}function u(e){xe&&(xe.destroy(),xe=void 0),xe=(0,z.default)([$(".annote-fields")[0]]).on("out",function(){var t=$.extend(!0,[],e);$(".annote-fields").children().map(function(n,o){e[n]=t.filter(function(e){return e.id==o.attributes["data-id"].value})[0]}),R.storage.unread.annotations=e,ve.unread=R.storage.unread,R.storage.UnRead("update",ve.unread,function(e){he(ve.unread)})})}function f(){xe&&(xe.destroy(),xe=void 0);var e=[];$(".annote-group").map(function(t,n){return e.push(n)}),xe=(0,z.default)(e,{invalid:function(e){var t=$(e);return!!(t.hasClass("origin")||t.hasClass("favicon")||t.hasClass("subtitle"))},accepts:function(e,t){return $(e).attr("data-root-idx")==$(t).attr("data-idx")}}).on("out",function(e){var t=$(e),n=t.attr("data-root-idx"),o=$(".annote-group")[n],a=ve.collection.items[n].annotations,r=$.extend(!0,[],a);$(o).find(".annote-field").map(function(e,t){a[e]=r.filter(function(e){return e.id==t.attributes["data-id"].value})[0]}),R.storage.Collections("update",ve.collection,function(e){})})}function m(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=function(n,o){if("max"==n)$(".previewgp").toggleClass("max");else if("full"==n)document.documentElement.requestFullscreen();else if("mini"==n)document.exitFullscreen();else if("highlight"==n)$("body").find("iframe").contents().find("sr-annote-trigger").click();else if("editor"==n)"collection"==t?x({idx:-1,annotation:[]},"collection"):v(R.storage.unread.idx,void 0,"unread");else if("archive"==n)$(".list-field[data-idx="+R.storage.unread.idx+"]").find(".icon.archive")[0].click();else if("delete"==n){var a=$(".list-field[data-idx="+R.storage.unread.idx+"]").find(".icon.remove");"on"==!a.attr("data-confrim")?a.attr("data-confrim","on"):a.click()}else if("multiple"==n)$(".annotegp .annote")[0].dispatchEvent(new CustomEvent("multiple_remove"));else if("collections"==n)B.auth.lock?_(n):(k(),N(n));else if("link"==n)B.auth.lock?_(n):N("now",function(e){!B.auth.lock&&!e&&w(t)});else if(n.startsWith("drag::"))if(B.auth.lock)_("drag");else{"annote"==t?u(R.storage.unread.annotations):f(),N("drag");var r="true"==n.replace("drag::","");r||(xe&&xe.destroy(),xe=void 0)}else if("exports"==n)void 0==R.storage.option.unreader.exports&&(R.storage.option.unreader.exports={}),R.storage.option.unreader.exports[o.type]=o.value,R.storage.Write(function(){});else if("clear"==n)0==$("head .sr-unread-clear").length?($("iframe").contents().find("head").append('<style class="sr-unread-clear" type="text/css">sr-annote-sidebar-bg{display:none}.sr-annote,sr-annote{background:0 0!important;border-bottom:0!important}sr-annote-floating{display:none}sr-rd-content{pointer-events:none;}</style>'),$("head").append('<style class="sr-unread-clear" type="text/css">.embeder .toolbar .icon{color:var(--text-color)!important;background-color:transparent!important}.trigger{transition:all .45s cubic-bezier(.23,1,.32,1) 0s;opacity:0!important}.trigger:hover{opacity:1!important}</style>')):($("iframe").contents().find("head .sr-unread-clear").remove(),$("head .sr-unread-clear").remove());else if("mindmap"==n)ce.Render([R.storage.unread]);else if("backlinks"==n){if(B.auth.lock)return void _(n);fe.Render(R.storage.unread,{},"unread",function(t,n){"update"==t&&((new e).Render(1,"保存成功。"),ve.unread=n,R.storage.unread=n,E($.extend(!0,{},n)))})}else if("graphview"==n){if(B.auth.lock)return void _(n);fe.Graph(R.storage.unread,function(e,t){"open_unread"==e?he(t,"open_backlink"):"search_tag"==e&&he(t,"search_tag")})}else"info"==n?ge.Render([R.storage.unread],".annotegp .annote",function(e,t){"open_unread"==e?he(t,"open_backlink"):"search_tag"==e&&he(t,"search_tag")}):h(n,"collection"==t)};o.render(a.createElement(re.default,{exports:R.storage.option.unreader.exports||{},lock:B.auth.lock,multiple:n,archive:"collection"!=t&&R.storage.unread.archive,type:t,highlight:!R.storage.option.annote.off,onAction:function(e,t){return r(e,t)}}),$(".embeder:last .tptoolbargp")[0])}function g(e){var t="collection"!=e?R.storage.unread.idx:ve.collection.id,n=$(".list-field[data-idx="+t+"]").prev().attr("data-idx"),r=$(".list-field[data-idx="+t+"]").next().attr("data-idx"),i=function(e){"prev"==e?n&&$(".list-field[data-idx="+t+"]").prev().click():"next"==e?r&&$(".list-field[data-idx="+t+"]").next().click():"open"==e?I.browser.runtime.sendMessage(D.Add(D.MESSAGE_ACTION.new_tab,{url:R.storage.unread.url})):"annote"==e?(be=e,d()):"iframe"==e&&(be=e,c())};o.render(a.createElement(se.default,{type:e,prev:n,next:r,onAction:function(e){return i(e)}}),$(".embeder:last .btmtoolbargp")[0]),1==R.storage.option.unreader.bottom&&$(".btmtoolbargp").addClass("active")}function b(e,t,n,o){if("both"==R.storage.option.annote.exp_mode){if(R.storage.option.annote.export=!1,!["html","offlinehtml","markdown","offlinemarkdown","markdeep","epub","pdf","textbundle"].includes(e))return!0;if(e.startsWith("automated_")||e.startsWith("webhook_"))return!0;R.storage.unread&&R.storage.unread.annotations&&R.storage.unread.annotations.length>0&&setTimeout(function(){R.storage.option.annote.export=!0,U.Action(e,t,n,o)},400)}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=void 0,o=void 0,a=void 0,r=void 0,i=void 0,s=function(){if(0==$(".annote-fields .actionbar .icon.select.active").length)return R.storage.unread.annotations||[];var e=function(){var e=[];return $(".annote-fields .actionbar .icon.select.active").map(function(t,n){var o=$(n).parent().parent().parent().attr("data-id");e=e.concat(R.storage.unread.annotations.filter(function(e){return e.id==o}))}),{v:e}}();return"object"===("undefined"==typeof e?"undefined":T(e))?e.v:void 0};if("iframe"==be){var l=$("body").find("iframe").contents();r=$("body").find("iframe")[0].src.replace(/chrome-extension:\/\/[\w\/.?]+=/i,""),n=l.find("sr-rd-title").text(),o=l.find("sr-rd-desc").text(),a=l.find("sr-rd-content").html(),i=void 0,b(e,n,o,a)}else 0==t?(r=R.storage.unread.url,n=R.storage.unread.title,o=R.storage.unread.desc,a=s(),i="force"):(r="简悦 · 合辑",n=ve.collection.title,o=ve.collection.desc,a=[],ve.collection.items.forEach(function(e){var t={};t=e.unread,t.annotations=e.annotations,a.push(t)}),i="annote",t=!0,R.storage.pr={current:{site:{avatar:[{name:"",url:""}]}}});U.Action(e,n,o,a,i,t,r)}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"annote";ve.GetAllTags(),"annote"==n&&ve.FindAnnote(e),V.Render(B.auth.lock,{data:"annote"==n?ve.annote:ve.unread,alltags:ve.tags,focus:t,mode:n},function(t){"unread"==n?!function(){var e="remove"==t?ve.unread.idx:t,n="remove"==t?"remove":"update";R.storage.UnRead(n,e,function(e){"update"==n&&(ve.unread=t),"update"==n&&(R.storage.unread=t),"update"==n&&E($.extend(!0,{},ve.unread))})}():(ve.type="update","remove"==t?(S("remove",e),ve.RemoveAnnote(e,function(e){E()})):(S("update",t.id,t.note,t.tags),0==t.color&&(t.color=1),ve.Update(t,function(e){E()})))},function(e){})}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"annote",n=e.idx,o=e.annotation;ve.GetCollectionsAllTags(),V.Render(B.auth.lock,{data:"annote"==t?o:ve.collection,alltags:ve.ctags,focus:void 0,mode:t},function(e){if("collection"==t&&"remove"==e)!function(){var e=$(".list-field[data-idx="+ve.collection.id+"]").find(".actionbar .icon.remove")[0];e.click(),setTimeout(function(){return e.click()},100)}();else if("remove"==e){o.removed=!0;var a=ve.collection.items[n].annotations.findIndex(function(e){return e.removed});a!=-1&&ve.collection.items[n].annotations.splice(a,1)}else 0==e.color&&(e.color=1),ve.WriteCollection(0==ve.collection.id?"add":"update",e,function(n){ve.collection=e,$('.annotegp .annote[data-type="collection"]')[0].dispatchEvent(new CustomEvent("refresh",{detail:e})),"collection"==t&&he(ve.collection)})},function(e){})}function k(){var t=$.extend(!0,{},ve.unread),n={annotations:[],unread:t};return delete n.unread.annotations,$(".annote-field").find(".icon.select.active").map(function(e,t){var o=$(t).parent().parent().parent().attr("data-id"),a=R.storage.unread.annotations.filter(function(e){return e.id==o});a[0]&&n.annotations.push(a[0])}),0==n.annotations.length?void(new e).Render(2,"请先通过下方选择需要导入到合辑中的标注。"):void J.Render(ve,function(t){if(t.items){var o=t.items.findIndex(function(e){return e.unread.idx==n.unread.idx});o==-1?t.items.push(n):!function(){var e=new Map;t.items[o].annotations.forEach(function(t){return e.set(t.id,t)}),n.annotations.forEach(function(t){return!e.has(t.id)&&e.set(t.id,t)}),t.items[o].annotations=[].concat(s(e.values()))}()}else t.items=[],t.items.push(n);ve.WriteCollection(0==t.id?"add":"update",t,function(t){ve.collections=R.storage.collections,he(ve.collections,"navigate"),(new e).Render(1,"添加成功，请点击左侧合辑查看。")})})}function w(e){Z.Render(R.storage.unread,R.storage.user.uid,function(t){"annote"==e?R.storage.UnRead("update",t,function(e){R.storage.unread=t,t.share?(he(R.storage.unread,"refresh"),$(".navigate .nav.active i.fas.fa-link").length>0&&$(".list-field[data-idx="+t.idx+"]").css("opacity",1)):$(".navigate .nav.active i.fas.fa-link").length>0&&$(".list-field[data-idx="+t.idx+"]").css("opacity",.3)}):ve.WriteCollection("update",t,function(e){R.storage.unread=t})})}function y(){void 0==ve&&(ve=new q.default),ve.unread=R.storage.unread}function E(e){void 0==ve&&y(),he&&he(ve.unread),e&&(ve.unread=$.extend(!0,{},e)),$('.annotegp .annote[data-idx="'+ve.unread.idx+'"]').length>0&&$('.annotegp .annote[data-idx="'+ve.unread.idx+'"]')[0].dispatchEvent(new CustomEvent("refresh",{detail:ve.unread})),$(".simpread-panel .results").length>0&&$(".simpread-panel .results")[0].dispatchEvent(new CustomEvent("refresh",{detail:ve.unread})),$(".graph-group").length>0&&$('.graph-view[data-idx="'+ve.unread.idx+'"]')[0].dispatchEvent(new CustomEvent("refresh",{detail:ve.unread})),$(".treenotes").length>0&&$(".treenotes .treenotes-group[data-idx="+ve.unread.idx+"]")[0].dispatchEvent(new CustomEvent("refresh",{detail:ve.unread})),$(".kanban").length>0&&$(".kanban")[0].dispatchEvent(new CustomEvent("refresh",{detail:ve.unread}))}function C(){["palenight","dark","night"].includes(R.storage.option.unreader.theme)?$("head").append('<style class="sr-highlight-dark">.hljs{display:block;overflow-x:auto;padding:.5em;background:#444}.hljs-keyword,.hljs-link,.hljs-literal,.hljs-section,.hljs-selector-tag{color:#fff}.hljs,.hljs-subst{color:#ddd}.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-bullet,.hljs-name,.hljs-string,.hljs-symbol,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#d88}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#777}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-strong,.hljs-title,.hljs-type{font-weight:700}.hljs-emphasis{font-style:italic}</style>'):$("head .sr-highlight-dark").remove(),$.ajax({url:"http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"}).then(function(e){document.querySelectorAll("pre").forEach(function(e){hljs&&hljs.highlightBlock(e)})})}function A(e){ve&&(ve.unread=e),R.storage.unread=e}function _(e){he(e,"lock")}function N(e,t){var n=function(e,t,n){H.Render(e,t,n,function(e){"contact"==e.type&&I.browser.runtime.sendMessage(D.Add(D.MESSAGE_ACTION.new_tab,{url:"https://wj.qq.com/s2/6361600/a19b/"}))})};return B.auth.lock?void n("lock",B.auth.lock_status,B.auth.code[B.auth.lock_status]):void I.browser.runtime.sendMessage(D.Add(D.MESSAGE_ACTION.verify_rule,{type:e,uid:R.storage.user.uid}),function(e){e&&(B.auth.lock=!0,B.auth.lock_status=e.status,n("lock",e.code,B.auth.code[e.status])),t&&t(e)})}function S(e,t,n,o,a){W.Verify()&&W.Run(!1,function(r){U.isSyncAction(r)&&U.Sync(r,e,t,n,o,a,ve.unread.url)})}Object.defineProperty(t,"__esModule",{value:!0}),t.postMessage=t.setUnrdist=t.popupRender=t.UpdateRead=t.Exports=t.Render=void 0;var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(146),n(684);var O=n(129),z=i(O),M=n(56),j=i(M),R=n(4),I=n(3),P=n(6),D=r(P),L=n(52),U=r(L),B=n(21),F=n(73),W=r(F),G=n(72),H=r(G),Y=n(88),q=i(Y),X=n(130),V=r(X),K=n(363),J=r(K),Q=n(372),Z=r(Q),ee=n(256),te=i(ee),ne=n(369),oe=i(ne),ae=n(370),re=i(ae),ie=n(368),se=i(ie),le=n(164),ce=r(le),de=n(162),pe=r(de),ue=n(119),fe=r(ue),me=n(163),ge=r(me),be="annote",he=void 0,ve=void 0,xe=void 0;t.Render=l,t.Exports=h,t.UpdateRead=A,t.popupRender=v,t.setUnrdist=y,t.postMessage=E}).call(t,n(7),n(13),n(2))},368:function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(t){function i(){return n(this,i),o(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return a(i,t),r(i,[{key:"onClick",value:function(e){["annote","iframe"].includes(e)&&($(".btmtoolbar .tab").removeClass("active"),$(this.refs[e]).addClass("active")),this.props.onAction(e)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.type,n=e.prev,o=e.next;!n&&$(this.refs.prev).removeClass("md-waves-effect"),!o&&$(this.refs.next).removeClass("md-waves-effect"),$(this.refs[t]).addClass("active"),"collection"==this.props.type&&($(this.refs.annote).remove(),$(this.refs.iframe).remove(),$(this.refs.open).remove())}},{key:"render",value:function(){var t=this;return e.createElement("div",{className:"btmtoolbar"},e.createElement("span",{ref:"prev",className:"md-waves-effect tab prev","data-disable":!this.props.prev,onClick:function(){return t.onClick("prev")}},e.createElement("i",{className:"fas fa-long-arrow-alt-left"})," 前一篇"),e.createElement("span",{ref:"annote",className:"md-waves-effect tab annote","data-disable":"false",onClick:function(){return t.onClick("annote")}},e.createElement("i",{className:"fas fa-highlighter"}),"标注模式"),e.createElement("span",{ref:"iframe",className:"md-waves-effect tab iframe","data-disable":"false",onClick:function(){return t.onClick("iframe")}},e.createElement("i",{className:"fab fa-readme"}),"阅读模式"),e.createElement("span",{ref:"open",className:"md-waves-effect tab open","data-disable":"false",onClick:function(){return t.onClick("open")}},e.createElement("i",{className:"fas fa-external-link-alt"}),"原始页面"),e.createElement("span",{ref:"next",className:"md-waves-effect tab next","data-disable":!this.props.next,onClick:function(){return t.onClick("next")}},e.createElement("i",{className:"fas fa-long-arrow-alt-right"})," 后一篇"))}}]),i}(e.Component);i.defaultProps={type:void 0,prev:void 0,next:void 0},t.default=i}).call(t,n(2))},369:function(e,t,n){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(t){function i(){var e,t,a,r;n(this,i);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return t=a=o(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(l))),a.state={collection:a.props.collection,items:a.props.collection.items||[],confrim:-1},r=t,o(a,r)}return a(i,t),r(i,[{key:"onRemoveClick",value:function(e,t){var n=this;this.state.confrim==t?!function(){var e=$(".annote-field[data-id="+t+"]"),o=e;e.css({height:o}).animate({height:0},function(){setTimeout(function(){var o=-1;n.state.items.forEach(function(e,n){var a=e.annotations,r=a.findIndex(function(e){return e.id==t});r!=-1&&(a.splice(r,1),0==a.length&&(o=n))}),o!=-1&&n.state.items.splice(o,1),n.setState({items:n.state.items}),e.removeAttr("style"),n.props.onAction("remove",n.state.collection)},200)})}():($(e.currentTarget).addClass("active"),this.setState({confrim:t}))}},{key:"onSelectClick",value:function(e,t){$(".annote-field[data-id="+t+"]").find(".actionbar .select").toggleClass("active"),0==$(".annote-field").find(".actionbar .select.active").length?($(".annote-field").find(".actionbar").removeClass("show").find(".select").removeClass("show"),this.props.onAction("multiple",!1)):($(".annote-field").find(".actionbar").addClass("show").find(".select").addClass("show"),this.props.onAction("multiple",!0))}},{key:"onMultipleRemove",value:function(){for(var e=this,t=0,n=$(".annote-field").find(".actionbar .select.active").length,o=function(){t++,t==n&&setTimeout(function(){$(".annote-field[sr-removed]").removeAttr("style"),$(".annote-field .actionbar").removeClass("show"),$(".annote-field .actionbar .select").removeClass("active"),e.setState({items:e.state.items}),e.props.onAction("remove",e.state.collection)},200)},a=function(t){var n=$($(".annote-field").find(".actionbar .select.active")[t]).parent().parent().parent().attr("data-id"),a=$(".annote-field[data-id="+n+"]"),r=a;a.css({height:r}).animate({height:0},function(){var t=-1;e.state.items.forEach(function(e,o){var a=e.annotations,r=a.findIndex(function(e){return e.id==n});r!=-1&&(a.splice(r,1),0==a.length&&(t=o))}),t!=-1&&e.state.items.splice(t,1),a.attr("sr-removed",!0),o()})},r=0;r<n;r++)a(r)}},{key:"onTagClick",value:function(e){this.props.onAction("ctags",e)}},{key:"componentDidMount",value:function(){var e=this;0==this.state.items.length&&$(this.refs.target).css({height:"100%"}),$(this.refs.target)[0].addEventListener("refresh",function(t){e.setState({collection:t.detail})}),$(this.refs.target)[0].addEventListener("multiple_remove",function(t){e.onMultipleRemove()})}},{key:"render",value:function(){var t=this,n=this.state.collection,o=n.tags&&n.tags.map(function(n,o){return e.createElement("div",{className:"annote-tag",onClick:function(){return t.onTagClick(n)}},n.replace(/(\/+)/gi," $1 "))}),a=this.state.items.map(function(n,o){var a=n.annotations,r=n.unread,i=a.map(function(n,i){var s=void 0,l=void 0,c=void 0;return l=n.tags&&n.tags.map(function(n,o){return e.createElement("div",{className:"annote-tag md-waves-effect",onClick:function(){return t.onTagClick(n)}},"#"+n.replace(/(\/+)/gi," $1 "))}),"paragraph"==n.type?s=n.text:"img"==n.type?s=e.createElement("img",{src:n.text}):"code"==n.type&&(s=e.createElement("pre",{ref:"code",dangerouslySetInnerHTML:{__html:n.text.replace(/</gi,"&lt;").replace(/>/gi,"&gt;")}})),e.createElement("sr-div",{class:"annote-field","data-root-idx":o,"data-idx":i,"data-id":n.id,"sr-annote-bl-color":!0,"data-color-type":n.color,type:n.type},e.createElement("div",{className:"annote-content",style:c},s),n.tags&&n.tags.length>0&&e.createElement("div",{className:"annote-tags"},l),n.note&&e.createElement("div",{className:"annote-note"},n.note),e.createElement("div",{className:"actionbar"},e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"导出"},e.createElement("span",{className:"md-waves-effect icon export",onClick:function(){return t.props.onAction("export",{id:n.id,annotations:a,unread:r})}},e.createElement("i",{className:"fas fa-download"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"编辑"},e.createElement("span",{className:"md-waves-effect icon editor",onClick:function(){return t.props.onAction("editor",{idx:o,
annotation:n})}},e.createElement("i",{className:"fas fa-pen"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"删除"},e.createElement("span",{className:"md-waves-effect icon remove",onClick:function(e){return t.onRemoveClick(e,n.id)}},e.createElement("i",{className:"fas fa-times"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"up","aria-label":"选中"},e.createElement("span",{className:"md-waves-effect icon select",onClick:function(e){return t.onSelectClick(e,n.id)}},e.createElement("i",{className:"fas fa-check"})))))});return e.createElement("div",{className:"annote-group","data-idx":o,"data-id":r.idx},r.title&&e.createElement("div",{className:"origin"},r.favicon&&r.favicon.startsWith("http")&&e.createElement("img",{className:"favicon",src:r.favicon}),e.createElement("a",{href:r.url,target:"_blank",className:"subtitle"},r.title)),i)});return e.createElement("div",{className:"annote","data-type":"collection",ref:"target"},e.createElement("div",{className:"info"},e.createElement("span",{className:"date"},n.create)),e.createElement("div",{className:"annote-tags"},o),n.title&&e.createElement("div",{className:"title"},n.title),n.desc&&e.createElement("div",{className:"desc"},n.desc),n.note&&e.createElement("div",{className:"note"},n.note),e.createElement("div",{className:"dividers"}),a.length>0?e.createElement("div",{className:"annote-fields"},a):e.createElement("div",{className:"empty"},e.createElement("img",{src:location.origin+"/unreader/assets/images/404.svg"}),"当前没有任何标注，请通过下方选择阅读模式进行标注。"))}}]),i}(e.Component);i.defaultProps={collection:void 0},t.default=i}).call(t,n(2))},370:function(e,t,n){(function(e,o){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(32),u=r(p),f=n(64),m=a(f),g=function(t){function n(){var e,t,o,a;i(this,n);for(var r=arguments.length,l=Array(r),d=0;d<r;d++)l[d]=arguments[d];return t=o=s(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),o.state={full:!1,dropdown:!1,confrim:!1,exports:c({html:!0,markdown:!0,offlinehtml:!0,pdf:!0},o.props.exports)},a=t,s(o,a)}return l(n,t),d(n,[{key:"onToolbarChange",value:function(e,t){this.state.exports[e]=t,this.setState({exports:this.state.exports}),this.props.onAction("exports",{type:e,value:t})}},{key:"onDropdownClick",value:function(){var e=this,t=0;this.state.dropdown&&($(this.refs.dropdown).addClass("close"),t=500),setTimeout(function(){return e.setState({dropdown:!e.state.dropdown})},t)}},{key:"onClick",value:function(e){if("max"==e)$(".embeder .toolbar .icon.max").toggleClass("active");else if("full"==e)$(".embeder .toolbar .icon.full").toggleClass("active"),e=this.state.full?"mini":"full",this.setState({full:!this.state.full});else if("highlight"==e)$(".embeder .toolbar .icon.highlight").toggleClass("active");else{if("remove"==e)return void(new o).Render({type:2,content:"请先选中标注后使用此功能，如需删除整个稍后读的话，请使用 <b>下一个 icon</b>",state:"holdon"});if("delete"==e)$(".embeder .toolbar .icon.delete").hasClass("active")||$(".embeder .toolbar .icon.delete").addClass("active");else if("multiple"==e)$(".embeder .toolbar .icon.remove").attr("data-multiple",!1),this.props.multiple=!1,this.setState({confrim:!1});else if("drag"==e)!this.props.lock&&$(".embeder .toolbar .icon.drag").toggleClass("active"),e=e+"::"+$(".embeder .toolbar .icon.drag").hasClass("active");else{if("selectall"==e)return $(".toolbar .icon.selectall").hasClass("active")?($(".annote-fields .actionbar").removeClass("show"),$(".annote-fields .actionbar .icon.select").removeClass("active show")):(!$(".annote-fields .actionbar").hasClass("show")&&$(".annote-fields .actionbar").addClass("show"),!$(".annote-fields .actionbar .icon.select").hasClass("active")&&$(".annote-fields .actionbar .icon.select").addClass("active show")),void $(".toolbar .icon.selectall").toggleClass("active");"clear"==e&&$(".toolbar .icon.max").click()}}this.props.onAction(e)}},{key:"render",value:function(){var t=this,n=Object.keys(this.state.exports).filter(function(e){return 1==t.state.exports[e]}).map(function(n){var o=m.getAllService().filter(function(e){return e.value==n}),a=m.findService(o[0].value);return e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":o[0].name},a.icon.startsWith("<i")?e.createElement("span",{className:"md-waves-effect icon image "+o[0].value,style:{backgroundColor:a.color},dangerouslySetInnerHTML:{__html:a.icon},onClick:function(){return t.onClick(o[0].value)}}):e.createElement("span",{className:"md-waves-effect icon image "+o[0].value,style:{backgroundColor:a.color,backgroundImage:"url("+a.icon+")"},onClick:function(){return t.onClick(o[0].value)}}))}),o=this.state.dropdown&&m.getAllService().map(function(n,o){var a=m.findService(n.value);return e.createElement("span",{className:"group"},a.icon.startsWith("<i")?e.createElement("span",{className:"namelogo "+n.value,style:{backgroundColor:a.color},dangerouslySetInnerHTML:{__html:a.icon}}):e.createElement("span",{className:"namelogo "+n.value,style:{backgroundColor:a.color,backgroundImage:"url("+a.icon+")"}}),e.createElement(u.default,{width:"100%",checked:t.state.exports[n.value],thumbedColor:"#3F51B5",trackedColor:"#7986CB",waves:"md-waves-effect",label:n.name,onChange:function(e){return t.onToolbarChange(n.value,e)}}))});return e.createElement("div",{className:"toolbar"},e.createElement("sr-tooltip",{class:"floating","data-balloon-pos":"down","data-balloon-order":"downleft","aria-label":"缩进左侧"},e.createElement("span",{className:"md-waves-effect icon max",onClick:function(){return t.onClick("max")}},e.createElement("i",{className:"fas fa-arrow-left"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"信息",class:"info"},e.createElement("span",{className:"md-waves-effect icon info",onClick:function(){return t.onClick("info")}},e.createElement("i",{className:"fas fa-info"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"全屏"},e.createElement("span",{className:"md-waves-effect icon full",onClick:function(){return t.onClick("full")}},e.createElement("i",{className:this.state.full?"fas fa-compress":"fas fa-expand"}))),"iframe"==this.props.type&&e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"清爽模式"},e.createElement("span",{className:"md-waves-effect icon clear",onClick:function(){return t.onClick("clear")}},e.createElement("i",{className:"fas fa-dot-circle"}))),"annote"==this.props.type&&e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"加入到合辑"},e.createElement("span",{className:"md-waves-effect icon collections",onClick:function(){return t.onClick("collections")},dangerouslySetInnerHTML:{__html:this.props.lock?this.props.lock_icon:'<i class="fas fa-layer-group"></i>'}})),e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"分享页"},e.createElement("span",{className:"md-waves-effect icon link",onClick:function(){return t.onClick("link")},dangerouslySetInnerHTML:{__html:this.props.lock?this.props.lock_icon:'<i class="fas fa-link"></i>'}})),"iframe"!=this.props.type&&e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"图谱"},e.createElement("span",{className:"md-waves-effect icon graphview",onClick:function(){return t.onClick("graphview")},dangerouslySetInnerHTML:{__html:this.props.lock?this.props.lock_icon:'<i class="fas fa-vector-square"></i>'}})),"iframe"!=this.props.type&&e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"反向链接"},e.createElement("span",{className:"md-waves-effect icon backlinks",onClick:function(){return t.onClick("backlinks")},dangerouslySetInnerHTML:{__html:this.props.lock?this.props.lock_icon:'<i class="fab fa-hubspot"></i>'}})),"iframe"!=this.props.type&&e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"思维导图"},e.createElement("span",{className:"md-waves-effect icon drag",onClick:function(){return t.onClick("mindmap")}},e.createElement("i",{className:"fas fa-sitemap"}))),"iframe"!=this.props.type&&e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"排序"},e.createElement("span",{className:"md-waves-effect icon drag",onClick:function(){return t.onClick("drag")},dangerouslySetInnerHTML:{__html:this.props.lock?this.props.lock_icon:this.props.drag_icon}})),"iframe"!=this.props.type&&e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"全选"},e.createElement("span",{className:"md-waves-effect icon selectall",onClick:function(){return t.onClick("selectall")}},e.createElement("i",{className:"fas fa-check-double"}))),"iframe"!=this.props.type&&e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"编辑"},e.createElement("span",{className:"md-waves-effect icon editor",onClick:function(){return t.onClick("editor")}},e.createElement("i",{className:"fas fa-pen"}))),"collection"!=this.props.type&&e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"归档"},e.createElement("span",{className:"md-waves-effect icon archive",onClick:function(){return t.onClick("archive")}},e.createElement("i",{className:this.props.archive?"fas fa-folder-plus":"fas fa-archive"}))),"iframe"!=this.props.type&&e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"删除标注"},e.createElement("span",{className:"md-waves-effect icon remove","data-multiple":this.props.multiple,onClick:function(){return t.onClick(t.props.multiple?"multiple":"remove")}},e.createElement("i",{className:"fas fa-plus"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"删除稍后读"},e.createElement("span",{className:"md-waves-effect icon delete",onClick:function(){return t.onClick("delete")}},e.createElement("i",{className:"fas fa-trash"}))),"iframe"==this.props.type&&e.createElement("sr-tooltip",{"data-balloon-pos":"down","aria-label":"启用高亮"},e.createElement("span",{className:"md-waves-effect icon highlight"+(this.props.highlight?" active":""),onClick:function(){return t.onClick("highlight")}},e.createElement("i",{className:"fas fa-highlighter"}))),n,e.createElement("span",{className:"md-waves-effect icon more",onClick:function(){return t.onDropdownClick()}},e.createElement("i",{className:"fas fa-ellipsis-h"})),this.state.dropdown&&e.createElement("div",{ref:"dropdown",className:"dropdown","data-customscroll":!0},o),this.state.dropdown&&e.createElement("div",{className:"dropdowngp",onClick:function(){return t.onDropdownClick()}}))}}]),n}(e.Component);g.defaultProps={type:void 0,highlight:!1,archive:!1,multiple:!1,drag_icon:'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M307.16928 722.6368V307.2a68.27008 68.27008 0 0 1 136.52992 0v201.32864l185.37472 52.96128c36.096 10.3424 59.5968 48.896 52.23424 85.69856L626.432 921.6H313.0368L122.39872 730.94144a68.25984 68.25984 0 0 1 0-96.54272 68.25984 68.25984 0 0 1 96.54272 0l88.22784 88.23808z" p-id="2783" fill="#ffffff"></path><path d="M921.6 204.8H552.6016c-35.4304-61.14304-101.39648-102.4-177.2032-102.4-113.02912 0-204.72832 91.8016-204.72832 204.8 0 29.53216 6.4 57.52832 17.63328 82.90304l63.30368-26.24512c-7.92576-17.29536-12.65664-36.4032-12.65664-56.65792 0-75.33568 61.1328-136.54016 136.45824-136.54016C450.8672 170.67008 512 231.86432 512 307.2c0 18.50368-3.76832 36.12672-10.46528 52.23424l63.13984 26.13248a204.25728 204.25728 0 0 0 15.59552-78.35648c0-11.6736-1.19808-22.99904-3.072-34.14016H921.6V204.8z" fill="#ffffff"></path></svg>',lock:!1,lock_icon:'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M284.444672 455.110656v-113.77664c0-125.67552 101.879808-227.556352 227.555328-227.556352s227.555328 101.879808 227.555328 227.555328v113.777664h71.11168c23.564288 0 42.665984 19.10272 42.665984 42.667008v369.777664c0 23.564288-19.101696 42.667008-42.665984 42.667008H213.332992c-23.564288 0-42.665984-19.10272-42.665984-42.667008v-369.77664c0-23.565312 19.101696-42.668032 42.665984-42.668032h71.11168z m85.332992 0H654.22336v-113.77664c0-78.547968-63.675392-142.22336-142.222336-142.22336-78.546944 0-142.222336 63.675392-142.222336 142.22336v113.77664z" fill="#f55246"></path></svg>'},t.default=g}).call(t,n(2),n(7))},371:function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(t,n,o){!u.Popup(y)&&u.Open(e.createElement(E,{lock:d.auth.lock,option:t,option_sync:n,themes:k.GetBackgrounds(),onAction:function(e,t){return o(e,t)}}),w),$(".simpread-unreader-setting-root").on("click",function(e){e.target.className==w&&u.Close()})}Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(21),p=n(30),u=a(p),f=n(10),m=o(f),g=n(32),b=o(g),h=n(31),v=o(h),x=n(255),k=a(x),w="simpread-unreader-setting-root",y="."+w,E=function(t){function n(){var e,t,o,a;r(this,n);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return t=o=i(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),o.state={theme:o.props.option.theme},a=t,i(o,a)}return s(n,t),c(n,[{key:"onSaveClick",value:function(){this.props.onAction(this.props.option,this.props.option_sync),this.onClose()}},{key:"onChange",value:function(e,t){this.props.option[t]=e,this.props.onAction(this.props.option,this.props.option_sync)}},{key:"parseOnChange",value:function(e){this.props.option_sync.parse=e,this.props.onAction(this.props.option,this.props.option_sync)}},{key:"onThemeChange",value:function(e){k.Change(e),this.props.option.theme=e,this.setState({theme:e}),this.props.onAction(this.props.option,this.props.option_sync)}},{key:"onClose",value:function(){u.Close(".simpread-unreader-setting-root")}},{key:"componentDidMount",value:function(){$("dialog-content").css({"min-height":"100px"}),$("dialog-gp").css({"min-height":"initial","max-width":"740px"})}},{key:"render",value:function(){var t=this,n=this.props.themes.map(function(n){var o=n.id,a=n.name,r=n.colors,i=r.map(function(t){return e.createElement("sr-unreader-style-item",{style:{backgroundColor:t}})});return e.createElement("sr-unreader-theme",{id:o,onClick:function(){return t.onThemeChange(o)}},e.createElement("sr-unreader-label",null,a),e.createElement("sr-unreader-select",{dangerouslySetInnerHTML:{__html:t.state.theme==o?'<i class="fas fa-check"></i>':""}}),e.createElement("sr-unreader-style",null,i))});return e.createElement(u.Dialog,null,e.createElement(u.Content,null,e.createElement("sr-unreader",null,e.createElement("sr-unreader-gp",{type:"themes"},this.props.lock&&e.createElement("sr-unreader-lock",{dangerouslySetInnerHTML:{__html:this.props.lock_icon},onClick:function(){return t.props.onAction("lock")}}),n),e.createElement("sr-unreader-gp",null,e.createElement("sr-unreader-label",null,"打开某条未读列表后，默认显示为"),e.createElement(v.default,{name:"annote"==this.props.option.mode?"标注模式":"阅读模式",width:"80px",items:[{name:"标注模式",value:"annote"},{name:"阅读模式",value:"iframe"}],onChange:function(e,n){return t.onChange(e,"mode")}})),e.createElement("sr-unreader-gp",null,e.createElement(b.default,{width:"100%",checked:this.props.option.autoiframe,thumbedColor:"#3F51B5",trackedColor:"#7986CB",label:"当前未读无任何标注的话，是否直接转到阅读模式？",onChange:function(e){return t.onChange(e,"autoiframe")}})),e.createElement("sr-unreader-gp",null,e.createElement(b.default,{width:"100%",checked:this.props.option.sametheme,thumbedColor:"#3F51B5",trackedColor:"#7986CB",label:"当稍后读为深色模式时，进入阅读模式后是否也匹配深色模式？",onChange:function(e){return t.onChange(e,"sametheme")}})),e.createElement("sr-unreader-gp",null,e.createElement(b.default,{width:"100%",checked:this.props.option.bottom,thumbedColor:"#3F51B5",trackedColor:"#7986CB",label:"是否一直显示底栏？",desc:"默认为一直显示底栏，关闭后鼠标上移显示",onChange:function(e){return t.onChange(e,"bottom")}})),e.createElement("sr-unreader-gp",{style:{flexDirection:"column"}},this.props.lock&&e.createElement("sr-unreader-lock",{dangerouslySetInnerHTML:{__html:this.props.lock_icon},onClick:function(){return t.props.onAction("lock")}}),e.createElement(b.default,{width:"100%",checked:this.props.option_sync.parse,thumbedColor:"#3F51B5",trackedColor:"#7986CB",label:"是否使用简悦 · 同步助手内置的解析器？",desc:"当使用简悦 · 同步助手后会默认开启此选项，此功能可解析包含动态加载或 Latex 的页面",onChange:function(e){return t.parseOnChange(e)}}),e.createElement("div",{className:"subtitle"},"使用此方案的前提为 ",e.createElement("b",null,"高级账户")," 且已 ",e.createElement("b",null,"启用同步服务"),"，详细说明 ",e.createElement("a",{target:"_blank",href:"http://ksria.com/simpread/docs/#/Sync?id=同步"},"请看这里"),"。"),e.createElement("div",{className:"subtitle"},"使用此方案时加载时间原来的方案稍长，根据稍后读的文章类型选择是否开启，详细说明 ",e.createElement("a",{target:"_blank",href:"http://ksria.com/simpread/docs/#/Sync?id=内置解析"},"请看这里"),"。")),e.createElement("sr-unreader-gp",{style:{flexDirection:"column"}},this.props.lock&&e.createElement("sr-unreader-lock",{dangerouslySetInnerHTML:{__html:this.props.lock_icon},onClick:function(){return t.props.onAction("lock")}}),e.createElement(b.default,{width:"100%",checked:this.props.option.offline,thumbedColor:"#3F51B5",trackedColor:"#7986CB",label:"是否优先加载本地的离线文件？",onChange:function(e){return t.onChange(e,"offline")}}),e.createElement("div",{className:"subtitle"},"1. 启用后当进入 ",e.createElement("b",null,"稍后读 → 阅读模式")," 会优先加载 ",e.createElement("b",null,"本地已存在的 HTML"),"。"),e.createElement("div",{className:"subtitle"},"2. 当导出文件的名称为 ",e.createElement("code",null,"idx-title")," 或 ",e.createElement("code",null,"title")," 且在 ",e.createElement("code",null,"output")," 文件夹内时，即可使用此功能，详细说明 ",e.createElement("a",{target:"_blank",href:"https://github.com/Kenshin/simpread/discussions/2146"},"请看这里"),"。"),e.createElement("div",{className:"subtitle"},"3. 此功能专门用于 ",e.createElement("b",null,"加入稍后读但已经 404 的情况"),"，详细说明 ",e.createElement("a",{target:"_blank",href:"http://ksria.com/simpread/docs/#/稍后读?id=离线加载"},"请看这里"),"。"),e.createElement("div",{className:"subtitle"},"4. 如果想自动同步标注的改动，请使用 ",e.createElement("b",null,"自动化")," 方案，详细说明 ",e.createElement("a",{target:"_blank",href:"http://ksria.com/simpread/docs/#/稍后读?id=离线加载-标注自动同步"},"请看这里"),"。")))),e.createElement(u.Footer,null,e.createElement(m.default,{text:"保 存",waves:"md-waves-effect",color:"#fff",backgroundColor:"#F44336",onClick:function(){return t.onSaveClick()}}),e.createElement("div",{style:{width:"100%"}}),e.createElement(m.default,{text:"退 出",color:"#3498DB",waves:"md-waves-effect",onClick:function(){return t.onClose()}})))}}]),n}(e.Component);E.defaultProps={option_sync:void 0,lock:!0,lock_icon:'<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="15" height="15"><path d="M284.444672 455.110656v-113.77664c0-125.67552 101.879808-227.556352 227.555328-227.556352s227.555328 101.879808 227.555328 227.555328v113.777664h71.11168c23.564288 0 42.665984 19.10272 42.665984 42.667008v369.777664c0 23.564288-19.101696 42.667008-42.665984 42.667008H213.332992c-23.564288 0-42.665984-19.10272-42.665984-42.667008v-369.77664c0-23.565312 19.101696-42.668032 42.665984-42.668032h71.11168z m85.332992 0H654.22336v-113.77664c0-78.547968-63.675392-142.22336-142.222336-142.22336-78.546944 0-142.222336 63.675392-142.222336 142.22336v113.77664z" fill="#f55246"></path></svg>',onAction:void 0},E.propTypes={option:e.PropTypes.array,themes:e.PropTypes.array,onAction:e.PropTypes.func},t.Render=l}).call(t,n(2))},372:function(e,t,n){(function(e,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(t,n,o){!x.Popup(A)&&x.Open(e.createElement(_,{uid:n,unread:t,onAction:function(e){return o(e)}}),C),$(".simpread-sharelink-popup-root").on("click",function(e){e.target.className==C&&x.Close()}),u.ListenESC(function(e){"esc"==e&&x.Close()})}Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var d=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(41),u=r(p),f=n(3),m=n(6),g=r(m),b=n(74),h=r(b),v=n(30),x=r(v),k=n(10),w=a(k),y=n(14),E=a(y),C="simpread-sharelink-popup-root",A="."+C,_=function(t){function n(){var e,t,o,a;i(this,n);for(var r=arguments.length,l=Array(r),c=0;c<r;c++)l[c]=arguments[c];return t=o=s(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),o.state={share:o.props.unread.share,status:0,confrim:!1},a=t,s(o,a)}return l(n,t),d(n,[{key:"request",value:function(e,t,n){var a=this;$.ajax({url:this.props.endpoint+("share/service/"+e+"/")+t,type:"POST",data:"delete"!=e?this.props.unread:void 0,headers:{uid:this.props.uid}}).done(function(e,t,r){e&&200==e.code||204==e.code?n(e):(e&&400==e.code&&(new o).Render(3,"暂时无法生成链接，请稍后再试。"),e&&401==e.code&&(new o).Render(3,"抱歉，你无法使用此功能，请先升级你的账户。"),e&&403==e.code&&(new o).Render(3,"更新失败，请稍后再试。"),(new o).Render(2,"生成失败，请稍后再试。"),a.setState({status:0}))}).fail(function(e,t,n){(new o).Render(2,"生成失败，请稍后再试。")})}},{key:"onAddClick",value:function(){var e=this;0==this.state.status?this.setState({status:1}):!function(){var t=(new o).Render({content:"正在生成共享链接，请稍等...",state:"loading"});e.request("add",h.ID("share"),function(n){t.complete(),(new o).Render(1,'已经生成共享链接  👉  <a target="_blank" href="'+(e.props.host+n.data)+'"><b>点击查看</b></a>'),e.props.unread.share=n.data,e.props.onAction(e.props.unread),e.setState({share:e.props.unread.share})})}()}},{key:"onUpdateClick",value:function(){var e=this,t=(new o).Render({content:"正在更新，请稍等...",state:"loading"});this.request("update",this.props.unread.share,function(n){t.complete(),(new o).Render(1,'更新完毕  👉  <a target="_blank" href="'+(e.props.host+e.props.unread.share)+'"><b>点击查看</b></a>')})}},{key:"onRemoveClick",value:function(){var e=this;this.state.confrim?!function(){var t=(new o).Render({content:"正在删除，请稍等...",state:"loading"});e.request("delete",e.props.unread.share,function(n){t.complete(),(new o).Render(1,"共享链接已删除成功。"),delete e.props.unread.share,e.props.onAction(e.props.unread),e.setState({share:void 0,status:0,confrim:!1})})}():this.setState({confrim:!0})}},{key:"onIconClick",value:function(e){if("open"==e)f.browser.runtime.sendMessage(g.Add(g.MESSAGE_ACTION.new_tab,{url:this.props.host+this.state.share}));else if("copy"==e){var t=$("sr-sharelink-div input");t.removeAttr("disabled"),t.focus(),t.select();var n=document.execCommand("copy");n&&t.attr("disabled",!0),n?(new o).Render(1,"已复制到剪切板"):(new o).Render(2,"复制失败，请在输入框自行复制。")}}},{key:"onClose",value:function(){x.Close()}},{key:"componentDidMount",value:function(){$("dialog-content").css({"min-height":"100px"}),$("dialog-gp").css({"min-height":"initial"})}},{key:"render",value:function(){var t=this;return e.createElement(x.Dialog,null,e.createElement(x.Content,null,e.createElement("sr-sharelink-gp",null,this.state.share?e.createElement("sr-sharelink-div",null,e.createElement("sr-sharelink-span",null,e.createElement(E.default,{floatingtext:"公开链接",value:this.props.host+this.state.share,disable:!0}),e.createElement("sr-sharelink-i",{class:"icon",onClick:function(){return t.onIconClick("copy")}},e.createElement("i",{className:"fas fa-copy"})),e.createElement("sr-sharelink-i",{class:"icon",onClick:function(){return t.onIconClick("open")}},e.createElement("i",{className:"fas fa-external-link-alt"})))):e.createElement("sr-sharelink-div",null,e.createElement("i",{className:"fas fa-unlink"}),e.createElement("sr-sharelink-span",null,"当前页面没有生成共享链接，请通过左下角生成它。")))),e.createElement(x.Footer,null,!this.state.share&&0==this.state.status&&e.createElement(w.default,{text:"生 成",waves:"md-waves-effect",color:"#fff",backgroundColor:"#F44336",onClick:function(){return t.onAddClick()}}),!this.state.share&&1==this.state.status&&e.createElement(w.default,{text:"确 认",waves:"md-waves-effect",color:"#fff",backgroundColor:"#F44336",style:{margin:"6px"},onClick:function(){return t.onAddClick()}}),this.state.share&&e.createElement(w.default,{text:this.state.confrim?"确 认":"删 除",waves:"md-waves-effect",color:"#fff",backgroundColor:"#F44336",style:{margin:"6px"},onClick:function(){return t.onRemoveClick()}}),e.createElement("div",{style:{width:"100%"}}),this.state.share&&e.createElement(w.default,{text:"更 新",waves:"md-waves-effect",color:"#fff",style:{margin:"6px"},onClick:function(){return t.onUpdateClick()}}),e.createElement(w.default,{text:"退 出",waves:"md-waves-effect",onClick:function(){return t.onClose()}})))}}]),n}(e.Component);_.defaultProps={endpoint:"https://simpread.ksria.cn/",host:"https://simpread.pro/s/",onAction:void 0},_.propTypes={unread:e.PropTypes.array,onAction:e.PropTypes.func},t.Render=c}).call(t,n(2),n(7))},373:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e){d.add(e);var t=new Map;Object.values(p).forEach(function(e){Object.values(e).forEach(function(e){var n=e.kbd;t.set(n,e.type)})}),c.default.bind([].concat(a(t.keys())),function(e,n){return i(t,n),!1}),c.default.bind([",","esc"],function(e,t){","==t?s():"esc"==t&&s()})}function i(e,t){t.indexOf(" ")>0?d.fire(e.get(t)):["u","t","f","a","c"].includes(t)?"a"==t&&$(".list-field.active").length>0?$(".topbar .floating span.icon.archive").length>0?$(".topbar .floating span.icon.archive")[0].click():$(".list-field.active").length>0&&$(".list-field.active").find("span.icon.archive")[0].click():$('.nav[type="'+e.get(t)+'"] .group')[0].click():"j"==t?0==$(".list-field.active").length?$($(".list-field")[0])[0].click():($($(".list-field.active").next()[0])[0].click(),$(".list-field.active")[0].scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})):"k"==t?0==$(".list-field.active").length?$($(".list-field")[0])[0].click():($(".list-field.active").prev()[0]&&$($(".list-field.active").prev()[0])[0].click(),$(".list-field.active")[0].scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})):"s"==t?$(".list-field.active").find("span.icon.select")[0]&&$(".list-field.active").find("span.icon.select")[0].click():"d"==t?$(".topbar .floating span.icon.remove").length>0?$(".topbar .floating span.icon.remove")[0].click():$(".list-field.active").length>0&&$(".list-field.active").find("span.icon.remove")[0].click():"q"==t?$(".topbar .floating span.icon.search")[0].click():["i","n","o","up","down"].includes(t)?$(".btmtoolbar span.tab."+e.get(t))[0].click():["l","r","e","h"].includes(t)?$(".tptoolbargp .toolbar span.icon."+e.get(t))[0].click():"backspace"==t&&($(".tptoolbargp .toolbar span.icon."+e.get(t)).length>0?$(".tptoolbargp .toolbar span.icon."+e.get(t))[0].click():$(".topbar span.icon.mini")[0]&&$(".topbar span.icon.mini")[0].click())}function s(){if($("kbd-bg").length>0)$("kbd-mapping").addClass("hide").one("animationend",function(){$("kbd-bg").remove()});else{var e="";Object.keys(p).forEach(function(t){var n="";Object.keys(p[t]).forEach(function(e,o){var a=p[t][e];n+='<kbd-map><kbd-name><kbd id="'+a.type+'">'+(a.alias||a.kbd)+"</kbd></kbd-name><kbd-desc>"+a.desc+"</kbd-desc></kbd-map>"}),e+="<kbd-maps-group><kbd-maps-title>"+t+"</kbd-maps-title>"+n+"</kbd-maps-group>"});var t='\n        <kbd-mapping class="open">\n            <kbd-map-title>快捷键一览</kbd-map-title>\n            <div class="kbd-maps" customscroll>\n                <kbd-maps-group>\n                    <kbd-maps-title>全局</kbd-maps-title>\n                    <kbd-map><kbd-name><kbd>esc</kbd></kbd-name><kbd-desc>退出快捷键一览</kbd-desc></kbd-map>\n                    <kbd-map><kbd-name><kbd>,</kbd></kbd-name><kbd-desc>打开快捷键一览</kbd-desc></kbd-map>\n                </kbd-maps-group>\n                '+e+"\n            </div>\n        </kbd-mapping>\n        ";$(".main").append("<kbd-bg>"+t+"</kbd-bg>")}}Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var l=n(116),c=o(l),d=$.Callbacks(),p={"未读列表":{u:{kbd:"u",type:"list",desc:"打开未读列表"},t:{kbd:"t",type:"tags",desc:"打开标签"},f:{kbd:"f",type:"filter",desc:"打开智能标签"},c:{kbd:"c",type:"ctags",desc:"打开合辑"},a:{kbd:"a",type:"archive",desc:"打开归档标签或归档"},j:{kbd:"j",alias:"j j",type:"next",desc:"后一个未读条目"},k:{kbd:"k",type:"prev",desc:"前一个未读条目"},d:{kbd:"d",alias:"d d",type:"remove",desc:"删除"},s:{kbd:"s",type:"select",desc:"选中"},q:{kbd:"q",type:"query",desc:"搜素"},i:{kbd:"i",type:"iframe",desc:"切换到阅读模式"},n:{kbd:"n",type:"annote",desc:"切换到标注模式"},o:{kbd:"o",alias:"o o",type:"open",desc:"打开源网页"},up:{kbd:"up",type:"prev",desc:"上一篇"},down:{kbd:"down",type:"next",desc:"下一篇"},l:{kbd:"l",type:"full",desc:"全屏"},r:{kbd:"r",type:"clear",desc:"清爽模式"},e:{kbd:"e",alias:"e e",type:"editor",desc:"编辑"},h:{kbd:"h",alias:"h h",type:"highlight",desc:"高亮"},backspace:{kbd:"backspace",type:"max",desc:"隐藏侧栏"}},"导出到本地":{md:{kbd:"m d",type:"markdown",desc:"导出为 Markdown"},om:{kbd:"o m",type:"offlinemarkdown",desc:"导出为 离线 Markdown"},pf:{kbd:"p f",type:"pdf",desc:"导出为 PDF"},hm:{kbd:"h m",type:"html",desc:"导出为 HTML"},oh:{kbd:"o h",type:"offlinehtml",desc:"导出为 离线 HTML"}},"导出到生产力工具":{yx:{kbd:"y x",type:"yinxiang",desc:"保存到 印象笔记"},er:{kbd:"e r",type:"evernote",desc:"保存到 Evernote"},db:{kbd:"d b",type:"dropbox",desc:"保存到 Dropbox"},on:{kbd:"o n",type:"onenote",desc:"保存到 Onenote"},gr:{kbd:"g r",type:"gdrive",desc:"保存到 Google 云端硬盘"},jg:{kbd:"j g",type:"jianguo",desc:"保存到 坚果云"},yq:{kbd:"y q",type:"yuque",desc:"保存到 语雀"},wz:{kbd:"w z",
type:"weizhi",desc:"保存到 为知笔记"},br:{kbd:"b r",type:"bear",desc:"保存到 Bear"}}};t.Render=r},374:function(e,t,n){(function(e,o,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(){setTimeout(function(){$(".graph-group.current").next().length>0?$(".graph-group.current .annote").css({"padding-right":"10px",width:parseInt($(".graph-group.current").next().css("left"))-parseInt($(".graph-group.current").css("left"))}):$(".graph-group.current .annote").css({"padding-right":"10px",width:parseInt($(".previewgp").css("width"))-parseInt($(".graph-group.current").css("left"))-300}),$(".graph-group.current .annotegp .reader").css({width:$(".graph-group.current .annote")[0].offsetWidth});var e=$(".graph-group.current").attr("data-idx");h.storage.unread=$.extend(!0,{},L[e])},500)}function p(e){h.storage.unread=e,h.storage.UnRead("update",h.storage.unread,function(e){D(h.storage.unread,"remove")})}function u(e,t,n,o,a){C.Verify()&&C.Run(!1,function(r){y.isSyncAction(r)&&y.Sync(r,e,t,n,o,a,h.storage.unread.url)})}function f(t,n,r,i){var s=t.unread.idx,l=function(){L[n.idx]=n,D=i,h.storage.unread=$.extend(!0,{},n),0==$(".graph-group").length&&$(".embeder").append('<div class="vertical-title">'+$(".embeder .annote .title:last").text()+"</div>"),$(".embeder").append('<div class="graph-group" data-index='+ ++R+' data-idx="'+s+'"><div class="vertical-title">'+t.unread.title+'</div><div class="annotegp"></div></div>');var a=$(".graph-group").length-1;a>=1&&$(".graph-group:last").css({left:j*a,"padding-right":j*a+300}),o.render(e.createElement(F,{all:n,search:r,onRemove:function(e){return u("remove",e)}}),$(".embeder:last .graph-group:last .annotegp")[0]),$(".graph-group").removeClass("current"),$(".graph-group:last").addClass("current"),$(".egtoobargp").length>0||(0==$(".egtoobargp").length&&$(".embeder .btmtoolbargp").after('<div class="egtoobargp"></div>'),o.render(e.createElement(U,null),$(".egtoobargp")[0]))};if(0==$(".previewgp .embeder").length){var c=$(".list .list-field[data-idx="+s+"]");c.length>0?c.click():$(".list .list-field:first").click()}return!$(".embeder .tptoolbargp .toolbar .icon.max").hasClass("active")&&$(".embeder .tptoolbargp .toolbar .icon.max").click(),$(".embeder .tptoolbargp").css({opacity:0}),$(".simpread-panel-gp").addClass("overlay"),$('.graph-group[data-idx="'+s+'"]').length>0?void(new a).Render(2,"当前页面即为显示页面，无需跳转。"):void($(".graph-group.right").length>0&&!$(".graph-group.right:last").hasClass(" current")?($(".graph-group.right:last .vertical-title").click(),setTimeout(function(){$(".graph-group").removeClass("current"),l()},200)):l())}function m(){I||(I=!0,P=$.extend(!0,{},h.storage.unread),$("body").on("click",".vertical-title:not(.right)",function(e){var t=function(e,t){var n=$(e),o=n.parent().next(),a=$(".graph-group:first").width();parseInt($(".graph-group:first").css("left")),o.find(".vertical-title").addClass("right"),0==$(".graph-group.right").length?o.css({left:a-j,"padding-right":"initial"}).addClass("right"):o.css({left:parseInt($(".graph-group.right:first").css("left"))-40,"padding-right":"initial"}).addClass("right"),t&&t()},n=$(e.currentTarget),o=$(".graph-group").length,r=n.parent().next().next(),i=n.parent().attr("data-index");return n[0]==$(".vertical-title")[0]?void(new a).Render({type:2,state:"holdon",content:"请通过 <b>右侧侧栏方式打开</b> 或 <b>退出当前模式</b>。",action:"打开",cancel:"退出",callback:function(e){if("action"==e){var t=$(".embeder .mode .annote").attr("data-idx");$(".simpread-panel .results .tag.active[data-idx="+t+"]").click()}else"cancel"==e&&($(".ghtoolbargp sr-tooltip.exit .exit").addClass("confrim"),$(".ghtoolbargp sr-tooltip.exit .exit").click())}}):(r.hasClass("right")||i==o-1?(t(e.currentTarget),d()):!function(){var e=o-1,n=function n(){e--,e>=i?setTimeout(function(){t($(".graph-group[data-index="+e+"] .vertical-title")[0],n)},300):d()};t($(".graph-group[data-index="+e+"] .vertical-title")[0],n)}(),$(".graph-group").removeClass("current"),void n.parent().addClass("current"))}),$("body").on("click",".vertical-title.right",function(e){var t=function(e,t){var n=$(e),o=n.parent(),a=o.prev(),r=parseInt(a.css("left"));n.removeClass("right"),o.removeClass("right").css({left:r+j}),t&&t()},n=$(e.currentTarget),o=$(".graph-group.right:first").attr("data-index"),a=n.parent().attr("data-index");$(".graph-group").hasClass("right")&&a!=o?!function(){var e=o,n=function n(){e++,e<=a?setTimeout(function(){t($(".graph-group.right[data-index="+e+"] .vertical-title")[0],n)},300):d()};t($(".graph-group.right[data-index="+e+"] .vertical-title")[0],n)}():(t(e.currentTarget),d()),$(".graph-group").removeClass("current"),n.parent().addClass("current")}))}function g(e,t,n){M.Render(e,t,function(e,t){"open_unread"==e?D(t,"open_backlink"):"search_tag"==e&&D(t,"search_tag")},n)}Object.defineProperty(t,"__esModule",{value:!0}),t.Lisen=t.Render=void 0;var b=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=n(4),v=n(3),x=n(6),k=i(x),w=n(52),y=i(w),E=n(73),C=i(E),A=n(256),_=r(A),N=n(164),S=i(N),T=n(162),O=i(T),z=n(163),M=i(z),j=40,R=0,I=!1,P=void 0,D=void 0,L={},U=function(t){function n(){return s(this,n),l(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return c(n,t),b(n,[{key:"onClick",value:function(e,t){"exit"==t?$(e.currentTarget).hasClass("confrim")?($(".graph-group").remove(),$(".embeder .tptoolbargp .toolbar .icon.max").click(),$(".embeder .tptoolbargp").removeAttr("style"),$(".simpread-panel-gp").removeClass("overlay"),$(".vertical-title").remove(),R=0,L={},h.storage.unread=$.extend(!0,{},P),D(h.storage.unread,"exit"),o.unmountComponentAtNode($(".egtoobargp")[0]),$(".egtoobargp").remove()):$(e.currentTarget).addClass("confrim"):"help"==t?v.browser.runtime.sendMessage(k.Add(k.MESSAGE_ACTION.new_tab,{url:"http://ksria.com/simpread/docs/#/Evergreen"})):"mindmap"==t?S.Render(Object.values(L)):"export"==t?O.Render("simpread-evergreen",Object.values(L),void 0,void 0,"unreads"):"info"==t&&g(Object.values(L),".egtoobargp","offset")}},{key:"render",value:function(){var t=this;return e.createElement("div",{className:"egtoobar"},e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"退出当前模式",class:"exit"},e.createElement("span",{className:"md-waves-effect icon exit",onClick:function(e){return t.onClick(e,"exit")}},e.createElement("i",{className:"fas fa-sign-out-alt"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"信息",class:"info"},e.createElement("span",{className:"md-waves-effect icon info",onClick:function(e){return t.onClick(e,"info")}},e.createElement("i",{className:"fas fa-info"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"思维导图",class:"collapse"},e.createElement("span",{className:"md-waves-effect icon mindmap",onClick:function(e){return t.onClick(e,"mindmap")}},e.createElement("i",{className:"fas fa-sitemap"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"导出",class:"export"},e.createElement("span",{className:"md-waves-effect icon export",onClick:function(e){return t.onClick(e,"export")}},e.createElement("i",{className:"fas fa-download"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"帮助",class:"help"},e.createElement("span",{className:"md-waves-effect icon help",onClick:function(e){return t.onClick(e,"help")}},e.createElement("i",{className:"fas fa-question"}))))}}]),n}(e.Component),B=function(t){function n(){return s(this,n),l(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return c(n,t),b(n,[{key:"onToolbarAction",value:function(e,t){if("exit"==e)$(".graph-group").remove(),$(".embeder .tptoolbargp .toolbar .icon.max").click(),$(".embeder .tptoolbargp").removeAttr("style"),$(".simpread-panel-gp").removeClass("overlay"),$(".vertical-title").remove(),R=0,h.storage.unread=$.extend(!0,{},P),D(h.storage.unread,"exit");else if("close"==e){if(1==$(".graph-group").length)return $(".egtoobargp .egtoobar sr-tooltip.exit .exit").addClass("confrim"),void $(".egtoobargp .egtoobar sr-tooltip.exit .exit").click();var n=parseInt($(".graph-group.right:last").css("left")),o=parseInt($(".graph-group.right:last").css("padding-right")),a=$(".graph-group[data-idx="+t+"]");a.hasClass("current")&&($(".graph-group").removeClass("current"),a.prev().addClass("current")),a.remove(),delete L[t],$(".graph-group").map(function(e,t){return $(t).attr("data-index",e+1)}),$(".graph-group:not(.right)").map(function(e,t){var n=$(t),o=n.attr("data-index"),a=40,r=300;2==o?n.css({left:a,"padding-right":r}):o>2&&n.css({left:(o-2)*j+a,"padding-right":(o-2)*j+a+r})});for(var r=$(".graph-group.right").length,i=300,s=r-1;s>=0;s--){var l=$($(".graph-group.right")[s]);s==r-1?l.css({left:n,"padding-right":o}):l.css({left:n-(r-s-1)*j,"padding-right":n-(r-s-1)*j-i})}$(".graph-group:first").removeAttr("style"),R=$(".graph-group").length,d()}else"editor"==e?D(h.storage.unread.idx,"unread_editor"):"origin"==e?v.browser.runtime.sendMessage(k.Add(k.MESSAGE_ACTION.new_tab,{url:t.url})):e.endsWith("readmode")?e.startsWith("open")?($(".graph-group[data-idx="+t.idx+"] .annotegp .annote").after('<div class="reader"><iframe src="'+v.browser.runtime.getURL("unreader/loader.html?url="+t.url)+'" width="100%" height="100%" frameborder="0"></iframe></div>'),d()):$(".graph-group[data-idx="+t.idx+"] .annotegp .reader").remove():e.endsWith("focus")&&$(".graph-group.current .annote-field:not(.sr-removed)").map(function(t,n){var o=$(n);e.startsWith("hide")?0==o.find(".annote-tags .active").length&&o.slideUp():o.slideDown()})}},{key:"onMultipleRemove",value:function(){var e=this,t=0,n=[],o=$(".graph-group.current .annote-field").find(".actionbar .select.active").length,a=function a(){if(t++,t==o){var r=L[e.props.unread.idx].annotations.filter(function(e){return!n.includes(e.id+"")});e.props.unread.annotations=r,n=[],$(".graph-group.current .annote-field").find(".actionbar").removeClass("show"),$(".ghtoolbargp sr-tooltip.multiple .multiple").removeClass("confrim"),p(e.props.unread)}else{var i=$($(".graph-group.current .annote-field").find(".actionbar .select.active")[t]).parent().parent().parent(),s=i.attr("data-id");n.push(s+""),i.addClass("sr-removed").slideUp(a)}},r=$($(".graph-group.current .annote-field").find(".actionbar .select.active")[t]).parent().parent().parent(),i=r.attr("data-id");n.push(i),r.addClass("sr-removed").slideUp(a)}},{key:"onClick",value:function(e,t){"close"==t?$(e.currentTarget).hasClass("confrim")?this.onToolbarAction(t,this.props.unread.idx):$(e.currentTarget).addClass("confrim"):"readmode"==t?($(e.currentTarget).hasClass("active")?this.onToolbarAction("close_"+t,this.props.unread):this.onToolbarAction("open_"+t,this.props.unread),$(e.currentTarget).toggleClass("active")):"focus"==t?($(e.currentTarget).hasClass("active")?(this.onToolbarAction("show_"+t,this.props.unread),$(e.currentTarget).find("i").removeAttr("class").addClass("fas fa-eye-slash")):(this.onToolbarAction("hide_"+t,this.props.unread),$(e.currentTarget).find("i").removeAttr("class").addClass("fas fa-eye")),$(e.currentTarget).toggleClass("active")):"multiple"==t?$(e.currentTarget).hasClass("confrim")?this.onMultipleRemove():(new a).Render({type:2,content:"此功能为 <b>多选删除</b>，请在下方的标注 <b>至少选中一个</b >后才能使用。",state:"holdon"}):"mindmap"==t?S.Render([this.props.unread]):"export"==t?O.Render(this.props.unread.title,void 0,this.props.unread,this.props.unread.annotations,"unread"):"backlinks"==t?D(this.props.unread,"backlinks_unread"):"graphview"==t?D(this.props.unread,"graphview"):"info"==t?g([this.props.unread],".graph-group[data-idx="+this.props.unread.idx+"] .annotegp .annote"):this.onToolbarAction(t,this.props.unread)}},{key:"render",value:function(){var t=this;return e.createElement("div",{className:"ghtoolbargp","data-idx":this.props.unread.idx},e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"关闭当前标注页"},e.createElement("span",{className:"md-waves-effect icon close",onClick:function(e){return t.onClick(e,"close")}},e.createElement("i",{className:"fas fa-times"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"信息",class:"info"},e.createElement("span",{className:"md-waves-effect icon info",onClick:function(e){return t.onClick(e,"info")}},e.createElement("i",{className:"fas fa-info"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"仅查看选中内容"},e.createElement("span",{className:"md-waves-effect icon focus",onClick:function(e){return t.onClick(e,"focus")}},e.createElement("i",{className:"fas fa-eye-slash"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"多选删除",class:"multiple"},e.createElement("span",{className:"md-waves-effect icon multiple",onClick:function(e){return t.onClick(e,"multiple")}},e.createElement("i",{className:"fas fa-minus"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"编辑"},e.createElement("span",{className:"md-waves-effect icon editor",onClick:function(e){return t.onClick(e,"editor")}},e.createElement("i",{className:"fas fa-pen"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"图谱"},e.createElement("span",{className:"md-waves-effect icon graphview",onClick:function(e){return t.onClick(e,"graphview")}},e.createElement("i",{className:"fas fa-vector-square"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"反向链接"},e.createElement("span",{className:"md-waves-effect icon backlinks",onClick:function(e){return t.onClick(e,"backlinks")}},e.createElement("i",{className:"fab fa-hubspot"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"思维导图",class:"collapse"},e.createElement("span",{className:"md-waves-effect icon mindmap",onClick:function(e){return t.onClick(e,"mindmap")}},e.createElement("i",{className:"fas fa-sitemap"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"打开阅读模式"},e.createElement("span",{className:"md-waves-effect icon readmode",onClick:function(e){return t.onClick(e,"readmode")}},e.createElement("i",{className:"fas fa-book-reader"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"打开原页面"},e.createElement("span",{className:"md-waves-effect icon origin",onClick:function(e){return t.onClick(e,"origin")}},e.createElement("i",{className:"fas fa-link"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"right","aria-label":"导出"},e.createElement("span",{className:"md-waves-effect icon export",onClick:function(e){return t.onClick(e,"export")}},e.createElement("i",{className:"fas fa-download"}))))}}]),n}(e.Component),F=function(t){function n(){var e,t,o,a;s(this,n);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=o=l(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.onAction=function(e,t){"remove"==e?(h.storage.unread=t,h.storage.UnRead("update",h.storage.unread,function(e){D(h.storage.unread,"remove")})):"editor"==e?D(t,e):"tags"==e?D(t,e):"search_tag"==e?D(t,e):"multiple"==e?t?$(".ghtoolbargp sr-tooltip.multiple .multiple").addClass("confrim"):$(".ghtoolbargp sr-tooltip.multiple .multiple").removeClass("confrim"):"backlinks"==e?D(t,e+"_annote"):"open_backlink"==e&&D(t,e)},a=t,l(o,a)}return c(n,t),b(n,[{key:"onActive",value:function(){var e=this;$(".graph-group .annote-field .annote-tags .annote-tag").map(function(t,n){var o=$(n),a=o.attr("data-tag");e.props.search.value==a&&o.addClass("active")})}},{key:"onRefreshEvent",value:function(e){var t=e.originalEvent.data;"refresh"==t.status&&(L[t.data.idx]=t.data,this.onActive())}},{key:"componentDidMount",value:function(){var e=this;$(window).on("message",function(t){return e.onRefreshEvent(t)}),$(".graph-view[data-idx="+this.props.all.idx+"]")[0].addEventListener("refresh",function(t){e.props.all.idx==t.detail.idx&&(L[e.props.all.idx]=$.extend(!0,{},t.detail),e.props.all=$.extend(!0,{},t.detail),e.onActive())}),this.onActive()}},{key:"render",value:function(){var t=this;return e.createElement("div",{className:"graph-view","data-idx":this.props.all.idx},e.createElement(B,{unread:this.props.all}),e.createElement(_.default,{unread:this.props.all,onAction:function(e,n){return t.onAction(e,n)},onRemove:function(e){return t.props.onRemove("remove",e)}}))}}]),n}(e.Component);t.Render=f,t.Lisen=m}).call(t,n(2),n(13),n(7))},375:function(e,t,n){(function(e,o,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(t,n,r,i,s,l){0==$(".kanban-root").length&&$("html").append('<div class="kanban-root"><div class="kanban-bg"></div></div>');var c=M.findIndex(function(e){return e.idx==n.idx});if(c>-1)return void(new a).Render(2,"当前页面已添加，无需重复添加。");if(0==$(".previewgp .embeder").length){var d=$(".list .list-field[data-idx="+n.idx+"]");d.length>0?d.click():$(".list .list-field:first").click()}j=s,l?(M=$.extend(!0,[],t),v.storage.unread=$.extend(!0,{},M[0])):(v.storage.unread=$.extend(!0,{},n),M.push(n)),o.render(e.createElement(D,{panel:M,kanban:R,viewer:t,all:n,search:r,alltags:i,onRemove:function(e){return saveSync("remove",e)}}),$(".kanban-bg")[0]),$(".simpread-panel-gp").addClass("overlay"),h.Render({root:".kanban-root"})}function p(e,t,n){z.Render(e,t,function(e,t){"open_unread"==e?j(t,"open_backlink"):"search_tag"==e&&j(t,"search_tag")},n)}Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var u=function(){function e(e,t){var n=[],o=!0,a=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){a=!0,r=e}finally{try{!o&&s.return&&s.return()}finally{if(a)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),m=n(81),g=i(m),b=n(17),h=r(b),v=n(4),x=n(3),k=n(6),w=r(k),y=n(65),E=r(y),C=n(164),A=r(C),_=n(162),N=r(_),S=n(119),T=r(S),O=n(163),z=r(O),M=[],j=void 0,R={},I=function(t){function n(){var e,t,o,a;s(this,n);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=o=l(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.state={refresh:!1},a=t,l(o,a)}return c(n,t),f(n,[{key:"onAction",value:function(e,t,n){var o=this;if("search_tag"==e)j(t,e);else if("remove"==e)!function(){var e=$(n.currentTarget);e.hasClass("confrim")?e.parent().parent().parent().slideUp(function(){e.parent().parent().parent().removeAttr("style").find(".dropdown-item").removeClass("confrim"),o.props.onAction("remove_unread",o.props.unread.idx)}):e.addClass("confrim")}();else if("mindmap"==e)A.Render([this.props.unread]);else if("readmode"==e)$(".kanban").append('<div class="reader"><iframe src="'+x.browser.runtime.getURL("unreader/loader.html?url="+this.props.unread.url)+'" width="100%" height="100%" frameborder="0"></iframe></div>'),this.props.onAction("readmode");else if("editor"==e)v.storage.unread=this.props.unread,j(this.props.unread,"unread_editor");else if("export"==e)N.Render(this.props.unread.title,void 0,this.props.unread,this.props.unread.annotations,"unread");else if("annote_editor"==e)v.storage.unread=this.props.unread,j(t,"editor");else if("annote_export"==e){var a=this.props.unread.annotations.findIndex(function(e){return e.id==t});N.Render(this.props.unread.title,void 0,this.props.unread,[this.props.unread.annotations[a]],"annote")}else if("annote_delete"==e)if($(n.currentTarget).hasClass("confrim")){$(n.currentTarget).parent().parent().removeClass("open"),$(n.currentTarget).removeClass("confrim");var r=this.props.unread.annotations.findIndex(function(e){return e.id==t});this.props.unread.annotations.splice(r,1),$(".kanban")[0].dispatchEvent(new CustomEvent("refresh",{detail:this.props.unread})),v.storage.UnRead("update",this.props.unread,function(e){j(o.props.unread,"update")})}else $(n.currentTarget).addClass("confrim");else if(e.startsWith("backlinks_"))e=e.replace("backlinks_",""),j({unread:this.props.unread,annote:t},"backlinks_"+e);else if("graphview"==e)j({unread:this.props.unread},"graphview");else if("info"==e){var i=this.props.parent?".kanban-group[data-id="+this.props.parent+"]":".kanban-group[data-type=panel]";p([this.props.unread],i+(" .unread[data-idx="+this.props.unread.idx+"]"),"offset")}n&&!["remove","annote_delete"].includes(e)&&$(n.currentTarget).parent().parent().removeClass("open")}},{key:"onDropdownClick",value:function(e){($(e.target).is("i")||$(e.target).parent().hasClass("gptoolbar"))&&$(e.currentTarget).parent().addClass("open")}},{key:"onDropdownBgClick",value:function(e){$(e.target).parent().hasClass("gptoolbar")&&$(e.currentTarget).parent().removeClass("open")}},{key:"onBacklinksAction",value:function(e,t){var n=this;"search_tag"==e?this.onAction("search_tag",t):"open_backlink"==e&&!function(){j(t,"open_backlink");var e=n.props.parent?$(".kanban-group[data-id="+n.props.parent+"]"):$(".kanban-group[data-type=panel]");setTimeout(function(){e.animate({scrollTop:e.find(".unread[data-idx="+t.idx+"]").offset().top-51})},500)}()}},{key:"render",value:function(){var t=this,n=this.props.unread.tags&&this.props.unread.tags.map(function(n){return e.createElement("div",{"data-idx":t.props.unread.idx,"data-balloon-pos":"up","aria-label":"点击打开",className:"tag md-waves-effect","data-value":n,onClick:function(){return t.onAction("search_tag",n)}},"#"+n)}),o=this.props.unread.refs&&this.props.unread.refs.split("\n").map(function(t,n){return e.createElement("a",{target:"_blank",href:t},t)}),a=this.props.unread.annotations&&this.props.unread.annotations.map(function(n){var o=n.tags&&n.tags.map(function(n){return e.createElement("div",{"data-idx":t.props.unread.idx,"data-balloon-pos":"up","aria-label":"点击打开",className:"tag md-waves-effect","data-value":n,onClick:function(){return t.onAction("search_tag",n)}},"#"+n)}),a=n.refs&&n.refs.split("\n").map(function(t,n){return e.createElement("a",{target:"_blank",href:t},t)}),r=void 0;return"paragraph"==n.type?r=e.createElement("div",{className:"annote",dangerouslySetInnerHTML:{__html:n.html.replace(/<li>/gi,"<ul><li>").replace(/<\/li>/gi,"</li></ul>")}}):"img"==n.type?r=e.createElement("img",{src:n.text}):"code"==n.type&&(r=e.createElement("pre",null,n.text)),e.createElement("sr-div",{class:"annotegp","sr-annote-bl-color":!0,"data-color-type":n.color},r,o&&o.length>0&&e.createElement("div",{className:"tags child"},o),n.note&&e.createElement("div",{className:"note"},n.note),a&&a.length>0&&e.createElement("div",{className:"refs"},a),n.backlinks&&n.backlinks.length>0&&e.createElement(T.Embed,{backlinks:n.backlinks,type:"annote",onAction:function(e,n){return t.onBacklinksAction(e,n)}}),e.createElement("div",{className:"gptoolbar"},e.createElement("span",{className:"dropdown-trigger md-waves-effect",onClick:function(e){return t.onDropdownClick(e)}},e.createElement("i",{className:"fas fa-ellipsis-h"})),e.createElement("div",{className:"dropdown-bg",onClick:function(e){return t.onDropdownBgClick(e)}}),e.createElement("div",{className:"dropdown"},e.createElement("div",{className:"dropdown-item md-waves-effect remove",onClick:function(e){return t.onAction("annote_delete",n.id,e)}},"删除"),e.createElement("div",{className:"dropdown-item md-waves-effect editor",onClick:function(e){return t.onAction("annote_editor",n.id,e)}},"编辑"),e.createElement("div",{className:"dropdown-item md-waves-effect editor",onClick:function(e){return t.onAction("backlinks_annote",n,e)}},"反向链接"),e.createElement("div",{className:"dropdown-item md-waves-effect export",onClick:function(e){return t.onAction("annote_export",n.id,e)}},"导出"))))});return e.createElement("div",{className:"unread","data-idx":this.props.unread.idx},e.createElement("div",{className:"gptoolbar"},e.createElement("span",{className:"dropdown-trigger md-waves-effect",onClick:function(e){return t.onDropdownClick(e)}},e.createElement("i",{className:"fas fa-ellipsis-h"})),e.createElement("div",{className:"dropdown-bg",onClick:function(e){return t.onDropdownBgClick(e)}}),e.createElement("div",{className:"dropdown"},e.createElement("div",{className:"dropdown-item md-waves-effect remove",onClick:function(e){return t.onAction("remove",void 0,e)}},"移除"),e.createElement("div",{className:"dropdown-item md-waves-effect editor",onClick:function(e){return t.onAction("editor",void 0,e)}},"编辑"),e.createElement("div",{className:"dropdown-item md-waves-effect export",onClick:function(e){return t.onAction("export",void 0,e)}},"导出"),e.createElement("div",{className:"dropdown-item md-waves-effect readmode",onClick:function(e){return t.onAction("readmode",void 0,e)}},"阅读模式"),e.createElement("div",{className:"dropdown-item md-waves-effect graphview",onClick:function(e){return t.onAction("graphview",void 0,e)}},"图谱"),e.createElement("div",{className:"dropdown-item md-waves-effect backlinks",onClick:function(e){return t.onAction("backlinks_unread",void 0,e)}},"反向链接"),e.createElement("div",{className:"dropdown-item md-waves-effect mindmap",onClick:function(e){return t.onAction("mindmap",void 0,e)}},"思维导图"),e.createElement("div",{className:"dropdown-item md-waves-effect info",onClick:function(e){return t.onAction("info",void 0,e)}},"信息"))),e.createElement("div",{className:"title"},e.createElement("a",{target:"_blank",href:this.props.unread.url},this.props.unread.title)),this.props.unread.desc&&e.createElement("div",{className:"desc"},this.props.unread.desc),n&&n.length>0&&e.createElement("div",{className:"tags"},n),this.props.unread.note&&e.createElement("div",{className:"note"},this.props.unread.note),o&&o.length>0&&e.createElement("div",{className:"refs"},o),this.props.unread.backlinks&&this.props.unread.backlinks.length>0&&e.createElement(T.Embed,{backlinks:this.props.unread.backlinks,type:"unread",onAction:function(e,n){return t.onBacklinksAction(e,n)}}),a&&a.length>0&&e.createElement("div",{className:"annotations"},a))}}]),n}(e.Component),P=function(t){function n(){var e,t,o,a;s(this,n);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=o=l(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.state={tag:"",focus:!1,refresh:!1},a=t,l(o,a)}return c(n,t),f(n,[{key:"onAction",value:function(e,t){var n=this;if("remove"==t)$(e.currentTarget).hasClass("confrim")?(delete R[this.props.id],this.props.onAction("remove",this.props.id)):$(e.currentTarget).addClass("confrim");else if("mindmap"==t)A.Render(this.props.unreads);else if("remove_unread"==t)!function(){var t=e,o=n.props.unreads.findIndex(function(e){return e.idx==t});o>-1&&(n.props.unreads.splice(o,1),"tag"==n.props.type?R[n.props.id].unreads=n.props.unreads:M=n.props.unreads,n.setState({refresh:!0}))}();else if("readmode"==t)this.props.onAction("open_readmode");else if("max"==t)$(e.currentTarget).toggleClass("active"),"panel"==this.props.type?$(".kanban-group:first").toggleClass("max"):$(".kanban-group[data-id="+this.props.id+"]").toggleClass("max");else if("focus"==t)!function(){$(e.currentTarget).toggleClass("active"),n.state.focus=$(e.currentTarget).hasClass("active");var t=function(e){n.state.focus?e.slideUp():e.slideDown()};$(".kanban-group[data-id="+n.props.id+"] .unread .annotegp").map(function(e,o){var a=$(o);0==a.find(".tags").length?t(a):!function(){var e=!1;a.find(".tag").map(function(t,o){var a=$(o),r=a.attr("data-value");!e&&r==n.state.tag&&(e=!0)}),!e&&t(a)}()})}();else if("export"==t){var o="panel"==this.props.type?"panel":this.state.tag.replace(/\//gi,":");N.Render("simpread-标签合辑-"+o,this.props.unreads,void 0,void 0,"unreads")}else if("info"==t){var a="panel"==this.props.type?".kanban-group[data-type=panel]":".kanban-group[data-id="+this.props.id+"]";p(this.props.unreads,a,"offset")}e&&!["remove","focus"].includes(t)&&$(e.currentTarget).parent().parent().removeClass("open")}},{key:"onTagChange",value:function(e){var t=""==e?[]:E.findUnReadbyTag(e,v.storage.unrdist);this.props.unreads=t,R[this.props.id]={tag:e,unreads:t},$(".kanban-group[data-id="+this.props.id+"] .dropdown-item").removeClass("active"),this.setState({refresh:!0,tag:e,focus:!1})}},{key:"onDropdownClick",value:function(e){($(e.target).is("i")||$(e.target).parent().hasClass("gptoolbar"))&&$(e.currentTarget).parent().addClass("open")}},{key:"onDropdownBgClick",value:function(e){$(e.target).parent().hasClass("gptoolbar")&&$(e.currentTarget).parent().removeClass("open")}},{key:"render",value:function(){var t=this,n=this.props.unreads.map(function(n){return e.createElement(I,{parent:t.props.id,unread:n,onAction:function(e,n){return t.onAction(n,e)}})}),o="panel"==this.props.type?"Panel":"important"==this.state.tag?"重要":"dr"==this.state.tag?"灵感回顾":this.state.tag;return e.createElement("div",{className:"kanban-group","data-id":this.props.id,"data-type":this.props.type,"data-customscroll":"true"},e.createElement("div",{className:"lable"},o),e.createElement("div",{className:"gptoolbar"},e.createElement("span",{className:"dropdown-trigger md-waves-effect",onClick:function(e){return t.onDropdownClick(e)}},e.createElement("i",{className:"fas fa-ellipsis-h"})),e.createElement("div",{className:"dropdown-bg",onClick:function(e){return t.onDropdownBgClick(e)}}),e.createElement("div",{className:"dropdown"},"panel"!=this.props.type&&e.createElement("div",{className:"dropdown-item md-waves-effect remove",onClick:function(e){return t.onAction(e,"remove")}},"移除"),e.createElement("div",{className:"dropdown-item md-waves-effect max",onClick:function(e){return t.onAction(e,"max")}},"最大化"),e.createElement("div",{className:"dropdown-item md-waves-effect export",onClick:function(e){return t.onAction(e,"export")}},"导出"),e.createElement("div",{className:"dropdown-item md-waves-effect info",onClick:function(e){return t.onAction(e,"info")}},"信息"),"panel"!=this.props.type&&e.createElement("div",{className:"dropdown-item md-waves-effect focus",onClick:function(e){return t.onAction(e,"focus")}},"仅查看当前标签"),n&&n.length>0&&e.createElement("div",{className:"dropdown-item md-waves-effect mindmap",onClick:function(e){return t.onAction(e,"mindmap")}},"思维导图"))),"tag"==this.props.type&&e.createElement("div",{className:"search"},e.createElement(g.default,{value:this.state.tag||"",placeholder:"请输入查询的标签",items:this.props.alltags,
onChange:function(e){return t.onTagChange(e)}})),e.createElement("div",{className:"results"},n))}}]),n}(e.Component),D=function(t){function n(){var e,t,o,a;s(this,n);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=o=l(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.state={refresh:!1},a=t,l(o,a)}return c(n,t),f(n,[{key:"onClick",value:function(e,t){"add"==t?(R[+new Date]={tag:"",unreads:[]},this.props.kanban=R,this.setState({refresh:!0})):"exit"==t?$(e.currentTarget).hasClass("confrim")?(o.unmountComponentAtNode($(".kanban-bg")[0]),$(".kanban-root").remove(),M=[],R={}):$(e.currentTarget).addClass("confrim"):"remove"==t?(this.props.kanban=R,this.setState({refresh:!0})):"open_readmode"==t?$(".kanban .kbtoobargp .icon.readmode").addClass("active"):"exit_readmode"==t?($(".kanban .kbtoobargp .icon.readmode").removeClass("active"),$(".kanban .reader").remove()):"help"==t&&x.browser.runtime.sendMessage(w.Add(w.MESSAGE_ACTION.new_tab,{url:"http://ksria.com/simpread/docs/#/Kanban"}))}},{key:"onRefreshEvent",value:function(e){var t=this,n=e.originalEvent.data;if("refresh"==n.status){var o=this.props.panel.findIndex(function(e){return e.idx==n.data.idx});o>-1&&(this.props.panel.splice(o,1,n.data),M=this.props.panel);var a=!1;Object.entries(this.props.kanban).forEach(function(e){var o=u(e,2),r=o[0],i=o[1],s=i.unreads.findIndex(function(e){return e.idx==n.data.idx});a=!0,n.data.tags.includes(i.tag)?s>-1?i.unreads.splice(s,1,n.data):i.unreads.push(n.data):s>-1&&i.unreads.splice(s,1),t.props.kanban[r].unreads=i.unreads}),(o>-1||a)&&this.setState({refresh:!0})}}},{key:"componentDidMount",value:function(){var e=this;$(window).on("message",function(t){return e.onRefreshEvent(t)}),$(".kanban")[0].addEventListener("refresh",function(t){e.onRefreshEvent({originalEvent:{data:{status:"refresh",data:t.detail}}})})}},{key:"render",value:function(){var t=this,n=Object.keys(this.props.kanban).map(function(n,o){return e.createElement(P,{unreads:t.props.kanban[n].unreads,id:n,type:"tag",alltags:t.props.alltags,onAction:function(e){return t.onClick(void 0,e)}})});return e.createElement("div",{className:"kanban"},e.createElement("div",{className:"kbtoobargp"},e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"关闭阅读模式"},e.createElement("span",{className:"md-waves-effect icon readmode",onClick:function(e){return t.onClick(e,"exit_readmode")}},e.createElement("i",{className:"fas fa-book-reader"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"帮助",class:"help"},e.createElement("span",{className:"md-waves-effect icon exit",onClick:function(e){return t.onClick(e,"help")}},e.createElement("i",{className:"fas fa-question"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"退出当前模式",class:"exit"},e.createElement("span",{className:"md-waves-effect icon exit",onClick:function(e){return t.onClick(e,"exit")}},e.createElement("i",{className:"fas fa-sign-out-alt"})))),e.createElement("div",{className:"kanban-groups"},e.createElement(P,{unreads:this.props.panel,type:"panel",alltags:this.props.alltags,onAction:function(e){return t.onClick(void 0,e)}}),n,e.createElement("div",{className:"add-group md-waves-effect",onClick:function(e){return t.onClick(e,"add")}},e.createElement("sr-tooltip",{"data-balloon-pos":"top","aria-label":"添加一个空白的看板"},e.createElement("span",{className:"md-waves-effect icon add"},e.createElement("i",{className:"fas fa-plus"}))))))}}]),n}(e.Component);t.Render=d}).call(t,n(2),n(13),n(7))},376:function(e,t,n){(function(e,o,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function d(t,n,r,i,s,l){0==$(".treenotes-root").length&&$("html").append('<div class="treenotes-root"><div class="treenotes-bg"></div></div>');var c=z.findIndex(function(e){return e.idx==n.idx});return c>-1?void(new a).Render(2,"当前页面已添加，无需重复添加。"):(M=s,l?(z=$.extend(!0,[],t),x.storage.unread=$.extend(!0,{},z[0])):(x.storage.unread=$.extend(!0,{},n),z.push(n)),o.render(e.createElement(R,{unreaders:z,viewer:t,all:n,search:r,alltags:i,onRemove:function(e){return saveSync("remove",e)}}),$(".treenotes-bg")[0]),$(".simpread-panel-gp").addClass("overlay"),void v.Render({root:".treenotes-root"}))}function p(e,t,n){O.Render(e,t,function(e,t){"open_unread"==e?M(t,"open_backlink"):"search_tag"==e&&M(t,"search_tag")},n)}Object.defineProperty(t,"__esModule",{value:!0}),t.Render=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),f=n(81),m=i(f),g=n(14),b=i(g),h=n(17),v=r(h),x=n(4),k=n(3),w=n(6),y=r(w),E=n(164),C=r(E),A=n(162),_=r(A),N=n(119),S=r(N),T=n(163),O=r(T),z=[],M=void 0,j=function(t){function n(){var e,t,o,a;s(this,n);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=o=l(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.state={refresh:!1},o.fmtDate=function(e){var t=new Date(e),n=function(e){return e=e<10?"0"+e:e};return t.getFullYear()+"年"+n(t.getMonth()+1)+"月"+n(t.getDate())+"日 "+n(t.getHours())+":"+n(t.getMinutes())+":"+n(t.getSeconds())},a=t,l(o,a)}return c(n,t),u(n,[{key:"onCollapseClick",value:function(e){$(e.currentTarget).toggleClass("close").parent().next().slideToggle()}},{key:"onAction",value:function(e,t){M(t,e)}},{key:"onTitleChange",value:function(e){this.props.unread.title=$(e.currentTarget).text().trim()}},{key:"onDescClick",value:function(e){var t=$(e.currentTarget);t.hasClass("empty")&&""==this.props.unread.desc&&t.removeClass("empty").text("")}},{key:"onDescBlur",value:function(e){var t=$(e.currentTarget),n=t.text().trim();""==n&&(t.addClass("empty").text("暂无任何描述，点击添加"),this.props.unread.desc="")}},{key:"onDescChange",value:function(e){var t=$(e.currentTarget),n=t.text().trim();t.hasClass("empty")||(this.props.unread.desc=n)}},{key:"onNoteClick",value:function(e,t){var n=$(e.currentTarget);if(n.hasClass("empty"))if(t){var o=this.props.unread.annotations.findIndex(function(e){return e.id==t});""==this.props.unread.annotations[o].note&&n.removeClass("empty").text("")}else""==this.props.unread.note&&n.removeClass("empty").text("")}},{key:"onNoteBlur",value:function(e,t){var n=$(e.currentTarget),o=n.text().trim();if(""==o)if(n.addClass("empty").text("暂无任何备注，点击添加"),t){n.slideUp();var a=this.props.unread.annotations.findIndex(function(e){return e.id==t});this.props.unread.annotations[a].note=""}else this.props.unread.note="";""!=o?$(".annotegp[data-id="+t+"]").find(".dropdown-item.note").addClass("hidden"):$(".annotegp[data-id="+t+"]").find(".dropdown-item.note").removeClass("hidden")}},{key:"onNoteChange",value:function(e,t){var n=$(e.currentTarget),o=n.text().trim();if(!n.hasClass("empty"))if(t){var a=this.props.unread.annotations.findIndex(function(e){return e.id==t});this.props.unread.annotations[a].note=o}else this.props.unread.note=o}},{key:"onTagChange",value:function(e,t){if(t){var n=this.props.unread.annotations.findIndex(function(e){return e.id==t});this.props.unread.annotations[n].tags=e}else this.props.unread.tags=e}},{key:"onEditorTags",value:function(e,t,n){var o=this;if(!$(e.target).hasClass("annote-tag")){var a=$(e.currentTarget);if("show"==t)a.slideUp(function(){a.next().slideDown()});else if(n){var r=this.props.unread.annotations.findIndex(function(e){return e.id==n}),i=this.props.unread.annotations[r].tags;i&&0==i.length?a.parent().slideUp():a.parent().slideUp(function(){a.parent().prev().slideDown(function(){a.parent().prev().removeAttr("style"),o.setState({refresh:!0})})}),i&&i.length>0?$(".annotegp[data-id="+n+"]").find(".dropdown-item.tags").addClass("hidden"):$(".annotegp[data-id="+n+"]").find(".dropdown-item.tags").removeClass("hidden")}else a.parent().slideUp(function(){a.parent().prev().slideDown(),o.setState({refresh:!0})})}}},{key:"refsOnChange",value:function(e,t){if(t){var n=this.props.unread.annotations.findIndex(function(e){return e.id==t});this.props.unread.annotations[n].refs=e.target.value}else this.props.unread.refs=e.target.value}},{key:"onRefsClick",value:function(e,t,n){var o=this,a=$(e.currentTarget);if("show"==t)a.slideUp(function(){a.next().slideDown()});else if(n){var r=this.props.unread.annotations.findIndex(function(e){return e.id==n}),i=this.props.unread.annotations[r].refs;i&&0==i.length?a.parent().slideUp():a.parent().slideUp(function(){a.parent().prev().slideDown(function(){a.parent().prev().removeAttr("style"),o.setState({refresh:!0})})}),i&&i.length>0?$(".annotegp[data-id="+n+"]").find(".dropdown-item.refs").addClass("hidden"):$(".annotegp[data-id="+n+"]").find(".dropdown-item.refs").removeClass("hidden")}else a.parent().slideUp(function(){a.parent().prev().slideDown(),o.setState({refresh:!0})})}},{key:"onToolbarClick",value:function(e,t){var n=this;"collapse"==t?($(".treenotes-group[data-idx="+this.props.unread.idx+"]").toggleClass("mini").find(".items").slideToggle().toggleClass("mini"),$(e.currentTarget).toggleClass("mini")):"save"==t?(x.storage.unread=this.props.unread,x.storage.UnRead("update",x.storage.unread,function(e){M(x.storage.unread,"update")})):"close"==t?$(e.currentTarget).hasClass("confrim")?!function(){var e=$(".treenotes-group[data-idx="+n.props.unread.idx+"]");e.slideUp(1e3,function(){var t=z.findIndex(function(e){return e.idx==n.props.unread.idx});t>-1&&z.splice(t,1),setTimeout(function(){e.find(".icon.close.confrim").removeClass("confrim"),e.removeAttr("style"),n.props.onAction("close")},500)})}():$(e.currentTarget).addClass("confrim"):"readmode"==t?($(e.currentTarget).hasClass("active")?$(".treenotes .reader").remove():$(".treenotes").append('<div class="reader"><iframe src="'+k.browser.runtime.getURL("unreader/loader.html?url="+this.props.unread.url)+'" width="100%" height="100%" frameborder="0"></iframe></div>'),$(e.currentTarget).toggleClass("active"),this.props.onAction("readmode_"+$(e.currentTarget).hasClass("active"))):"export"==t?_.Render(this.props.unread.title,void 0,this.props.unread,this.props.unread.annotations,"unread"):"info"==t&&p([this.props.unread],".treenotes-group[data-idx="+this.props.unread.idx+"]")}},{key:"onDropdownClick",value:function(e,t,n){$(e.target).hasClass("dropdown-item")||$(e.target).hasClass("dropdown-bg")||"open"!=t||$(e.currentTarget).hasClass("open")||($(e.currentTarget).addClass("open").find(".dropdown").addClass("open"),$(e.currentTarget).find(".dropdown-bg").addClass("open"))}},{key:"onDropdownItemClick",value:function(e,t,n){var o=this,a=function(){return $(e.currentTarget).parent().removeClass("open").next().removeClass("open").parent().removeClass("open")};if($(e.target).hasClass("dropdown-item"))if("tags"==t)$(".annotegp[data-id="+n+"]").find(".tags.empty").slideDown(),a();else if("note"==t)$(".annotegp[data-id="+n+"]").find(".note.empty").slideDown(),a();else if("refs"==t)$(".annotegp[data-id="+n+"]").find(".refs.empty").slideDown(),a();else if("delete"==t)if($(e.currentTarget).hasClass("confrim")){a();var r=this.props.unread.annotations.findIndex(function(e){return e.id==n});r>-1&&this.props.unread.annotations.splice(r,1),r=z.findIndex(function(e){return e.idx==o.props.unread.idx}),r>-1&&z.splice(r,1,this.props.unread),x.storage.unread=this.props.unread,x.storage.UnRead("update",x.storage.unread,function(e){M(x.storage.unread,"update")}),this.props.onAction("update")}else $(e.currentTarget).addClass("confrim");else if("export"==t){var i=this.props.unread.annotations.findIndex(function(e){return e.id==n});_.Render(this.props.unread.title,void 0,this.props.unread,[this.props.unread.annotations[i]],"annote"),a()}else if("backlinks_annote"==t){var s=this.props.unread.annotations.findIndex(function(e){return e.id==n});M({unread:this.props.unread,annote:this.props.unread.annotations[s]},"backlinks_annote"),a()}}},{key:"onDropdownBgClick",value:function(e){$(e.target).hasClass("dropdown-bg")&&$(e.currentTarget).removeClass("open").prev().removeClass("open").parent().removeClass("open")}},{key:"onBacklinksAction",value:function(e,t){"search_tag"==e?this.onAction("search_tag",t):"open_backlink"==e&&(M(t,"open_backlink"),setTimeout(function(){$(".treenotes-groups").animate({scrollTop:$(".treenotes-group[data-idx="+t.idx+"]").offset().top-51})},1e3))}},{key:"onRefreshEvent",value:function(e){var t=e.originalEvent.data;if("refresh"==t.status){var n=z.findIndex(function(e){return e.idx==t.data.idx});n>-1&&(z.splice(n,1,t.data),this.props.unread=t.data,this.setState({refresh:!0}))}}},{key:"componentDidMount",value:function(){var e=this;$(".treenotes-group[data-idx="+this.props.unread.idx+"]").addClass("open"),setTimeout(function(){$(".treenotes-group").removeClass("open")},1e3),$(".treenotes .treenotes-group[data-idx="+this.props.unread.idx+"]")[0].addEventListener("refresh",function(t){e.onRefreshEvent({originalEvent:{data:{status:"refresh",data:t.detail}}})})}},{key:"render",value:function(){var t=this,n=this.props.unread.tags&&this.props.unread.tags.map(function(n,o){return e.createElement("div",{className:"annote-tag","data-tag":n,onClick:function(){return t.onAction("search_tag",n)}},"#"+n)}),o=this.props.unread.refs&&this.props.unread.refs.split("\n").map(function(t,n){return e.createElement("a",{className:"origin",target:"_blank",href:t},t)}),a=this.props.unread.annotations&&this.props.unread.annotations.map(function(n){var o=n.tags&&n.tags.map(function(n){return e.createElement("div",{"data-idx":t.props.unread.idx,"data-balloon-pos":"up","aria-label":"点击打开",className:"annote-tag",onClick:function(){return t.onAction("search_tag",n)}},"#"+n)}),a=n.refs&&n.refs.split("\n").map(function(t,n){return e.createElement("a",{className:"origin",target:"_blank",href:t},t)}),r=n.note&&""!=n.note?" hidden":"",i=o&&0!=o.length?" hidden":"",s=a&&0!=a.length?" hidden":"",l=void 0;return"paragraph"==n.type?l=e.createElement("div",{className:"annote",dangerouslySetInnerHTML:{__html:n.html.replace(/<li>/gi,"<ul><li>").replace(/<\/li>/gi,"</li></ul>")}}):"img"==n.type?l=e.createElement("img",{src:n.text}):"code"==n.type&&(l=e.createElement("pre",null,n.text)),e.createElement("sr-div",{class:"annotegp","data-id":n.id},e.createElement("div",{className:"time"},e.createElement("span",{className:"icon collapse md-waves-effect",onClick:function(e){return t.onCollapseClick(e)}},e.createElement("i",{className:"fas fa-circle"})),e.createElement("span",{className:"icon more",onClick:function(e){return t.onDropdownClick(e,"open")}},e.createElement("i",{className:"fas fa-ellipsis-h"}),e.createElement("div",{className:"dropdown"},e.createElement("span",{className:"dropdown-item md-waves-effect note"+r,onClick:function(e){return t.onDropdownItemClick(e,"note",n.id)}},"添加备注"),e.createElement("span",{className:"dropdown-item md-waves-effect tags"+i,onClick:function(e){return t.onDropdownItemClick(e,"tags",n.id)}},"添加标签"),e.createElement("span",{className:"dropdown-item md-waves-effect refs"+s,onClick:function(e){return t.onDropdownItemClick(e,"refs",n.id)}},"添加外部引用"),e.createElement("span",{className:"dropdown-item md-waves-effect export",onClick:function(e){return t.onDropdownItemClick(e,"export",n.id)}},"导出"),e.createElement("span",{className:"dropdown-item md-waves-effect backlinks",onClick:function(e){return t.onDropdownItemClick(e,"backlinks_annote",n.id)}},"反向链接"),e.createElement("span",{className:"dropdown-item md-waves-effect delete",onClick:function(e){return t.onDropdownItemClick(e,"delete",n.id)}},"删除")),e.createElement("div",{className:"dropdown-bg",onClick:function(e){return t.onDropdownBgClick(e)}})),e.createElement("span",{className:"text"},t.fmtDate(n.id))),e.createElement("sr-div",{class:"child","sr-annote-bl-color":!0,"data-color-type":n.color},l,o&&o.length>0?e.createElement("div",{className:"tags","data-balloon-pos":"up","aria-label":"点击编辑标签",onClick:function(e){return t.onEditorTags(e,"show")}},o):e.createElement("div",{className:"tags empty","data-balloon-pos":"up","aria-label":"点击编辑标签",onClick:function(e){return t.onEditorTags(e,"show")}},"暂无任何标注，点击添加"),e.createElement("div",{className:"tags editable"},e.createElement("span",{className:"icon",onClick:function(e){return t.onEditorTags(e,"hidden",n.id)}},e.createElement("i",{className:"fas fa-check"})),e.createElement(m.default,{tags:n.tags||[],placeholder:"请输入你需要加入的标签，回车后生效。",items:t.props.alltags,onChange:function(e){return t.onTagChange(e,n.id)}})),n.note?e.createElement("sr-div",{class:"note",contenteditable:"true",onBlur:function(e){return t.onNoteBlur(e,n.id)},onKeyUp:function(e){return t.onNoteChange(e,n.id)},onClick:function(e){return t.onNoteClick(e,n.id)}},n.note):e.createElement("sr-div",{class:"note empty",contenteditable:"true",onBlur:function(e){return t.onNoteBlur(e,n.id)},onKeyUp:function(e){return t.onNoteChange(e,n.id)},onClick:function(e){return t.onNoteClick(e,n.id)}},"暂无任何备注，点击添加"),n.refs&&n.refs.length>0?e.createElement("sr-div",{class:"refs","data-balloon-pos":"up","aria-label":"点击编辑外部引用",onClick:function(e){return t.onRefsClick(e,"show")}},a):e.createElement("sr-div",{class:"refs empty",onClick:function(e){return t.onRefsClick(e,"show")}},"暂无任何外部引用，点击添加"),e.createElement("div",{className:"refs editable"},e.createElement("span",{className:"icon",onClick:function(e){return t.onRefsClick(e,"hidden",n.id)}},e.createElement("i",{className:"fas fa-check"})),e.createElement(b.default,{multi:!0,rows:3,placeholder:"当前稍后读或标注的外部引用，每行一个 URL 地址",value:n.refs,onChange:function(e){return t.refsOnChange(e,n.id)}})),n.backlinks&&n.backlinks.length>0?e.createElement("div",null,e.createElement("div",{className:"time backlinks"},e.createElement("span",{className:"icon collapse md-waves-effect",onClick:function(e){return t.onCollapseClick(e)}},e.createElement("i",{className:"fas fa-circle"})),e.createElement("span",{className:"text"},"关联的标注")),e.createElement(S.Embed,{backlinks:n.backlinks,type:"annote",onAction:function(e,n){return t.onBacklinksAction(e,n)}})):e.createElement("div",null)))});return e.createElement("div",{className:"treenotes-group","data-idx":this.props.unread.idx},e.createElement("div",{className:"tntoobargp"},e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"关闭当前标注页"},e.createElement("span",{className:"md-waves-effect icon close",onClick:function(e){return t.onToolbarClick(e,"close")}},e.createElement("i",{className:"fas fa-times"}))),e.createElement("div",{className:"others"},e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"保存",class:"save"},e.createElement("span",{className:"md-waves-effect icon exit",onClick:function(e){return t.onToolbarClick(e,"save")}},e.createElement("i",{className:"fas fa-save"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"缩进",class:"collapse"},e.createElement("span",{className:"md-waves-effect icon collapse",onClick:function(e){return t.onToolbarClick(e,"collapse")}},e.createElement("i",{className:"fas fa-circle"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"打开阅读模式"},e.createElement("span",{className:"md-waves-effect icon readmode",onClick:function(e){return t.onToolbarClick(e,"readmode")}},e.createElement("i",{className:"fas fa-book-reader"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"导出",class:"export"},e.createElement("span",{className:"md-waves-effect icon export",onClick:function(e){return t.onToolbarClick(e,"export")}},e.createElement("i",{className:"fas fa-download"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"图谱",class:"graphview"},e.createElement("span",{className:"md-waves-effect icon graphview",onClick:function(e){return M({unread:t.props.unread},"graphview")}},e.createElement("i",{className:"fas fa-vector-square"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"反向链接",class:"backlinks"},e.createElement("span",{className:"md-waves-effect icon backlinks",onClick:function(e){return M({unread:t.props.unread},"backlinks_unread")}},e.createElement("i",{className:"fab fa-hubspot"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"信息",class:"info"},e.createElement("span",{className:"md-waves-effect icon info",onClick:function(e){return t.onToolbarClick(e,"info")}},e.createElement("i",{className:"fas fa-info"}))))),e.createElement("div",{className:"row"},e.createElement("span",{className:"icon bullets md-waves-effect",onClick:function(e){return t.onToolbarClick(e,"collapse")}},e.createElement("i",{className:"fas fa-circle"})),e.createElement("sr-div",{class:"title",contenteditable:"true",onKeyUp:function(e){return t.onTitleChange(e)}},this.props.unread.title)),e.createElement("div",{className:"items"},e.createElement("div",{className:"row"},e.createElement("div",{className:"label"},"时间"),e.createElement("div",{className:"create"},this.props.unread.create)),e.createElement("div",{className:"row"},e.createElement("div",{className:"label"},"描述"),this.props.unread.desc?e.createElement("sr-div",{class:"desc",contenteditable:"true",onBlur:function(e){return t.onDescBlur(e)},onKeyUp:function(e){return t.onDescChange(e)},onClick:function(e){return t.onDescClick(e)}},this.props.unread.desc):e.createElement("sr-div",{class:"desc empty",contenteditable:"true",onBlur:function(e){return t.onDescBlur(e)},onKeyUp:function(e){return t.onDescChange(e)},onClick:function(e){return t.onDescClick(e)}},"暂无任何描述，点击添加")),e.createElement("div",{className:"row"},e.createElement("div",{className:"label"},"备注"),this.props.unread.note?e.createElement("sr-div",{class:"note",contenteditable:"true",onBlur:function(e){return t.onNoteBlur(e)},onKeyUp:function(e){return t.onNoteChange(e)},onClick:function(e){return t.onNoteClick(e)}},this.props.unread.note):e.createElement("sr-div",{class:"note empty",contenteditable:"true",onBlur:function(e){return t.onNoteBlur(e)},onKeyUp:function(e){return t.onNoteChange(e)},onClick:function(e){return t.onNoteClick(e)}},"暂无任何备注，点击添加")),e.createElement("div",{className:"row"},e.createElement("div",{className:"label"},"原页面"),e.createElement("a",{className:"origin",target:"_blank",href:this.props.unread.url},this.props.unread.url)),e.createElement("div",{className:"row"},e.createElement("div",{className:"label"},"标签"),n&&n.length>0?e.createElement("div",{className:"tags","data-balloon-pos":"up","aria-label":"点击编辑标签",onClick:function(e){return t.onEditorTags(e,"show")}},n):e.createElement("div",{className:"tags empty","data-balloon-pos":"up","aria-label":"点击编辑标签",onClick:function(e){return t.onEditorTags(e,"show")}},"暂无任何标注，点击添加"),e.createElement("div",{className:"tags editable"},e.createElement("span",{className:"icon",onClick:function(e){return t.onEditorTags(e,"hidden")}},e.createElement("i",{className:"fas fa-check"})),e.createElement(m.default,{tags:this.props.unread.tags||[],placeholder:"请输入你需要加入的标签，回车后生效。",items:this.props.alltags,onChange:function(e){return t.onTagChange(e)}}))),e.createElement("div",{className:"row"},e.createElement("div",{className:"label",dangerouslySetInnerHTML:{__html:"外部<br>引用"}}),this.props.unread.refs?e.createElement("sr-div",{class:"refs","data-balloon-pos":"up","aria-label":"点击编辑外部引用",onClick:function(e){return t.onRefsClick(e,"show")}},o):e.createElement("sr-div",{class:"refs empty",onClick:function(e){return t.onRefsClick(e,"show")}},"暂无任何外部引用，点击添加"),e.createElement("div",{className:"refs editable"},e.createElement("span",{className:"icon",onClick:function(e){return t.onRefsClick(e,"hidden")}},e.createElement("i",{className:"fas fa-check"})),e.createElement(b.default,{multi:!0,rows:3,placeholder:"当前稍后读或标注的外部引用，每行一个 URL 地址",value:this.props.unread.refs,onChange:function(e){return t.refsOnChange(e)}}))),this.props.unread.backlinks&&this.props.unread.backlinks.length>0&&e.createElement("div",{className:"column"},e.createElement("div",{className:"label group",style:{width:"95px","max-width":"inherit"}},e.createElement("span",{className:"icon collapse md-waves-effect",onClick:function(e){return t.onCollapseClick(e)}},e.createElement("i",{className:"fas fa-circle"})),e.createElement("span",{className:"text"},"关联的标注")),e.createElement(S.Embed,{backlinks:this.props.unread.backlinks,type:"unread",onAction:function(e,n){return t.onBacklinksAction(e,n)}})),a&&a.length>0&&e.createElement("div",{className:"column"},e.createElement("div",{className:"label group"},e.createElement("span",{className:"icon collapse md-waves-effect",onClick:function(e){return t.onCollapseClick(e)}},e.createElement("i",{className:"fas fa-circle"})),e.createElement("span",{className:"text"},"标注")),e.createElement("div",{className:"annotations"},a))))}}]),n}(e.Component),R=function(t){function n(){var e,t,o,a;s(this,n);for(var r=arguments.length,i=Array(r),c=0;c<r;c++)i[c]=arguments[c];return t=o=l(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),o.state={readmode:!1,refresh:!1},a=t,l(o,a)}return c(n,t),u(n,[{key:"onClick",value:function(e,t){"exit"==t?$(e.currentTarget).hasClass("confrim")?(o.unmountComponentAtNode($(".treenotes-bg")[0]),$(".treenotes-root").remove(),z=[]):$(e.currentTarget).addClass("confrim"):"close"==t?(this.props.unreaders=z,this.setState({refresh:!0})):"collapse"==t?($(e.currentTarget).hasClass("mini")?$(".treenotes-group.mini").find(".tntoobargp .icon.collapse").click():$(".treenotes-group:not(.mini)").find(".tntoobargp .icon.collapse").click(),$(e.currentTarget).toggleClass("mini")):t.startsWith("readmode")?t.endsWith("true")?this.setState({readmode:!0}):($(".treenotes-group").find(".tntoobargp .icon.readmode.active").click(),this.setState({readmode:!1})):"update"==t?(this.props.unreaders=z,this.setState({refresh:!0})):"mindmap"==t?C.Render(z):"help"==t?k.browser.runtime.sendMessage(y.Add(y.MESSAGE_ACTION.new_tab,{url:"http://ksria.com/simpread/docs/#/Workflowy"})):"export"==t?_.Render("simpread-workflowy",this.props.unreaders,void 0,void 0,"unreads"):"info"==t&&p(z,".treenotes-groups","offset")}},{key:"onRefreshEvent",value:function(e){var t=e.originalEvent.data;if("refresh"==t.status){var n=z.findIndex(function(e){return e.idx==t.data.idx});n>-1&&z.splice(n,1,t.data),this.props.unreaders=z,this.setState({refresh:!0})}}},{key:"componentDidMount",value:function(){var e=this;$(window).on("message",function(t){return e.onRefreshEvent(t)})}},{key:"render",value:function(){var t=this,n=this.props.unreaders.map(function(n,o){return e.createElement(j,{unread:n,alltags:t.props.alltags,onAction:function(e){return t.onClick(void 0,e)}})});return e.createElement("div",{className:"treenotes"},e.createElement("div",{className:"tntoobargp"},this.state.readmode&&e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"打开阅读模式"},e.createElement("span",{className:"md-waves-effect icon readmode active",onClick:function(e){return t.onClick(e,"readmode_false")}},e.createElement("i",{className:"fas fa-book-reader"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"信息",class:"info"},e.createElement("span",{className:"md-waves-effect icon info",onClick:function(e){return t.onClick(e,"info")}},e.createElement("i",{className:"fas fa-info"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"导出",class:"export"},e.createElement("span",{className:"md-waves-effect icon export",onClick:function(e){return t.onClick(e,"export")}},e.createElement("i",{className:"fas fa-download"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"思维导图",class:"mindmap"},e.createElement("span",{className:"md-waves-effect icon mindmap",onClick:function(e){return t.onClick(e,"mindmap")}},e.createElement("i",{className:"fas fa-sitemap"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"全部缩进",class:"collapse"},e.createElement("span",{className:"md-waves-effect icon collapse",onClick:function(e){return t.onClick(e,"collapse")}},e.createElement("i",{className:"fas fa-angle-double-up"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"帮助",class:"help"},e.createElement("span",{className:"md-waves-effect icon mindmap",onClick:function(e){return t.onClick(e,"help")}},e.createElement("i",{className:"fas fa-question"}))),e.createElement("sr-tooltip",{"data-balloon-pos":"left","aria-label":"退出当前模式",class:"exit"},e.createElement("span",{className:"md-waves-effect icon exit",onClick:function(e){return t.onClick(e,"exit")}},e.createElement("i",{className:"fas fa-sign-out-alt"})))),e.createElement("div",{className:"treenotes-groups","data-customscroll":"true"},n))}}]),n}(e.Component);t.Render=d}).call(t,n(2),n(13),n(7))},586:function(e,t,n){t=e.exports=n(5)(),t.i(n(85),""),t.i(n(593),""),t.push([e.id,'*{box-sizing:border-box}html{font:300 16px/1.8 -apple-system,PingFang SC,Microsoft Yahei,Lantinghei SC,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif;font-size:62.5%;color:#333;background:var(--force-color);text-rendering:optimizelegibility;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased}body{margin:0;padding:0;background-color:var(--force-color);overflow:hidden}.main{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;width:100%;height:100%}.bottom{margin:20px 0;text-align:center}.bottom a{color:#4285f4;text-decoration:none}dropdown list-field-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}dropdown span{font-weight:700;text-transform:capitalize}dropdown *{font-size:13px!important;font-weight:500}div[customscroll],div[data-customscroll]{overflow-y:hidden}div[customscroll]:hover,div[data-customscroll]:hover{overflow-y:overlay}div[customscroll]::-webkit-scrollbar-track,div[data-customscroll]::-webkit-scrollbar-track{background-color:transparent}div[customscroll]::-webkit-scrollbar,div[data-customscroll]::-webkit-scrollbar{width:12px}div[customscroll]::-webkit-scrollbar-thumb,div[data-customscroll]::-webkit-scrollbar-thumb{background-clip:padding-box;padding-top:80px;background-color:#ddd;border:3px solid transparent;border-radius:8px}@-webkit-keyframes fadeOutUp{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@keyframes fadeOutUp{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}}@-webkit-keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@keyframes fadeOutDown{0%{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}to{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}}@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}to{opacity:1;-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translateX(300px);transform:translateX(300px)}to{opacity:1;-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes fadeInLeft{0%{opacity:0;-webkit-transform:translateX(300px);transform:translateX(300px)}to{opacity:1;-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes fadeOutLeft{0%{opacity:1;-webkit-transform:translateX(0);transform:translateX(0)}to{opacity:0;-webkit-transform:translateX(300px);transform:translateX(300px)}}@keyframes fadeOutLeft{0%{opacity:1;-webkit-transform:translateX(0);transform:translateX(0)}to{opacity:0;-webkit-transform:translateX(300px);transform:translateX(300px)}}.resizer{width:2px;height:100%;background-color:var(--background-active-color);cursor:ew-resize}.navigategp{position:relative;min-width:200px;height:100%;width:250px;background-color:var(--background-color);border-right:1px solid var(--border-color);z-index:2;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.navigategp.mini,.navigategp.mini+.resizer{-webkit-transform:translateX(-250px);transform:translateX(-250px)}.navigate{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.avatar{margin:10px;padding:5px;width:100px;height:100px;line-height:80px;color:#fff;background-color:#6f7a9b;font-size:50px;font-weight:700;text-align:center;border-radius:50%;border:5px solid #fff;box-shadow:var(--box-shadow);-webkit-transform:scale(.8);transform:scale(.8)}.category{padding-left:6px;width:100%;text-align:left;font-size:10px;font-weight:700;color:#9d9d9d;height:25px;line-height:25px}.nav{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;width:100%;color:var(--text-color);font-size:11px;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;cursor:pointer}.nav[data-children=false]:hover,.nav[data-children=true]>.group:hover{background-color:var(--background-hover-color);-webkit-transition:background-color .25s ease-out;transition:background-color .25s ease-out}.nav.active,.nav .group.active{background-color:var(--background-active-color)!important}.nav[data-children=true]{padding:0}.nav[data-children=true]>.group{padding:10px}.nav .group{padding:7px 10px;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nav i.icon{margin-right:5px}.nav .label{width:100%;font-size:12px;font-weight:700}.nav .level[data-level="0"]{padding-left:20px}.nav .level[data-level="1"]{padding-left:40px}.nav .level[data-level="2"]{padding-left:60px}.nav .level[data-level="3"]{padding-left:80px}.nav .level[data-level="4"]{padding-left:100px}.nav .level[data-level="5"]{padding-left:120px}.nav .level[data-level="6"]{padding-left:140px}.nav .level[data-level="7"]{padding-left:165px}.nav .children{display:none;width:100%}.nav .collapse{position:absolute;top:11px;right:8px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;width:20px;height:20px;color:inherit;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.nav .collapse:hover{color:#fff;background-color:var(--active-color)}.nav .collapse.open{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.nav .total{position:absolute;top:10px;right:8px;min-width:25px;color:inherit;text-align:center;font-weight:700}.nav .total.right{right:20px;z-index:1}.nav .lock{position:absolute;top:11px;right:13px}.listgroup,.nav.child{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.listgroup{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-width:350px;width:350px;height:100%;color:var(--text-color);background-color:var(--background-color);border-right:1px solid var(--border-color);-webkit-transition:all .25s ease-out;transition:all .25s ease-out;-webkit-transform:translateX(-350px);transform:translateX(-350px);pointer-events:none;overflow-x:hidden;z-index:1}.listgroup.open{pointer-events:auto;-webkit-transform:translateX(0);transform:translateX(0)}.listgroup.open+.resizer{opacity:1}.listgroup.mini{-webkit-transform:translateX(-250px);transform:translateX(-250px)}.listgroup+.resizer{opacity:0}.list{margin:50px 10px 10px;height:100%}.list,.list .empty{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}.list .empty{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:100px 0;font-size:18px}.list-field{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:5px;border-bottom:1px solid var(--border-color);cursor:pointer}.list-field:hover .actionbar .icon{opacity:.8}.list-field.active{-webkit-transition:all .25s ease-out;transition:all .25s ease-out;background-color:var(--background-active-color)!important}.list-field .color{float:left;margin:0 5px 3px 0;padding-left:10px;height:3px}.list-field .title{padding:5px 6px 5px 5px;color:inherit;font-size:15px;font-weight:500;text-align:left}.list-field .desc{padding:5px 6px 5px 5px;font-size:11px}.list-field .time{padding:5px;font-size:10px}.list-field .colors{padding-left:5px}.list-field img{margin:5px;width:70px;background:#fff;border:1px solid #bbb;box-shadow:1px 1px 3px #d4d4d4}.list-field .tags{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;padding:5px 0}.list-field .tags,.list-field .tags .tag{display:-webkit-box;display:-ms-flexbox;display:flex}.list-field .tags .tag{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-right:5px;padding:4px 12px;color:var(--text-color);background-color:var(--background-active-color);height:22px;font-size:8.75px;font-size:.875rem;font-weight:400;white-space:nowrap;border-radius:16px;outline:none;cursor:pointer;overflow:hidden;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;-webkit-transform:scale(.9);transform:scale(.9)}.list-field.active .tags .tag{background-color:var(--force-color)}.list-field .local i{color:var(--active-color)}.list-field .actionbar{position:absolute;bottom:5px;right:15px}.list-field .actionbar,.list-field .actionbar .icon{display:-webkit-box;display:-ms-flexbox;display:flex}.list-field .actionbar .icon{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:5px;width:20px;height:20px;color:#fff;background-color:var(--background-active-color);border-radius:50%;opacity:0;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.list-field .actionbar .icon:hover{background-color:var(--active-color);opacity:.8}.list-field .actionbar .icon.remove{-webkit-transform:rotate(45deg);transform:rotate(45deg)}.list-field .actionbar .icon.remove:hover{opacity:.8;background-color:var(--confirm-color);-webkit-transform:rotate(135deg);transform:rotate(135deg)}.list-field .actionbar .icon.remove[data-confirm=on]{opacity:1;background-color:var(--confirm-color);-webkit-transform:rotate(405deg);transform:rotate(405deg)}.list-field .actionbar .icon.select.show{opacity:1!important}.list-field .actionbar .icon.select.active{background-color:var(--active-color);opacity:1!important}.list-field .actionbar .icon.archive:hover{color:#fff;background-color:#ffa726}.list-field .actionbar .icon.archive i{-webkit-transform:scale(.9);transform:scale(.9)}.list .toolbar{position:absolute;left:0;top:0;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:10px;background-color:var(--background-color);height:30px;border-bottom:1px solid var(--border-color);box-sizing:content-box;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;z-index:2000}.list .toolbar.open{height:60px;box-shadow:0 2px 10px 0 rgba(0,0,0,.1)}.list .toolbar .bottombar,.toolbar .topbar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.list .toolbar .bottombar{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:0 5px;width:100%;height:0;opacity:0;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.list .toolbar .bottombar.open{height:30px;opacity:1}.list .toolbar .count{margin-left:10px;line-height:25px;font-weight:400}.list .toolbar .count,.toolbar .icon{height:25px;color:var(--text-color);font-size:12px}.toolbar .icon{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:5px;width:25px;background-color:var(--force-color);border-radius:50%;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;box-shadow:0 1px 3px 1px rgba(60,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.toolbar .icon:hover{color:var(--active-color)}.list .toolbar .icon.archive:hover{color:#ffa726}.list .toolbar .icon.remove:hover{color:var(--confirm-color)}.toolbar .icon svg path{fill:var(--text-color)}.list .toolbar .floating{position:absolute;right:15px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.list .toolbar .floating .icon{margin-left:10px}.list .toolbar .icon.mini.active{color:#fff;background-color:var(--active-color);-webkit-transform:rotate(180deg);transform:rotate(180deg);box-shadow:0 -1px 3px 1px rgba(60,64,67,.15),0 -1px 2px 0 rgba(60,64,67,.3)}.list .toolbar .selectall{font-size:11;font-weight:700;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;cursor:pointer}.list .toolbar .selectall:hover{color:var(--confirm-color)}.list .toolbar .icon.multiple:hover{color:var(--active-color)}.list .toolbar .icon.multiple[data-checked=true]{color:#fff;background-color:var(--active-color)}.list .toolbar .icon.remove[data-confirm=true]{color:#fff;background-color:var(--confirm-color)}.list .toolbar .icon.search.active{color:#fff;background-color:var(--active-color)}.list .toolbar .icon.panel i{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.bottombar input[type=text]{color:var(--text-color)!important}.bottombar input[type=text]::-webkit-input-placeholder{font-size:11px}.bottombar text-field-state{border-top:none var(--active-color)!important;border-left:none var(--active-color)!important;border-right:none var(--active-color)!important;border-bottom:2px solid var(--active-color)!important}.list .filterbar{position:absolute;left:0;bottom:10;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:50px}.list .filterbar .tab{padding:5px 29px;font-size:12px;font-weight:700;text-overflow:ellipsis;white-space:nowrap;color:var(--text-color);background-color:var(--background-color);border:1px solid #caccce}.list .filterbar .tab:nth-child(1){border-right:none;border-top-left-radius:4px;border-bottom-left-radius:4px}.list .filterbar .tab:nth-child(3){border-left:none;border-top-right-radius:4px;border-bottom-right-radius:4px}.list .filterbar .tab.active{background-color:var(--background-active-color)}sr-unreader-lock{position:absolute;left:0;top:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:100%;background-color:#fff!important;opacity:.5;z-index:1000}sr-unreader-lock svg{cursor:pointer}.simpread-panel-gp{position:fixed;right:0;bottom:0;top:51px;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;z-index:2147483646}.simpread-panel-gp.min{-webkit-transform:translateX(270px);transform:translateX(270px)}.simpread-panel-gp.min .results,.simpread-panel-gp.min .tabs{opacity:0}.simpread-panel-gp.min sr-tooltip.expand{opacity:1;pointer-events:auto}.simpread-panel-gp sr-tooltip.expand{position:absolute;left:-7px;top:3px;opacity:0;pointer-events:none;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.simpread-panel-gp.min sr-tooltip.open{display:none}.simpread-panel-gp.min sr-tooltip.expand .icon{color:#fff;background-color:var(--active-color)}.simpread-panel-gp.overlay{top:0;background-color:var(--background-color)}.simpread-panel-bg{position:fixed;left:0;top:0;width:100%;height:100%}.simpread-panel-bg.hidden{pointer-events:none}.simpread-panel{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:10px;height:100%;width:300px;background-color:var(--background-color);border-left:1px solid var(--border-color)}.simpread-panel.active{-webkit-animation-name:fadeInLeft;animation-name:fadeInLeft;-webkit-animation-fill-mode:both;animation-fill-mode:both}.simpread-panel.active,.simpread-panel.close{-webkit-animation-duration:.45s;animation-duration:.45s}.simpread-panel.close{-webkit-animation-name:fadeOutLeft;animation-name:fadeOutLeft;-webkit-animation-fill-mode:both;animation-fill-mode:both}.simpread-panel .toolbar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px 0;height:30px}.simpread-panel .toolbar .lock{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex}.simpread-panel .toolbar .mode{margin-left:10px}.simpread-panel .toolbar .icon{margin-left:10px;color:var(--text-color)}.simpread-panel .toolbar .icon.active{color:#fff;background-color:var(--active-color);box-shadow:0 -1px 3px 1px rgba(60,64,67,.15),0 -1px 2px 0 rgba(60,64,67,.3)}.simpread-panel .toolbar .icon.pin{display:none}.simpread-panel .toolbar .icon.help{position:absolute;right:0;top:20px}.simpread-panel .toolbar .icon.open i{-webkit-transform:rotate(270deg);transform:rotate(270deg)}.simpread-panel .toolbar .icon.collapse i{-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.simpread-panel .toolbar .icon.collapse.close i{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.simpread-panel .toolbar .mode dropdown{height:25px!important;color:#fff;background-color:#fb584a;border-radius:5px}.simpread-panel .toolbar .mode dropdown list-field,.simpread-panel .toolbar .mode dropdown span{padding-left:8px!important;padding-right:8px!important}.simpread-panel .toolbar .mode dropdown icon{top:1px!important;right:-1px!important}.simpread-panel .tabs{margin:10px 0;border-bottom:3px solid var(--background-active-color)}.simpread-panel .tabs sr-tooltip{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 15px;height:25px;color:var(--text-color);border-top-left-radius:5px;border-top-right-radius:5px}.simpread-panel .tabs sr-tooltip.tag.active{background-color:var(--background-active-color)}.simpread-panel .results{overflow:hidden}.simpread-panel .results .search input{font-size:12px!important;color:var(--text-color)!important}.simpread-panel .results .search text-field-state{border-top:none var(--active-color)!important;border-left:none var(--active-color)!important;border-right:none var(--active-color)!important;border-bottom:2px solid var(--active-color)!important}.simpread-panel .results .titlegp{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;cursor:pointer;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.simpread-panel .search_result{padding-bottom:42px;height:100%;overflow-x:hidden}.simpread-panel .result{margin-bottom:15px}.simpread-panel .result .titlegp .icon{margin-right:5px;color:var(--text-color)}.simpread-panel .result .titlegp .icon i.close{-webkit-transition:all .25s ease-out;transition:all .25s ease-out;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.simpread-panel .result .titlegp .title{color:var(--text-color);width:100%;font-weight:700}.simpread-panel .result .titlegp .title:hover{background-color:var(--background-active-color)}.simpread-panel .result .group .note{margin:0 11px 5px 13px;max-width:100%;color:var(--text-sec-color);text-align:justify;font-weight:400;white-space:pre-wrap}.simpread-panel .result .tags{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;margin:5px 11px 5px 13px}.simpread-panel .result .tags .tag{padding-right:4px;color:var(--text-color);font-weight:700;white-space:nowrap}.simpread-panel .result .tags .tag.active{margin-right:4px;padding:0 4px;color:#fff;background-color:var(--active-color);border-radius:4px;cursor:pointer}.simpread-panel .result .group .desc{margin:0 11px 0 13px;white-space:pre-wrap;border-left:2px solid var(--text-sec-color)}.simpread-panel .annotegp,.simpread-panel .result .group .desc{padding-left:10px;max-width:100%;color:var(--text-sec-color);text-align:justify;font-weight:400}.simpread-panel .annotegp{position:relative;display:block;margin:0 11px 10px 13px;border-left-width:2}.simpread-panel .annotegp .annote{font-weight:700}.simpread-panel .result .annotegp .note{margin-left:0;max-width:100%;color:var(--text-sec-color);text-align:justify;white-space:pre-wrap}.simpread-panel .result .annotegp img{margin:0 11px 0 13px}.simpread-panel .result .annotegp img,.simpread-panel .result .annotegp pre{width:90%;color:var(--text-sec-color);text-align:justify;font-weight:400;border-radius:5px}.simpread-panel .result .annotegp pre{margin:0;padding:5px;max-height:100px;background-color:var(--background-active-color);overflow:hidden}.simpread-panel .result .annotegp .tags{margin:5px 0;padding-left:2px}.simpread-panel .backlink-fields .backlink-field{font-size:12px;border-left-width:2px!important;border-radius:0!important;border-radius:initial!important;cursor:auto!important}.simpread-panel .backlink-fields .backlink-field:hover{background-color:transparent}.simpread-panel .backlink-fields{margin-left:13px}.simpread-panel .backlink-fields sr-tooltip.refslinks{display:none}.simpread-panel .backlink-fields .desc{margin-left:0!important}.simpread-panel .backlink-fields .annotegp{border-radius:0!important;border-radius:initial!important}.simpread-panel .backlink-fields .annote-tags{margin-top:5px!important}.simpread-panel .backlink-fields .annote-tags .annote-tag{color:var(--text-color)!important;font-weight:700!important}.simpread-panel .annotations .backlink-fields{margin-left:0}.graph-group{left:0;top:51px;padding-right:300px;width:100%;height:100%;background-color:var(--force-color);z-index:100;box-shadow:0 0 10px 3px rgba(0,0,0,.1)}.graph-group,.vertical-title{position:absolute;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.vertical-title{top:75px;font-size:17px;font-weight:600;color:var(--text-color);-webkit-writing-mode:vertical-lr;-ms-writing-mode:tb-lr;writing-mode:vertical-lr;cursor:pointer;z-index:1}.graph-group.current .vertical-title,.graph-group:last-child .vertical-title{opacity:0;pointer-events:none}.graph-group.right .vertical-title{opacity:1;pointer-events:auto}.egtoobargp{position:absolute;left:0;top:0;width:100%;z-index:2000}.egtoobargp .egtoobar{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;padding:10px 7px;height:30px;background-color:var(--background-color);box-sizing:content-box;box-sizing:initial;border-bottom:1px solid var(--border-color)}.egtoobargp .egtoobar,.egtoobargp .icon{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.egtoobargp .icon{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:15px;width:25px;height:25px;font-size:12px;color:var(--text-color);background-color:var(--force-color);border-radius:50%;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;box-shadow:0 1px 3px 1px rgba(60,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.egtoobargp .icon.exit.confrim{color:#fff;background-color:var(--confirm-color);-webkit-transform:rotate(1turn);transform:rotate(1turn)}.graph-group .annotegp{margin-top:0!important}.graph-group .ghtoolbargp{position:absolute;left:0;top:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:10px 7px;width:100%;height:30px;background-color:var(--background-color);box-sizing:content-box;box-sizing:initial;border-bottom:1px solid var(--border-color)}.graph-group .ghtoolbargp,.graph-group .ghtoolbargp .icon{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.graph-group .ghtoolbargp .icon{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:15px;width:25px;height:25px;font-size:12px;color:var(--text-color);background-color:var(--force-color);border-radius:50%;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;box-shadow:0 1px 3px 1px rgba(60,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.graph-group .ghtoolbargp .icon.close.confrim,.graph-group .ghtoolbargp .icon.exit.confrim,.graph-group .ghtoolbargp .icon.multiple.confrim{color:#fff;background-color:var(--confirm-color);-webkit-transform:rotate(1turn);transform:rotate(1turn)}.graph-group .ghtoolbargp .icon.focus.active,.graph-group .ghtoolbargp .icon.readmode.active{color:#fff;background-color:var(--active-color)}.graph-group .ghtoolbargp dropdown+span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.graph-group .ghtoolbargp sr-tooltip.exit{position:fixed;left:5px;top:20px;z-index:200}.graph-group .annote{margin-top:51px;height:100%;-webkit-transition:width .25s ease-out;transition:width .25s ease-out}.graph-group .reader{position:absolute;left:0;top:51px;bottom:0;margin:0;width:100%;opacity:0}.graph-group .reader iframe{padding:0}.graph-group.current .reader{padding-bottom:51px;opacity:1}.treenotes-root{position:absolute;left:0;right:300px;top:0;bottom:0;background-color:var(--background-color);z-index:10000}.treenotes-root.max{right:13px}.treenotes{height:100%}.treenotes .tntoobargp{position:absolute;left:0;top:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:10px 7px;width:100%;height:30px;background-color:var(--background-color);border-bottom:1px solid var(--border-color);box-sizing:content-box;box-sizing:initial;z-index:2000}.treenotes .tntoobargp,.treenotes .tntoobargp .icon{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.treenotes .tntoobargp .icon{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:15px;width:25px;height:25px;font-size:12px;color:var(--text-color);background-color:var(--force-color);border-radius:50%;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;box-shadow:0 1px 3px 1px rgba(60,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.treenotes .tntoobargp .icon.close.confrim,.treenotes .tntoobargp .icon.exit.confrim{color:#fff;background-color:var(--confirm-color);-webkit-transform:rotate(1turn);transform:rotate(1turn)}.treenotes .tntoobargp .icon.readmode.active{color:#fff;background-color:var(--active-color)}.treenotes .tntoobargp .icon i{-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.treenotes .tntoobargp .icon.collapse.mini i{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.treenotes-groups{height:100%;background-color:var(--force-color)}.treenotes .treenotes-groups{margin-top:51px;padding-top:10px;padding-bottom:51px}.treenotes-group{position:relative;margin:0 15px;padding-left:15px;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.treenotes-group .icon.bullets{position:absolute;padding:10px;color:var(--text-color);-webkit-transform:scale(.7) translateX(-22px);transform:scale(.7) translateX(-22px);border-radius:50%;cursor:pointer}.treenotes-group.mini .tntoobargp .others{display:none!important}.treenotes-group.mini .icon.bullets{background-color:var(--border-color)}.treenotes-group .tntoobargp{left:unset;right:7px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;padding:0;width:100px;height:auto;background-color:transparent;border:none}.treenotes-group .tntoobargp:hover .others{opacity:1}.treenotes-group .tntoobargp .others{-webkit-transition:all .25s ease-out;transition:all .25s ease-out;opacity:0}.treenotes-group .tntoobargp sr-tooltip{display:block;margin-bottom:10px}.treenotes-group .tntoobargp .icon{margin-right:0;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.treenotes-group .tntoobargp sr-tooltip.collapse{display:none}.treenotes-group .tntoobargp .icon.readmode.active{color:#fff;background-color:var(--active-color)}.treenotes-group .tntoobargp .icon i{-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.treenotes-group .tntoobargp .icon.collapse.mini i{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.treenotes-group sr-div[contenteditable=true]{width:100%;color:var(--text-color);border-radius:5px;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;outline-color:var(--border-color)}.treenotes-group sr-div[contenteditable=true]:hover{background-color:var(--background-color)}.treenotes-group.open{-webkit-animation-name:fadeInUp;animation-name:fadeInUp;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.treenotes-group .title{display:block;margin-left:20px;color:var(--text-color);font-size:15px;font-weight:700}.treenotes-group .items{padding-left:20px;font-size:15px;font-weight:400;border-left:2px solid var(--border-color)}.treenotes-group .label{min-width:50px;max-width:50px;width:50px;color:var(--text-color);font-weight:700;margin-right:10px}.treenotes-group .row{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row;flex-flow:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:10px}.treenotes-group .create{color:var(--text-color)}.treenotes-group .desc{padding-left:10px;max-width:100%;border-left:2px solid var(--text-sec-color)}.treenotes-group .desc,.treenotes-group .note,.treenotes-group .refs{margin:0 11px 0 0;color:var(--text-sec-color);text-align:justify;font-weight:400;white-space:pre-wrap}.treenotes-group .note,.treenotes-group .refs{width:85%}.treenotes-group .refs a{margin-right:10px}.treenotes-group .annote-tag,.treenotes-group .origin{padding:0 5px;color:var(--text-color);background-color:var(--background-active-color);font-size:12px;font-weight:700;text-decoration:none;border-radius:5px;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.treenotes-group .annote-tag:hover,.treenotes-group .origin:hover{background-color:var(--background-color)}.treenotes-group .tags{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;width:85%;font-size:12px;font-weight:700}.treenotes-group .annote-tag{margin-right:5px}.treenotes-group .label.group .icon.collapse{position:absolute;padding:10px;color:var(--text-color);-webkit-transform:scale(.6) translate(-22px,-5px);transform:scale(.6) translate(-22px,-5px);border-radius:50%;cursor:pointer}.treenotes-group .label.group .icon.collapse.close{background-color:var(--border-color)}.treenotes-group .label.group .text{margin-left:20px}.treenotes-group .annotations{margin-left:2px;padding-left:20px;border-left:2px solid transparent;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.treenotes-group .annotations:hover{border-left:2px solid var(--border-color)}.treenotes-group .annotegp{display:block;margin-bottom:15px}.treenotes-group .backlink-fields{margin-left:2px;padding-left:10px;border-left:2px solid var(--border-color)}.treenotes-group .backlink-fields .annotegp{border-left-width:2px;border-radius:0!important;border-radius:initial!important}.treenotes-group .annotations .time.backlinks .text{margin-left:15px}.treenotes-group .annotations .backlink-fields{margin-left:0;margin-top:10px;padding-left:0;border:none}.backlink-fields .annotations .backlink-field .annotegp{padding-left:15px}.treenotes-group .backlink-fields .backlink-field{margin-bottom:0!important}.treenotes-group .backlink-fields .backlink-field[data-border=show]{border-radius:0;border-radius:initial;border:none}.treenotes-group .annotations .backlink-field[data-border=show]{border-left:2px solid var(--border-color);border-radius:0!important;border-radius:initial!important}.treenotes-group .backlink-fields .backlink-field .annote-tags{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding-left:0}.treenotes-group .annotegp .time{position:relative;color:var(--text-color);font-size:13px}.treenotes-group .annotegp .time:hover .icon.more{opacity:1}.treenotes-group .annotegp .time .text{margin-left:20px}.treenotes-group .annotegp .icon.collapse{position:absolute;padding:10px;color:var(--text-color);-webkit-transform:scale(.6) translate(-25px,-9px);transform:scale(.6) translate(-25px,-9px);border-radius:50%;cursor:pointer}.treenotes-group .annotegp .icon.collapse.close{background-color:var(--border-color)}.treenotes-group .annotegp .icon.more .dropdown-bg{position:fixed;left:0;top:0;display:none;width:100%;height:100%;z-index:2099}.treenotes-group .annotegp .icon.more .dropdown-bg.open{display:block}.treenotes-group .annotegp .icon.more{position:absolute;top:5px;left:-19px;color:var(--text-color);-webkit-transition:all .25s ease-out;transition:all .25s ease-out;opacity:0;cursor:pointer}.treenotes-group .annotegp .icon.more.open,.treenotes-group .annotegp .icon.more:hover{width:100px;opacity:1!important}.treenotes-group .annotegp .icon.more .dropdown{position:absolute;top:0;left:0;display:block;margin:0;padding:0;width:115px;max-height:300px;background-color:var(--background-color);box-sizing:border-box;box-shadow:0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12),0 5px 5px -3px rgba(0,0,0,.2);border-radius:2px;z-index:2100;overflow-y:auto;opacity:1;-webkit-transform:scaleY(0);transform:scaleY(0);-webkit-transform-origin:left top 0;transform-origin:left top 0;-webkit-transition:opacity 1s cubic-bezier(.23,1,.32,1) 0ms,-webkit-transform .45s cubic-bezier(.23,1,.32,1) 0ms;transition:opacity 1s cubic-bezier(.23,1,.32,1) 0ms,-webkit-transform .45s cubic-bezier(.23,1,.32,1) 0ms;transition:transform .45s cubic-bezier(.23,1,.32,1) 0ms,opacity 1s cubic-bezier(.23,1,.32,1) 0ms;transition:transform .45s cubic-bezier(.23,1,.32,1) 0ms,opacity 1s cubic-bezier(.23,1,.32,1) 0ms,-webkit-transform .45s cubic-bezier(.23,1,.32,1) 0ms}.treenotes-group .annotegp .icon.more .dropdown.open{-webkit-transform:scaleY(1);transform:scaleY(1)}.treenotes-group .annotegp .icon.more .dropdown .dropdown-item{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0;padding:8px 24px 8px 16px;height:36px;width:100%;color:var(--text-color);font-size:12px;font-weight:700;text-align:left;box-sizing:border-box;-webkit-transition:all 1s cubic-bezier(.23,1,.32,1) 0ms;transition:all 1s cubic-bezier(.23,1,.32,1) 0ms}.treenotes-group .annotegp .icon.more .dropdown .dropdown-item:hover{background-color:var(--background-hover-color)}.treenotes-group .annotegp .icon.more .dropdown .dropdown-item.hidden{display:none}.treenotes-group .annotegp .icon.more .dropdown .dropdown-item.delete.confrim{color:#fff;background-color:var(--confirm-color)}.treenotes-group .annotegp .child{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding-left:20px;border-left-width:2px!important}.treenotes-group .annotegp img{max-width:100%;margin:10px;width:90%;color:var(--text-sec-color);text-align:justify;font-weight:400;border-radius:5px}.treenotes-group .annotegp pre{width:100%;overflow:auto;white-space:pre-wrap}.treenotes-group .annotegp .annote{margin:10px 0;color:var(--text-color)}.treenotes-group .annotegp .annote,.treenotes-group .annotegp .note,.treenotes-group .annotegp .refs,.treenotes-group .annotegp .tags{padding-left:0;margin-bottom:10px}.treenotes-group .annotegp .note{width:90%;color:var(--text-sec-color)}.treenotes-group .desc.empty,.treenotes-group .note.empty,.treenotes-group .refs.empty,.treenotes-group .tags.empty,.treenotes-group input::-webkit-input-placeholder{color:var(--text-sec-color);font-size:10px;font-weight:700}.treenotes-group .annotations .note.empty,.treenotes-group .annotations .refs.empty,.treenotes-group .annotations .tags.empty{display:none}.treenotes-group .refs.editable,.treenotes-group .tags.editable{position:relative;display:none}.treenotes-group .refs.editable .icon,.treenotes-group .tags.editable .icon{position:absolute;right:25px;top:6px;color:#e0e0e0;cursor:pointer;z-index:200}.treenotes-group .refs.editable .icon{top:inherit;bottom:20px}.treenotes-group .refs.editable .icon:hover i,.treenotes-group .tags.editable .icon:hover i{color:var(--active-color)}.treenotes-group .refs.editable .icon i,.treenotes-group .tags.editable .icon i{font-size:14px;-webkit-transform:scale(1);transform:scale(1)}.treenotes .reader{position:absolute;top:51px;left:0;right:300px;bottom:0;width:100%;z-index:20000}.treenotes-group auto-complete list-view{background-color:var(--force-color)!important}.treenotes-group auto-complete list-field[active=true]{background-color:var(--background-hover-color)!important}.treenotes-group auto-complete list-field-name{color:var(--text-color)!important}.treenotes-group auto-complete input{font-size:12px!important;color:var(--text-color)!important}.kanban-root{position:absolute;left:0;right:300px;top:0;bottom:0;background-color:var(--background-color);z-index:10000}.kanban-root.max{right:33px}.kanban{padding-top:51px;width:100%;height:100%;background-color:var(--force-color);overflow-x:auto;overflow-y:hidden}.kanban auto-complete list-field-name{font-size:13px!important;font-weight:500}.kanban .kbtoobargp{position:absolute;left:0;top:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;padding:10px 7px;width:100%;height:30px;background-color:var(--background-color);border-bottom:1px solid var(--border-color);box-sizing:content-box;box-sizing:initial;z-index:2000}.kanban .kbtoobargp,.kanban .kbtoobargp .icon{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.kanban .kbtoobargp .icon{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:15px;width:25px;height:25px;font-size:12px;color:var(--text-color);background-color:var(--force-color);border-radius:50%;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;box-shadow:0 1px 3px 1px rgba(60,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.kanban .kbtoobargp .icon.exit.confrim{color:#fff;background-color:var(--confirm-color);-webkit-transform:rotate(1turn);transform:rotate(1turn)}.kanban .kbtoobargp .icon.readmode{opacity:0}.kanban .kbtoobargp .icon.readmode.active{color:#fff;background-color:var(--active-color);opacity:1}.kanban .reader{position:absolute;top:51px;left:0;width:100%;height:100%}.kanban-groups{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;height:100%;background-color:var(--force-color)}.kanban .kanban-groups{padding-top:1px}.kanban .kanban-groups .add-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:20px;width:48px;height:48px;min-width:48px;min-height:48px;color:var(--text-color);background-color:var(--background-color);border-radius:50%;box-shadow:0 1px 3px 1px rgba(60,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3);-webkit-transition:all .25s ease-out;transition:all .25s ease-out;cursor:pointer}.kanban .kanban-groups .add-group:hover{background-color:var(--background-active-color)}.kanban .kanban-group{position:relative;padding:0 15px;min-width:350px;width:350px;border-right:1px solid var(--border-color);-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.kanban .kanban-group auto-complete list-view{background-color:var(--force-color)!important}.kanban .kanban-group auto-complete list-field[active=true]{background-color:var(--background-hover-color)!important}.kanban .kanban-group auto-complete list-field-name{color:var(--text-color)!important}.kanban .kanban-group auto-complete input{font-size:12px!important;color:var(--text-color)!important}.kanban .kanban-group.max{position:fixed;left:0;top:0;right:300px;width:auto;height:100%;z-index:20001;background-color:var(--force-color)}.kanban .kanban-group.max .results *{font-size:14px!important}.kanban .kanban-group.max .results .gptoolbar *{font-size:12px!important}.kanban .kanban-group .lable{height:36px;color:var(--text-color);font-size:20px;font-weight:700}.kanban .kanban-group .gptoolbar{position:absolute;top:5px;right:5px}.kanban .kanban-group .gptoolbar .dropdown{position:absolute;top:35px;right:9px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:110px;font-size:12px;color:var(--text-color);background-color:var(--force-color);box-sizing:border-box;box-shadow:0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12),0 5px 5px -3px rgba(0,0,0,.2);border-radius:2px;opacity:0;-webkit-transform:scaleY(0);transform:scaleY(0);-webkit-transform-origin:left top 0;transform-origin:left top 0;-webkit-transition:opacity 1s cubic-bezier(.23,1,.32,1) 0ms,-webkit-transform .45s cubic-bezier(.23,1,.32,1) 0ms;transition:opacity 1s cubic-bezier(.23,1,.32,1) 0ms,-webkit-transform .45s cubic-bezier(.23,1,.32,1) 0ms;transition:transform .45s cubic-bezier(.23,1,.32,1) 0ms,opacity 1s cubic-bezier(.23,1,.32,1) 0ms;transition:transform .45s cubic-bezier(.23,1,.32,1) 0ms,opacity 1s cubic-bezier(.23,1,.32,1) 0ms,-webkit-transform .45s cubic-bezier(.23,1,.32,1) 0ms;z-index:2000}.kanban .kanban-group .gptoolbar .dropdown-trigger{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:15px;color:var(--text-sec-color);background-color:var(--force-color);border-radius:50%;cursor:pointer}.kanban .kanban-group .gptoolbar .dropdown.close{opacity:0!important;-webkit-transform:scaleY(0)!important;transform:scaleY(0)!important}.kanban .kanban-group .gptoolbar.open .dropdown{opacity:1;-webkit-transform:scaleY(1);transform:scaleY(1)}.kanban .kanban-group .gptoolbar .dropdown-bg{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:2000}.kanban .kanban-group .gptoolbar.open .dropdown-bg{pointer-events:auto}.kanban .kanban-group .gptoolbar .dropdown .dropdown-item{padding:5px 10px;font-weight:400;-webkit-transition:all 1s cubic-bezier(.23,1,.32,1) 0ms;transition:all 1s cubic-bezier(.23,1,.32,1) 0ms;cursor:pointer}.kanban .kanban-group .gptoolbar .dropdown .dropdown-item:hover{background-color:var(--background-hover-color)}.kanban .kanban-group .gptoolbar .dropdown .dropdown-item.remove.confrim{color:#fff;background-color:var(--confirm-color)}.kanban .kanban-group .gptoolbar .dropdown .dropdown-item.focus.active,.kanban .kanban-group .gptoolbar .dropdown .dropdown-item.max.active{color:#fff;background-color:var(--active-color)}.kanban .kanban-group .unread{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin:15px 0;padding:15px;background-color:var(--force-color);font-weight:400;border-radius:4px;box-shadow:0 0 6px 1px rgba(0,0,0,.08),0 8px 8px 0 rgba(0,0,0,.08);-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.kanban .kanban-group .unread:hover{box-shadow:0 -2px 20px rgba(0,0,0,.2)}.kanban .kanban-group .simpread-info-root{z-index:1000}.kanban .kanban-group .unread .gptoolbar{top:-7px;right:-7px;opacity:0;-webkit-transition:opacity .25s ease-out;transition:opacity .25s ease-out}.kanban .kanban-group .unread:hover .gptoolbar{opacity:1}.kanban .kanban-group .unread .title a{color:#195bf7;font-size:14px;text-decoration:none}.kanban .kanban-group .unread .desc,.kanban .kanban-group .unread .refs{margin:5px 0 0;padding-left:10px;color:var(--text-color);font-size:13px;text-align:justify;word-break:break-all;border-left:2px solid #e6e6e6}.kanban .kanban-group .unread .refs{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:5px}.kanban .kanban-group .unread .refs a{color:var(--text-sec-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.kanban .kanban-group .unread .note{margin-top:5px;color:#8f9193;white-space:pre-wrap;word-break:break-all}.kanban .backlink-fields .backlink-field .annote-tags,.kanban .kanban-group .unread .tags{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:5px;color:#195bf7;font-size:12px;font-weight:700}.kanban .backlink-fields .backlink-field .annote-tag,.kanban .kanban-group .unread .tag{margin:5px 5px 5px 0;background:rgba(25,91,247,.1)!important;padding:0 5px;border-radius:3px}.kanban .kanban-group .unread .annotegp{position:relative;display:block;margin-top:5px;padding-left:10px;max-width:100%;color:var(--text-sec-color);text-align:justify;font-weight:400;border-left-width:2}.kanban .kanban-group .unread .annotegp:hover .gptoolbar{top:auto;bottom:-8px;opacity:1}.kanban .kanban-group.max .unread .annotegp:hover .gptoolbar{top:unset;bottom:-5px;opacity:1}.kanban .kanban-group .unread .annotegp .gptoolbar{opacity:0}.kanban .kanban-group .unread .annotegp .annote{text-align:justify;word-break:break-all}.kanban .kanban-group .unread .annotegp img{margin:0 11px 0 0;width:90%;color:var(--text-sec-color);text-align:justify;font-weight:400;border-radius:5px}.kanban .kanban-group .unread .annotegp pre{max-width:100%;white-space:pre-line;word-wrap:break-word}.kanban .backlink-fields .backlink-field{border-left-width:2px!important;border-radius:0!important;border-radius:initial!important}.kanban .backlink-fields .backlink-field .annotegp{font-size:12px;border-radius:0;border-radius:initial}.kanban .backlink-fields .backlink-field .annote-tags{font-size:12px}.kanban .backlink-fields .backlink-field .annote-tag{color:#195bf7!important}.simpread-info-root{position:absolute;top:0;left:0;padding:10px;max-height:600px;width:300px;color:var(--text-color);background-color:var(--force-color);font-size:13px;font-weight:400;box-sizing:border-box;box-shadow:0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12),0 5px 5px -3px rgba(0,0,0,.2);border-radius:2px;-webkit-animation-name:fadeInDown;animation-name:fadeInDown;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-fill-mode:both;animation-fill-mode:both;z-index:2147483647;overflow-x:hidden}.simpread-info-root.offset{top:51px}.simpread-info-root.close{-webkit-animation-name:fadeOutUp;animation-name:fadeOutUp}.simpread-info-group{position:relative;cursor:auto}.simpread-info-group .tags{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap}.simpread-info-group .tags .info-tag{margin-right:10px}.simpread-info-group .titlegp{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;font-weight:700;cursor:pointer;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.simpread-info-group .titlegp .title{all:unset!important}.simpread-info-group .titlegp .icon{all:unset;margin-right:5px;color:var(--text-color)}.simpread-info-group .titlegp .icon i.close{-webkit-transition:all .25s ease-out;transition:all .25s ease-out;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.simpread-info-group .result{margin:0 23px}.simpread-info-group .result .backlink,.simpread-info-group .result .refunreads{margin-bottom:2px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer}.simpread-info-group .result .info-tag{cursor:pointer}.simpread-annote-export-root .export.cur{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.simpread-annote-export-root dialog-content{max-width:650px}.simpread-annote-export-root .export.cur dropdown span{color:var(--text-color);text-align:center!important;border-bottom:1px solid var(--border-color)}.simpread-annote-export-root .annotegp{padding:15px;min-height:230px;background-color:var(--force-color);border-radius:5px}.simpread-annote-export-root .unread,.simpread-annote-export-root .unread .file{padding:15px 0 0}.simpread-annote-export-root .unread .lable{color:var(--text-color)}.simpread-annote-export-root .unread .title a{color:#195bf7;font-size:14px;font-weight:400;text-decoration:none}.simpread-annote-export-root .unread .desc{margin:5px 0 0;padding-left:10px;color:var(--text-color);font-size:13px;text-align:justify;word-break:break-all;border-left:2px solid #e6e6e6}.simpread-annote-export-root .unread .note{margin-top:5px;color:#8f9193;white-space:pre-wrap;word-break:break-all}.simpread-annote-export-root .unread .tags{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-top:5px;color:#195bf7;font-size:12px;font-weight:700}.simpread-annote-export-root .unread .tag{margin:5px 5px 5px 0;background:rgba(25,91,247,.1);padding:0 5px;border-radius:3px}.simpread-annote-export-root .unread .annotegp{position:relative;display:block;margin-top:15px;padding:0 0 0 10px;max-width:100%;min-height:0;color:var(--text-sec-color);text-align:justify;font-weight:400;border-radius:0;border-radius:initial;border-left-width:2}.simpread-annote-export-root .unread .annotegp .annote{color:var(--text-color);text-align:justify;word-break:break-all;font-weight:300;font-size:13px}.simpread-annote-export-root .unread .annotegp img{margin:0 11px 0 0;width:90%;color:var(--text-sec-color);text-align:justify;font-weight:400;border-radius:5px}.simpread-annote-export-root .unread .annotegp pre{max-width:100%;white-space:pre-line;word-wrap:break-word}.simpread-backlinks-root{z-index:2147483645!important}.simpread-backlinks-root:hover{z-index:2147483647!important}.simpread-backlinks-root dialog-gp{width:90%;height:90%}.simpread-backlinks-root dialog-content{height:100%!important;overflow:hidden!important}.simpread-backlinks-root dialog-content,.simpread-backlinks-root dialog-footer{background-color:var(--background-color)!important}.backlinks-gp{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;overflow:hidden;height:100%}.backlinks-gp .backlinks,.backlinks-gp .search-gp{padding:20px 0;width:50%;height:100%}.backlinks-gp .backlinks .empty{height:37px;line-height:37px;color:var(--text-color);font-size:14px}.backlinks-gp .search_result{padding-bottom:20px;height:100%}.backlinks-gp sr-tooltip.addlink{position:absolute!important;right:2px;top:-1px;opacity:0;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.backlinks-gp sr-tooltip.addlink .icon{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-left:5px;width:25px;height:25px;font-size:12px;color:var(--text-color);background-color:var(--force-color);border-radius:50%;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;box-shadow:0 1px 3px 1px rgba(60,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.backlinks-gp .search-gp .search{position:relative}.backlinks-gp .search-gp .search .toolbar{position:absolute!important;right:12px;top:6px;color:var(--text-color);display:-webkit-box;display:-ms-flexbox;display:flex;z-index:200}.backlinks-gp .search-gp .search .toolbar .icon{margin-left:10px}.backlinks-gp .search-gp .search .toolbar .icon.panel{display:none}.backlinks-gp .search-gp .search .toolbar .icon.panel i{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.backlinks-gp .search-gp .search .toolbar .icon.collapse i{-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.backlinks-gp .search-gp .search .toolbar .icon.collapse.close i{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.backlinks-gp .result{position:relative;margin:15px 0}.backlinks-gp .result sr-tooltip.addlink.unread{margin-right:10px}.backlinks-gp .result:hover sr-tooltip.addlink{opacity:1}.backlinks-gp .result .titlegp{margin-bottom:10px}.backlinks-gp .result .titlegp .icon{margin-right:5px;color:var(--text-color)}.backlinks-gp .result .titlegp .icon i.close{-webkit-transition:all .25s ease-out;transition:all .25s ease-out;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.backlinks-gp .result .titlegp .title{color:var(--text-color);width:100%;font-weight:700}.backlinks-gp .result .group .note{margin:0 11px 10px 13px;max-width:100%;color:var(--text-sec-color);text-align:justify;font-weight:400;white-space:pre-wrap}.backlinks-gp .info .tags,.backlinks-gp .result .tags{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;margin-bottom:10px}.backlinks-gp .result .tags{padding-left:10px}.backlinks-gp .info .tags .tag,.backlinks-gp .result .tags .tag{margin-right:5px;padding:0 4px;color:#195bf7;background:rgba(25,91,247,.1);font-weight:700;white-space:nowrap;border-radius:4px}.backlinks-gp .result .group .desc{white-space:pre-wrap;border-left:2px solid var(--text-sec-color)}.backlinks-gp .annotegp,.backlinks-gp .result .group .desc{margin:0 11px 10px 13px;padding-left:10px;max-width:100%;color:var(--text-sec-color);text-align:justify;font-weight:400}.backlinks-gp .annotegp{position:relative;display:block;border-left-width:2}.backlinks-gp .annotegp .addlink{opacity:0!important}.backlinks-gp .annotegp:hover .addlink{opacity:1!important}.backlinks-gp .annotegp .annote{font-weight:700}.backlinks-gp .annotegp .note,.backlinks-gp .result .annotegp .note{margin-left:0;max-width:100%;color:var(--text-sec-color);text-align:justify;white-space:pre-wrap}.backlinks-gp .annotegp img{margin:0 11px 0 13px;width:50%}.backlinks-gp .annotegp img,.backlinks-gp .annotegp pre{color:var(--text-sec-color);text-align:justify;font-weight:400;border-radius:5px}.backlinks-gp .annotegp pre{margin:0;padding:5px;width:90%;max-height:100px;background-color:var(--background-active-color);overflow:hidden}.backlinks-gp .annotegp .tags{margin:5px 0;padding-left:2px}.backlinks-gp .annotegp .tags.child{margin-left:-3px}.backlinks-gp .backlink{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 20px 20px;padding:20px;background-color:var(--force-color);border-radius:6px;border:1px solid hsla(240,3%,79%,.48);box-shadow:0 10px 20px -10px rgba(0,0,0,.1)}.backlinks-gp .backlink sr-tooltip.remove{position:absolute;right:-10px;top:-10px;z-index:200}.backlinks-gp .backlink sr-tooltip.remove .icon{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:25px;height:25px;font-size:12px;color:var(--text-color);background-color:var(--force-color);border-radius:50%;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;box-shadow:0 1px 3px 1px rgba(60,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.backlinks-gp .backlink sr-tooltip.remove .icon.confrim{color:#fff;background-color:var(--confirm-color);-webkit-transform:rotate(1turn);transform:rotate(1turn)}.backlinks-gp .backlink .info{width:100%}.backlinks-gp .backlink .title{margin:0 0 10px;color:var(--text-color);font-size:15px;line-height:1.5em}.backlinks-gp .backlink .desc{display:-webkit-box;margin:0 0 10px;color:var(--text-sec-color);font-size:13px;line-height:1.5em;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.backlinks-gp .backlink a{display:block;padding:0!important;font-size:12px;line-height:1em;color:var(--text-color);border:0!important}.backlinks-gp .backlink img{margin-left:10px;width:65px;border-radius:5px}.backlinks-gp .backlink .annotegp{margin-left:0}.previewgp{position:fixed;left:250px;right:0;height:100%;background-color:var(--force-color);-webkit-transition:all .25s ease-out;transition:all .25s ease-out;pointer-events:none;overflow-x:hidden;z-index:0}.previewgp.open{left:604px;pointer-events:auto}.previewgp.open.mini{left:350px}.previewgp.open.max{left:0!important;z-index:3}.container{width:100%;height:100%;background-color:var(--force-color);-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.container,.container .cover{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.container .add{position:absolute;-webkit-transition:all .5s ease-out;transition:all .5s ease-out;-webkit-transform:translateY(1000px);transform:translateY(1000px);z-index:-1}.container .add.show{-webkit-transform:translateY(0);transform:translateY(0)}.container .cover img{width:300px}.container .cover .label{margin-top:10px;color:var(--text-color);font-size:18px;font-weight:400;-webkit-transition:all .5s ease-out;transition:all .5s ease-out}.container .cover .label.hidden{filter:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="filter"><feGaussianBlur stdDeviation="10" /></filter></svg>#filter\');-webkit-filter:blur(10px);filter:blur(10px)}.container iframe{padding-top:51px}.container .hide,.container iframe{-webkit-transition:all .5s ease-out;transition:all .5s ease-out}.container .hide{-webkit-transform:translateY(-1000px);transform:translateY(-1000px)}.embeder{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden}.embeder,.embeder .mode{width:100%;height:100%}.embeder .tptoolbargp{position:absolute;left:0;top:0;right:22px;z-index:2}.embeder .toolbar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;width:100%;padding:10px;height:30px;background-color:var(--background-color);border-bottom:1px solid var(--border-color);box-sizing:content-box;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;-webkit-animation-name:fadeInDown;animation-name:fadeInDown;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-delay:.5s;animation-delay:.5s}.embeder .toolbar .icon{margin-left:10px}.embeder .toolbar .floating{position:absolute;left:0}.embeder .toolbar .icon.active{color:#fff;background-color:var(--active-color);box-shadow:0 -1px 3px 1px rgba(60,64,67,.15),0 -1px 2px 0 rgba(60,64,67,.3)}.embeder .toolbar .icon.active svg path{fill:#fff}.embeder .toolbar .icon.max.active{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.embeder .toolbar .icon.highlight.active{box-shadow:0 1px 3px 1px rgba(60,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}.embeder .toolbar .icon.remove{-webkit-transform:rotate(135deg);transform:rotate(135deg);box-shadow:1px -1px 3px 1px rgba(60,64,67,.15),0 -1px 2px 0 rgba(60,64,67,.3)}.embeder .toolbar .icon.remove:hover{color:var(--confirm-color)}.embeder .toolbar .icon.delete.active,.embeder .toolbar .icon.remove.active,.embeder .toolbar .icon.remove[data-multiple=true]{color:#fff;background-color:var(--confirm-color);-webkit-transform:rotate(495deg);transform:rotate(495deg)}.embeder .toolbar .icon.delete.active{-webkit-transform:rotate(1turn);transform:rotate(1turn)}.embeder .toolbar .icon.drag.active{background-color:var(--active-color)}.embeder .toolbar .icon.image{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:24px;height:24px;color:#fff;background-size:50%;background-position:50%;background-repeat:no-repeat;border:none}.embeder .toolbar .dropdown{position:absolute;top:51px;right:5px;padding:10px;max-height:600px;color:rgba(51,51,51,.87);background-color:var(--force-color);box-sizing:border-box;box-shadow:0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12),0 5px 5px -3px rgba(0,0,0,.2);border-radius:2px;-webkit-animation-name:fadeInDown;animation-name:fadeInDown;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.embeder .toolbar .dropdown.close{-webkit-animation-name:fadeOutUp;animation-name:fadeOutUp}.embeder .toolbar .dropdown switch content span{font-size:12px!important}.embeder .toolbar .dropdown switch switch-rang{-webkit-transform:scale(.6);transform:scale(.6)}.embeder .toolbar .dropdown .group{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.embeder .toolbar .dropdown .group,.embeder .toolbar .dropdown .group .namelogo{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.embeder .toolbar .dropdown .group .namelogo{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:8px 8px 0;width:20px;min-width:20px;height:20px;color:#fff;font-size:10px;background-size:50%;background-position:50%;background-repeat:no-repeat;border-radius:4px}.embeder .toolbar .dropdowngp{position:fixed;top:0;left:-5000px;right:0;bottom:-5000px;z-index:-1;cursor:pointer}.embeder .toolbar .dropdown content{color:var(--text-color)}.btmtoolbargp{position:absolute;bottom:10px;left:0;right:0;height:50px;opacity:0;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.btmtoolbargp.active,.btmtoolbargp:hover{opacity:1}.btmtoolbargp .btmtoolbar{margin:10px;border-radius:4px}.btmtoolbargp .btmtoolbar,.btmtoolbargp .btmtoolbar .tab{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.btmtoolbargp .btmtoolbar .tab{padding:5px 35px;font-size:12px;font-weight:700;text-overflow:ellipsis;white-space:nowrap;color:var(--text-color);background-color:var(--background-color);border:1px solid #caccce;-webkit-transition:all 1s cubic-bezier(.23,1,.32,1) 0ms;transition:all 1s cubic-bezier(.23,1,.32,1) 0ms;overflow:hidden;cursor:pointer}.btmtoolbargp .btmtoolbar .tab.active{background-color:var(--background-active-color)}.btmtoolbargp .btmtoolbar .tab[data-disable=false]:hover{background-color:var(--background-hover-color)}.btmtoolbargp .btmtoolbar .tab i{margin-right:5px}.btmtoolbargp .btmtoolbar .tab[data-disable=true]{cursor:no-drop}.btmtoolbargp .btmtoolbar .tab:nth-child(1){border-right:none;border-top-left-radius:4px;border-bottom-left-radius:4px}.btmtoolbargp .btmtoolbar .tab:nth-child(3),.btmtoolbargp .btmtoolbar .tab:nth-child(4){border-left:none}.btmtoolbargp .btmtoolbar .tab:nth-child(5){border-left:none;border-top-right-radius:4px;border-bottom-right-radius:4px}.embeder .annotegp{margin-top:50px;width:100%;height:100%;color:var(--text-color);background-color:var(--force-color);-webkit-transition:all .25s ease-out;transition:all .25s ease-out;overflow:hidden}.embeder .annotegp .annote{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start;padding:15px 5% 10%;-webkit-animation-name:fadeInUp;animation-name:fadeInUp;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both}.embeder .annote .title{margin-bottom:15px;width:100%;line-height:1.35;color:inherit;font-size:32px;font-size:3.2rem;font-weight:500}.embeder .annote .desc{margin:0 0 15px;padding-left:10px;width:100%;color:var(--text-sec-color);font-size:15px;font-weight:400;border-left:2px solid var(--text-sec-color)}.embeder .annote .info{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:15px}.embeder .annote .info .host{margin-left:5px}.embeder .annote .note{margin-bottom:15px;font-size:15px;font-weight:400;white-space:pre-wrap}.embeder .annote .note i{margin-right:5px}.backlink-fields .backlink-fields{width:100%}.backlink-fields .backlink-field,.backlink-fields .backlink-field[data-border=show]{margin:0 0 10px!important;padding:10px 10px 0!important;border-radius:4px;border-left:5px solid var(--border-color)}.backlink-fields .backlink-field sr-tooltip.refslinks{opacity:0;-webkit-transition:all .45s cubic-bezier(.23,1,.32,1) 0ms;transition:all .45s cubic-bezier(.23,1,.32,1) 0ms}.backlink-fields .backlink-field:hover sr-tooltip.refslinks{opacity:1}.backlink-fields .backlink-field sr-tooltip.refslinks .icon.refslinks{width:12px;height:12px}.backlink-fields .backlink-field .annotegp{position:relative;display:block;margin:0 0 10px;padding-left:10px;max-width:100%;height:auto;color:var(--text-sec-color);text-align:justify;font-weight:400;border-radius:4px}.annote .annote-field .backlink-field .annote{margin:0;height:auto}.backlink-fields .backlink-field .annote-tags,.backlink-fields .backlink-field .note{padding-bottom:5px}.backlink-fields .backlink-field .desc{margin-bottom:5px}.backlink-fields .backlink-field .annote{margin:0;padding:0 0 10px!important;height:auto}.backlink-fields .backlink-field .link a{color:var(--text-sec-color)}.embeder .annote .dividers{margin:0;width:100%;border-bottom:1px solid #eaeaea}.embeder .annote .dividers.group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:none}.embeder .annote .dividers.group .line{width:100%;border-top:1px solid #eaeaea}.embeder .annote .dividers.group .text{margin:0 10px;color:var(--text-color);background-color:var(--background-active-color);min-width:150px;text-align:center;border-radius:16px}.embeder .annote .refs{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin:10px 10px 10px 0;padding:0 0 0 10px;border-radius:4px;border-left:5px solid var(--border-color)}.embeder .annote .refs a{margin-right:5px;color:var(--text-sec-color);font-size:14px;font-weight:400!important}.embeder .annote .annote-refs a i,.embeder .annote .refs a i{opacity:0;-webkit-transition:all .45s cubic-bezier(.23,1,.32,1) 0ms;transition:all .45s cubic-bezier(.23,1,.32,1) 0ms}.embeder .annote .annote-refs a:hover i,.embeder .annote .refs a:hover i{opacity:1}.embeder .annote .annote-tags{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;margin:0;padding:0 0 15px}.embeder .annote .annote-tags .annote-tag{margin-right:5px;padding:4px 12px;color:var(--text-color);background-color:var(--background-active-color);height:22px;line-height:22px;font-size:8.75px;font-size:.875rem;font-weight:400;white-space:nowrap;border-radius:16px;outline:none;cursor:pointer;overflow:hidden;border-bottom:1px dotted;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.embeder .annote .annote-tags .annote-tag,.embeder .annote .empty{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.embeder .annote .empty{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:100%}.embeder .annote .empty img{width:300px}.embeder .annote .empty .label{margin-top:30px;font-weight:400}.embeder .annote .annote-fields{width:100%}.backlink-fields .backlink-field,.embeder .annote .annote-field{position:relative;display:block;margin:15px 0;padding:0 15px;width:100%;color:var(--text-color);font-size:15px;border-radius:4px;-webkit-transition:all .45s cubic-bezier(.23,1,.32,1) 0ms;transition:all .45s cubic-bezier(.23,1,.32,1) 0ms;overflow:visible;overflow:initial}.backlink-fields .backlink-field:hover,.embeder .annote .annote-field:hover{background-color:var(--force-color);box-shadow:var(--box-shadow);cursor:pointer}.backlink-fields .backlink-field{padding:0!important;border-left:none}.backlink-fields .backlink-field:hover{box-shadow:none!important}.embeder .annote .annote-field .annotegp{margin-bottom:5px!important;padding-bottom:0!important}.backlink-fields .backlink-field .annote,.backlink-fields .backlink-field .annote-tags,.backlink-fields .backlink-field .backlink-title,.backlink-fields .backlink-field .desc,.backlink-fields .backlink-field .note{padding-bottom:5px!important}.backlink-fields .backlink-field .note{margin-bottom:0}.backlink-fields .backlink-field .link{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:5px;font-size:12px}.backlink-fields .backlink-field img{margin:0 0 5px;box-shadow:none}.backlink-fields .backlink-field .desc{margin-bottom:0}.backlink-fields .backlink-field .link a{font-weight:400}.embeder .annote .annote-field:hover .actionbar{opacity:1}.embeder .annote .annote-field:hover img{box-shadow:none}.embeder .annote:nth-child(1) .annote-field{margin-top:15px}.embeder .annote .annote-field:last-child{margin-bottom:50px}.embeder .annote .annote-field[data-color-type="0"]{display:none!important}.backlink-fields .backlink-field .annote-tags .annote-tag,.embeder .annote .annote-field .annote-tags .annote-tag{padding-left:0;padding-right:4px;color:var(--text-sec-color);background-color:transparent;border-radius:0;border-radius:initial;-webkit-transition:all .45s cubic-bezier(.23,1,.32,1) 0ms;transition:all .45s cubic-bezier(.23,1,.32,1) 0ms}.embeder .annote .annote-field .annote-tags .annote-tag.active{padding-left:4px;color:#fff;background-color:var(--active-color);border-radius:4px}.embeder .annote .annote-create{padding-top:15px;color:var(--text-sec-color);font-size:12px}.embeder .annote .annote-content{padding:15px 15px 15px 0;font-size:16px;font-weight:400;text-align:justify}.embeder .annote .annote-note,.embeder .annote .annote-refs{padding-bottom:15px;color:var(--text-sec-color);font-size:11px;font-weight:400;white-space:pre-wrap}.embeder .annote .annote-refs a{color:var(--text-sec-color)!important;font-weight:400!important}.embeder .annote .annote-field p{margin:0;padding:0}.backlink-fields .backlink-field ol,.embeder .annote .annote-field ol,.kanban .annote ol,.simpread-panel .annote ol,.treenotes .annote ol{margin-top:0;margin-bottom:0}.backlink-fields .backlink-field ol ul,.embeder .annote .annote-field ol ul,.kanban .annote ol ul,.simpread-panel .annote ol ul,.treenotes .annote ol ul{padding-left:0}.backlink-fields .backlink-field ul,.embeder .annote .annote-field ul,.kanban .annote ul,.simpread-panel .annote ul,.treenotes .annote ul{margin:0 0 10px;padding-left:20px}.backlink-fields .backlink-field img,.embeder .annote .annote-field img,.kanban .annote img,.simpread-panel .annote img,.treenotes .annote img{margin:15px 0;padding:0;max-height:500px;max-width:100%;background:#fff;border:0;border-radius:6px;box-shadow:0 20px 20px -10px rgba(0,0,0,.1)}.backlink-fields .backlink-field a,.embeder .annote .annote-field a,.kanban .annote a,.simpread-panel .annote a,.treenotes .annote a{color:var(--text-color);font-weight:700}.backlink-fields .backlink-field pre,.embeder .annote .annote-field pre,.kanban .annote pre,.simpread-panel .annote pre,.treenotes .annote pre{margin:0;padding:0;background-color:transparent!important}.embeder .annote .annote-field .actionbar{position:absolute;bottom:0;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:5px;opacity:0}.embeder .annote .annote-field .actionbar.show{opacity:1}.backlink-fields .backlink-field .icon.refslinks,.embeder .annote .annote-field .actionbar .icon{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:10px;width:38px;height:38px;font-size:12px;color:var(--text-color);background-color:var(--force-color);border-radius:50%;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.backlink-fields .backlink-field .icon.refslinks:hover,.embeder .annote .annote-field .actionbar .icon:hover{background-color:var(--background-active-color)}.embeder .annote .annote-field .actionbar .icon.remove.active{color:var(--confirm-color);opacity:1;-webkit-transform:rotate(270deg);transform:rotate(270deg)}.embeder .annote .annote-field .actionbar .icon.show{opacity:1;background-color:var(--background-active-color)}.embeder .annote .annote-field .actionbar .icon.select.active{opacity:1!important;background-color:var(--active-color);color:#fff}.annote-field.gu-mirror{-webkit-transform:rotate(1deg);transform:rotate(1deg);cursor:pointer}.annote-field.gu-mirror .actionbar{opacity:0}.annote-field.gu-mirror img{max-height:200px;max-width:60%}kbd-mapping{position:fixed;left:5px;bottom:5px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-ms-flex-flow:row;flex-flow:row;width:250px;height:500px;color:var(--text-color);background-color:var(--background-color);border:1px solid hsla(0,0%,62%,.22);box-shadow:0 2px 5px rgba(0,0,0,.26);border-radius:3px;z-index:2000}kbd-mapping.open{-webkit-animation-name:fadeInUp;animation-name:fadeInUp;-webkit-animation-fill-mode:both;animation-fill-mode:both}kbd-mapping.hide,kbd-mapping.open{-webkit-animation-duration:1s;animation-duration:1s}kbd-mapping.hide{-webkit-animation-name:fadeOutDown;animation-name:fadeOutDown;-webkit-animation-fill-mode:both;animation-fill-mode:both}.kbd-maps{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin:40px 0 0;width:100%;overflow-x:auto}kbd-mapping kbd-map-title{position:absolute;margin:5px 0;width:100%;text-align:center;font-size:14px;font-weight:700}kbd-maps-group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}kbd-maps-title{margin:5px 0;padding-left:53px;font-size:12px;font-weight:700}kbd-map{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:2px}kbd-map kbd{display:inline-block;padding:3px 5px;color:var(--text-color);background-color:var(--background-color);font-size:11px;line-height:10px;vertical-align:middle;border:1px solid #c6cbd1;border-bottom-color:#959da5;border-radius:3px;box-shadow:inset 0 -1px 0 #959da5}kbd-map kbd-name{display:inline-block;text-align:right;width:75px}kbd-map kbd-desc{padding-left:3px;font-size:11px}sr-collections{display:block;width:480px}sr-collections-gp{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-bottom:25px}sr-collections-gp auto-complete{height:45px!important}sr-collections-gp auto-complete list-view{margin-bottom:25px!important}sr-collections-gp .label a{font-weight:700;color:#4285f4;text-decoration:none}sr-collections-label{color:rgba(0,137,123,.8);font-size:14px;font-weight:700;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:all .45s cubic-bezier(.23,1,.32,1) 0ms;transition:all .45s cubic-bezier(.23,1,.32,1) 0ms;-webkit-transform:scale(.75) translateY(-8px);transform:scale(.75) translateY(-8px);-webkit-transform-origin:left top 0;transform-origin:left top 0}sr-collections-desc{position:relative;padding:0 30px;font-size:15px;text-align:justify;color:#555;line-height:1.6}.embeder .annote[data-type=collection] .origin{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.embeder .annote[data-type=collection] .annote-field:last-child{margin-bottom:0}.embeder .annote[data-type=collection] .annote-group{padding:15px;border-radius:4px;-webkit-transition:all .45s cubic-bezier(.23,1,.32,1) 0ms;transition:all .45s cubic-bezier(.23,1,.32,1) 0ms}.embeder .annote .annote-group:hover{background-color:var(--force-color);box-shadow:var(--box-shadow)}.embeder .annote .annote-group:hover .annote-field{box-shadow:none!important}.embeder .annote[data-type=collection] .annote-group:last-child{margin-bottom:50px}.embeder .annote[data-type=collection] .annote-group .origin img.favicon{margin:0 5px 0 0;min-height:16px!important;width:16px!important;border-radius:3px;box-shadow:none;border-bottom:2px solid transparent}.embeder .annote[data-type=collection] .annote-group .origin .subtitle{color:inherit;font-size:11px;font-weight:400;text-decoration:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;height:23px;border-bottom:2px solid transparent;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}.embeder .annote[data-type=collection] .annote-group .origin .subtitle:hover{border-bottom:2px solid var(--background-active-color)}.hamburger{display:inline-block;overflow:visible;margin:0;padding:15px;border:0;background-color:transparent;color:inherit;text-transform:none;font:inherit;cursor:pointer;-webkit-transition-timing-function:linear;transition-timing-function:linear;-webkit-transition-duration:.15s;transition-duration:.15s;-webkit-transition-property:opacity,-webkit-filter;transition-property:opacity,-webkit-filter;transition-property:opacity,filter;transition-property:opacity,filter,-webkit-filter;-webkit-transform:scale(.5);transform:scale(.5)}.hamburger-box{position:relative;display:inline-block;width:40px;height:24px}.hamburger-inner{top:50%;display:block;margin-top:-2px}.hamburger-inner:after,.hamburger-inner:before{display:block;content:""}.hamburger-inner:before{top:-10px}.hamburger-inner:after{bottom:-10px}.hamburger-inner,.hamburger-inner:after,.hamburger-inner:before{position:absolute;width:40px;height:4px;border-radius:4px;background-color:#fff;-webkit-transition-timing-function:ease;transition-timing-function:ease;-webkit-transition-duration:.15s;transition-duration:.15s;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.hamburger--squeeze .hamburger-inner{-webkit-transition-timing-function:cubic-bezier(.55,.055,.675,.19);transition-timing-function:cubic-bezier(.55,.055,.675,.19);-webkit-transition-duration:75ms;transition-duration:75ms}.hamburger--squeeze .hamburger-inner:before{-webkit-transition:top 75ms ease .12s,opacity 75ms ease;transition:top 75ms ease .12s,opacity 75ms ease}.hamburger--squeeze .hamburger-inner:after{-webkit-transition:bottom 75ms ease .12s,-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19);transition:bottom 75ms ease .12s,-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19);transition:bottom 75ms ease .12s,transform 75ms cubic-bezier(.55,.055,.675,.19);transition:bottom 75ms ease .12s,transform 75ms cubic-bezier(.55,.055,.675,.19),-webkit-transform 75ms cubic-bezier(.55,.055,.675,.19)}.hamburger--squeeze.is-active .hamburger-inner{-webkit-transition-delay:.12s;transition-delay:.12s;-webkit-transition-timing-function:cubic-bezier(.215,.61,.355,1);transition-timing-function:cubic-bezier(.215,.61,.355,1);-webkit-transform:rotate(45deg);transform:rotate(45deg)}.hamburger--squeeze.is-active .hamburger-inner:before{top:0;opacity:0;-webkit-transition:top 75ms ease,opacity 75ms ease .12s;transition:top 75ms ease,opacity 75ms ease .12s}.hamburger--squeeze.is-active .hamburger-inner:after{bottom:0;-webkit-transition:bottom 75ms ease,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) .12s;transition:bottom 75ms ease,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) .12s;transition:bottom 75ms ease,transform 75ms cubic-bezier(.215,.61,.355,1) .12s;transition:bottom 75ms ease,transform 75ms cubic-bezier(.215,.61,.355,1) .12s,-webkit-transform 75ms cubic-bezier(.215,.61,.355,1) .12s;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.hamburger--arrow.is-active .hamburger-inner:before{-webkit-transform:translate3d(-8px,0,0) rotate(-45deg) scaleX(.7);transform:translate3d(-8px,0,0) rotate(-45deg) scaleX(.7)}.hamburger--arrow.is-active .hamburger-inner:after{-webkit-transform:translate3d(-8px,0,0) rotate(45deg) scaleX(.7);transform:translate3d(-8px,0,0) rotate(45deg) scaleX(.7)}.trigger{position:fixed;bottom:15px;left:30px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;z-index:200;-webkit-animation-name:fadeInUp;animation-name:fadeInUp;-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-delay:.5s;animation-delay:.5s;z-index:2000000}.trigger:hover .setting,.trigger:hover .windows{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}.trigger .icon{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 0 15px;padding:0;color:#fff;background-color:#f44336;border-radius:50%;cursor:pointer;box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2);z-index:2;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transition:all .45s ease 0ms;transition:all .45s ease 0ms}.trigger .return{width:56px;height:56px;line-height:56px}.trigger .setting,.trigger .windows{width:40px;height:40px;line-height:40px;font-size:12px;background-color:rgba(245,82,70,.8);opacity:0;-webkit-transform:translateY(65px);transform:translateY(65px);z-index:-1}.trigger .windows{-webkit-transform:translateY(130px);transform:translateY(130px)}.simpread-unreader-setting-root dialog-footer{margin-top:20px}sr-unreader-gp{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;min-height:45px}sr-unreader-gp[type=themes]{-ms-flex-flow:wrap;flex-flow:wrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}sr-unreader-gp sr-unreader-label{width:100%;color:var(--text-color);font-size:14px;font-weight:400}sr-unreader-gp dropdown{min-width:100px;color:var(--text-color)}sr-unreader-gp dropdown list-field{color:var(--text-color);background-color:var(--background-color)!important}sr-unreader-gp switch content{color:var(--text-color)}sr-unreader-gp sr-unreader-lock{position:absolute;left:0;top:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:100%;background-color:var(--background-color)!important;opacity:.5;z-index:1}sr-unreader-gp sr-unreader-lock svg{cursor:pointer}sr-unreader-gp a{color:var(--text-color);text-decoration:none;font-weight:700}sr-unreader-gp .lab{margin:10px 0 5px;color:var(--text-color);text-align:left;font-size:14px;font-weight:400}sr-unreader-gp .subtitle{width:100%;color:var(--text-color)}sr-unreader-gp .group{padding-top:10px}sr-unreader-theme{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:5px 5px 5px 0;cursor:pointer}sr-unreader-style-item{display:block;width:30px;height:22px}sr-unreader-style-item:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}sr-unreader-style-item:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px}sr-unreader-style{display:-webkit-box;display:-ms-flexbox;display:flex;margin-left:10px}sr-unreader-select{display:block;margin:0 5px;width:12px;height:12px;color:var(--text-color)}sr-sharelink-div{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 0 18px;width:100%;font-size:15px}sr-sharelink-div i{margin-bottom:5px;font-size:20px}sr-sharelink-span{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin:0 0 18px;width:100%;font-size:15px}sr-sharelink-i,sr-sharelink-span{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}sr-sharelink-i{margin-left:5px;padding:10px;width:25px;height:25px;color:var(--text-color);background-color:var(--force-color);border-radius:50%;cursor:pointer;-webkit-transition:all .25s ease-out;transition:all .25s ease-out;box-shadow:0 1px 3px 1px rgba(60,64,67,.15),0 1px 2px 0 rgba(60,64,67,.3)}sr-sharelink-i:hover{color:var(--active-color)}sr-sharelink-i i{margin:0;font-size:12px}.simpread-sharelink-popup-root dialog-footer state-button svg-state{position:relative}.simpread-sharelink-popup-root dialog-footer state-button svg.special{position:absolute!important;top:-48px!important;left:-86px!important}.simpread-mindmap-root dialog-gp{width:80%;height:80%}.simpread-mindmap-root .mindmap{width:100%;height:100%;background-color:#fff}.simpread-mindmap-root dialog-content{height:100%;padding-top:0!important;padding-left:0!important;padding-right:0!important}.simpread-mindmap-root iframe{border:0}dialog-gp{background-color:var(--background-color)!important;-webkit-transition:all .25s ease-out;transition:all .25s ease-out}dialog-gp dialog-footer a:not(:first-child) button-text,dialog-gp sr-annote-popup-desc:before,dialog-gp sr-annote-popup-label,dialog-gp sr-collections-label,dialog-gp text-field-float{color:var(--active-color)!important}dialog-gp auto-complete input,dialog-gp dropdown span,dialog-gp sr-annote-popup-desc,dialog-gp sr-anote-item,dialog-gp sr-sharelink-gp,dialog-gp switch content,dialog-gp switch subtitle,dialog-gp text-field input,dialog-gp text-field textarea,sr-unreader-gp{color:var(--text-color)!important}dialog-gp auto-complete tag,dialog-gp list-view{background-color:var(--background-hover-color)!important}dialog-gp auto-complete tag,dialog-gp list-field{color:var(--text-color)!important}dialog-gp list-field{background-color:var(--background-color)!important}dialog-gp list-field:hover,dialog-gp list-field[active=true]{background-color:var(--background-hover-color)!important}dialog-gp text-field-state{border-top:none var(--active-color)!important;border-left:none var(--active-color)!important;border-right:none var(--active-color)!important;border-bottom:2px solid var(--active-color)!important}',""]);
},588:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,".hljs{display:block;overflow-x:auto;padding:.5em;background:#f0f0f0}.hljs,.hljs-subst{color:#444}.hljs-comment{color:#888}.hljs-attribute,.hljs-doctag,.hljs-keyword,.hljs-meta-keyword,.hljs-name,.hljs-selector-tag{font-weight:700}.hljs-deletion,.hljs-number,.hljs-quote,.hljs-selector-class,.hljs-selector-id,.hljs-string,.hljs-template-tag,.hljs-type{color:#800}.hljs-section,.hljs-title{color:#800;font-weight:700}.hljs-link,.hljs-regexp,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-symbol,.hljs-template-variable,.hljs-variable{color:#bc6060}.hljs-literal{color:#78a960}.hljs-addition,.hljs-built_in,.hljs-bullet,.hljs-code{color:#397300}.hljs-meta{color:#1f7199}.hljs-meta-string{color:#4d99bf}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}",""])},593:function(e,t,n){t=e.exports=n(5)(),t.push([e.id,":root{--sr-unreader-theme:none;--background-color:#f9f8f4;--background-active-color:#e8e4d7;--background-hover-color:#f1efe9;--border-color:#e9e8e4;--force-color:#fff;--text-color:#4f4f4d;--text-sec-color:#8f9193;--box-shadow:0 10px 20px 0 rgba(168,182,191,.6);--active-color:#3498db;--confirm-color:#f44336}",""])},682:function(e,t,n){var o=n(586);"string"==typeof o&&(o=[[e.id,o,""]]),n(8)(o,{}),o.locals&&(e.exports=o.locals)},684:function(e,t,n){var o=n(588);"string"==typeof o&&(o=[[e.id,o,""]]),n(8)(o,{}),o.locals&&(e.exports=o.locals)}});